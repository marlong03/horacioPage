"use strict";(self.webpackChunkhoracioPage=self.webpackChunkhoracioPage||[]).push([[179],{852:(Dp,ub,Ep)=>{var qa={};function je(t){return"function"==typeof t}function Ip(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}Ep.r(qa),Ep.d(qa,{FirebaseError:()=>bi,SDK_VERSION:()=>Rh,_DEFAULT_ENTRY_NAME:()=>Di,_addComponent:()=>Ph,_addOrOverwriteComponent:()=>qM,_apps:()=>Ei,_clearComponents:()=>f8,_components:()=>au,_getProvider:()=>GM,_registerComponent:()=>Io,_removeServiceInstance:()=>h8,deleteApp:()=>zM,getApp:()=>m8,getApps:()=>y8,initializeApp:()=>D_,onLog:()=>WM,registerVersion:()=>_r,setLogLevel:()=>KM});const xp=Ip(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Sp(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Sn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(je(r))try{r()}catch(o){e=o instanceof xp?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{hb(o)}catch(s){e=e??[],s instanceof xp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new xp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)hb(e);else{if(e instanceof Sn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Sp(n,e)}remove(e){const{_finalizers:n}=this;n&&Sp(n,e),e instanceof Sn&&e._removeParent(this)}}Sn.EMPTY=(()=>{const t=new Sn;return t.closed=!0,t})();const lb=Sn.EMPTY;function db(t){return t instanceof Sn||t&&"closed"in t&&je(t.remove)&&je(t.add)&&je(t.unsubscribe)}function hb(t){je(t)?t():t.unsubscribe()}const Zi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Nl={setTimeout(t,e,...n){const{delegate:r}=Nl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Nl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fb(t){Nl.setTimeout(()=>{const{onUnhandledError:e}=Zi;if(!e)throw t;e(t)})}function pb(){}const Ak=Tp("C",void 0,void 0);function Tp(t,e,n){return{kind:t,value:e,error:n}}let Xi=null;function Pl(t){if(Zi.useDeprecatedSynchronousErrorHandling){const e=!Xi;if(e&&(Xi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Xi;if(Xi=null,n)throw r}}else t()}class Mp extends Sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,db(e)&&e.add(this)):this.destination=Lk}static create(e,n,r){return new Ga(e,n,r)}next(e){this.isStopped?Op(function Nk(t){return Tp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Op(function Ok(t){return Tp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Op(Ak,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rk=Function.prototype.bind;function Ap(t,e){return Rk.call(t,e)}class kk{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Rl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Rl(r)}else Rl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rl(n)}}}class Ga extends Mp{constructor(e,n,r){let i;if(super(),je(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Zi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ap(e.next,o),error:e.error&&Ap(e.error,o),complete:e.complete&&Ap(e.complete,o)}):i=e}this.destination=new kk(i)}}function Rl(t){Zi.useDeprecatedSynchronousErrorHandling?function Pk(t){Zi.useDeprecatedSynchronousErrorHandling&&Xi&&(Xi.errorThrown=!0,Xi.error=t)}(t):fb(t)}function Op(t,e){const{onStoppedNotification:n}=Zi;n&&Nl.setTimeout(()=>n(t,e))}const Lk={closed:!0,next:pb,error:function Fk(t){throw t},complete:pb},Np="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ji(t){return t}function gb(t){return 0===t.length?Ji:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ot=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Uk(t){return t&&t instanceof Mp||function Bk(t){return t&&je(t.next)&&je(t.error)&&je(t.complete)}(t)&&db(t)}(n)?n:new Ga(n,r,i);return Pl(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=mb(r))((i,o)=>{const s=new Ga({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Np](){return this}pipe(...n){return gb(n)(this)}toPromise(n){return new(n=mb(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function mb(t){var e;return null!==(e=t??Zi.Promise)&&void 0!==e?e:Promise}const jk=Ip(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Or=(()=>{class t extends ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new yb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jk}next(n){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?lb:(this.currentObservers=null,o.push(n),new Sn(()=>{this.currentObservers=null,Sp(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ot;return n.source=this,n}}return t.create=(e,n)=>new yb(e,n),t})();class yb extends Or{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:lb}}function _b(t){return je(t?.lift)}function vt(t){return e=>{if(_b(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(t,e,n,r,i){return new $k(t,e,n,r,i)}class $k extends Mp{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function de(t,e){return vt((n,r)=>{let i=0;n.subscribe(ft(r,o=>{r.next(t.call(e,o,i++))}))})}function eo(t){return this instanceof eo?(this.v=t,this):new eo(t)}function Gk(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof eo?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function zk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function bb(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}const Cb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Db(t){return je(t?.then)}function Eb(t){return je(t[Np])}function Ib(t){return Symbol.asyncIterator&&je(t?.[Symbol.asyncIterator])}function xb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Sb=function Kk(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Tb(t){return je(t?.[Sb])}function Mb(t){return Gk(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield eo(n.read());if(i)return yield eo(void 0);yield yield eo(r)}}finally{n.releaseLock()}})}function Ab(t){return je(t?.getReader)}function Tn(t){if(t instanceof ot)return t;if(null!=t){if(Eb(t))return function Qk(t){return new ot(e=>{const n=t[Np]();if(je(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Cb(t))return function Yk(t){return new ot(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Db(t))return function Zk(t){return new ot(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fb)})}(t);if(Ib(t))return Ob(t);if(Tb(t))return function Xk(t){return new ot(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Ab(t))return function Jk(t){return Ob(Mb(t))}(t)}throw xb(t)}function Ob(t){return new ot(e=>{(function eF(t,e){var n,r,i,o;return function Hk(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=zk(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Nr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Et(t,e,n=1/0){return je(e)?Et((r,i)=>de((o,s)=>e(r,o,i,s))(Tn(t(r,i))),n):("number"==typeof e&&(n=e),vt((r,i)=>function tF(t,e,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{o&&e.next(g),u++;let m=!1;Tn(n(g,l++)).subscribe(ft(e,D=>{i?.(D),o?f(D):e.next(D)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){const D=c.shift();s?Nr(e,s,()=>p(D)):p(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ss(t=1/0){return Et(Ji,t)}const rr=new ot(t=>t.complete());function Rp(t){return t[t.length-1]}function Nb(t){return je(Rp(t))?t.pop():void 0}function za(t){return function rF(t){return t&&je(t.schedule)}(Rp(t))?t.pop():void 0}function Pb(t,e=0){return vt((n,r)=>{n.subscribe(ft(r,i=>Nr(r,t,()=>r.next(i),e),()=>Nr(r,t,()=>r.complete(),e),i=>Nr(r,t,()=>r.error(i),e)))})}function Rb(t,e=0){return vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kb(t,e){if(!t)throw new Error("Iterable cannot be null");return new ot(n=>{Nr(n,e,()=>{const r=t[Symbol.asyncIterator]();Nr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function st(t,e){return e?function lF(t,e){if(null!=t){if(Eb(t))return function oF(t,e){return Tn(t).pipe(Rb(e),Pb(e))}(t,e);if(Cb(t))return function aF(t,e){return new ot(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Db(t))return function sF(t,e){return Tn(t).pipe(Rb(e),Pb(e))}(t,e);if(Ib(t))return kb(t,e);if(Tb(t))return function cF(t,e){return new ot(n=>{let r;return Nr(n,e,()=>{r=t[Sb](),Nr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>je(r?.return)&&r.return()})}(t,e);if(Ab(t))return function uF(t,e){return kb(Mb(t),e)}(t,e)}throw xb(t)}(t,e):Tn(t)}function kp(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ga({next:()=>{r.unsubscribe(),t()}});return Tn(e(...n)).subscribe(r)}function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function Fp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Te(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Te).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Lp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const fF=Se({__forward_ref__:Se});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return Te(this())},t}function W(t){return Vp(t)?t():t}function Vp(t){return"function"==typeof t&&t.hasOwnProperty(fF)&&t.__forward_ref__===Me}function Bp(t){return t&&!!t.\u0275providers}const Fb="https://g.co/ng/security#xss";class M extends Error{constructor(e,n){super(function kl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Fl(t,e){throw new M(-201,!1)}function Mn(t,e){null==t&&function be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ll(t){return Lb(t,Vl)||Lb(t,Bb)}function Lb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Vb(t){return t&&(t.hasOwnProperty(Up)||t.hasOwnProperty(CF))?t[Up]:null}const Vl=Se({\u0275prov:Se}),Up=Se({\u0275inj:Se}),Bb=Se({ngInjectableDef:Se}),CF=Se({ngInjectorDef:Se});var Q=(()=>((Q=Q||{})[Q.Default=0]="Default",Q[Q.Host=1]="Host",Q[Q.Self=2]="Self",Q[Q.SkipSelf=4]="SkipSelf",Q[Q.Optional=8]="Optional",Q))();let jp;function An(t){const e=jp;return jp=t,e}function Ub(t,e,n){const r=Ll(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Q.Optional?null:void 0!==e?e:void Fl(Te(t))}const Ae=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wa={},$p="__NG_DI_FLAG__",Bl="ngTempTokenPath",IF=/\n/gm,jb="__source";let Ka;function as(t){const e=Ka;return Ka=t,e}function SF(t,e=Q.Default){if(void 0===Ka)throw new M(-203,!1);return null===Ka?Ub(t,void 0,e):Ka.get(t,e&Q.Optional?null:void 0,e)}function q(t,e=Q.Default){return(function DF(){return jp}()||SF)(W(t),e)}function pe(t,e=Q.Default){return q(t,Ul(e))}function Ul(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hp(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let i,o=Q.Default;for(let s=0;s<r.length;s++){const a=r[s],c=TF(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function Qa(t,e){return t[$p]=e,t.prototype[$p]=e,t}function TF(t){return t[$p]}function li(t){return{toString:t}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),ir=(()=>{return(t=ir||(ir={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ir;var t})();const Pr={},ve=[],jl=Se({\u0275cmp:Se}),qp=Se({\u0275dir:Se}),Gp=Se({\u0275pipe:Se}),Hb=Se({\u0275mod:Se}),Rr=Se({\u0275fac:Se}),Ya=Se({__NG_ELEMENT_ID__:Se});let OF=0;function qt(t){return li(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ir.Emulated,id:"c"+OF++,styles:t.styles||ve,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=t.dependencies,s=t.features;return i.inputs=zb(t.inputs,r),i.outputs=zb(t.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(qb).filter(Gb):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Gt).filter(Gb):null,i})}function qb(t){return Ce(t)||Rt(t)}function Gb(t){return null!==t}function or(t){return li(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zb(t,e){if(null==t)return Pr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Z=qt;function Ce(t){return t[jl]||null}function Rt(t){return t[qp]||null}function Gt(t){return t[Gp]||null}function gn(t,e){const n=t[Hb]||null;if(!n&&!0===e)throw new Error(`Type ${Te(t)} does not have '\u0275mod' property.`);return n}function mn(t){return Array.isArray(t)&&"object"==typeof t[1]}function $n(t){return Array.isArray(t)&&!0===t[1]}function Kp(t){return 0!=(4&t.flags)}function ec(t){return t.componentOffset>-1}function zl(t){return 1==(1&t.flags)}function Hn(t){return null!==t.template}function RF(t){return 0!=(256&t[2])}function no(t,e){return t.hasOwnProperty(Rr)?t[Rr]:null}class LF{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return Xb}function Xb(t){return t.type.prototype.ngOnChanges&&(t.setInput=BF),VF}function VF(){const t=eC(this),e=t?.current;if(e){const n=t.previous;if(n===Pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function BF(t,e,n,r){const i=this.declaredInputs[n],o=eC(t)||function UF(t,e){return t[Jb]=e}(t,{previous:Pr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new LF(c&&c.currentValue,e,a===Pr),t[r]=e}On.ngInherit=!0;const Jb="__ngSimpleChanges__";function eC(t){return t[Jb]||null}function It(t){for(;Array.isArray(t);)t=t[0];return t}function Wl(t,e){return It(e[t])}function yn(t,e){return It(e[t.index])}function rC(t,e){return t.data[e]}function _n(t,e){const n=e[t];return mn(n)?n:n[0]}function Kl(t){return 64==(64&t[2])}function di(t,e){return null==e?null:t[e]}function iC(t){t[18]=0}function Yp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const te={lFrame:pC(null),bindingsEnabled:!0};function sC(){return te.bindingsEnabled}function I(){return te.lFrame.lView}function ge(){return te.lFrame.tView}function xt(){let t=aC();for(;null!==t&&64===t.type;)t=t.parent;return t}function aC(){return te.lFrame.currentTNode}function ar(t,e){const n=te.lFrame;n.currentTNode=t,n.isParent=e}function Zp(){return te.lFrame.isParent}function ps(){return te.lFrame.bindingIndex++}function tL(t,e){const n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jp(e)}function Jp(t){te.lFrame.currentDirectiveIndex=t}function tg(t){te.lFrame.currentQueryIndex=t}function rL(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function hC(t,e,n){if(n&Q.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Q.Host||(i=rL(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=te.lFrame=fC();return r.currentTNode=e,r.lView=t,!0}function ng(t){const e=fC(),n=t[1];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fC(){const t=te.lFrame,e=null===t?null:t.child;return null===e?pC(t):e}function pC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function gC(){const t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const mC=gC;function rg(){const t=gC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kt(){return te.lFrame.selectedIndex}function ro(t){te.lFrame.selectedIndex=t}function $e(){const t=te.lFrame;return rC(t.tView,t.selectedIndex)}function Ql(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-n,c),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Yl(t,e,n){yC(t,e,3,n)}function Zl(t,e,n,r){(3&t[2])===n&&yC(t,e,n,r)}function ig(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function yC(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[18]+=65536),(a<o||-1==o)&&(hL(t,n,e,c),t[18]=(4294901760&t[18])+c+2),c++}function hL(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class nc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sg(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];vC(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function _C(t){return 3===t||4===t||6===t}function vC(t){return 64===t.charCodeAt(0)}function rc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||wC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function wC(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function bC(t){return-1!==t}function Xl(t){return 32767&t}function Jl(t,e){let n=function mL(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let ag=!0;function ed(t){const e=ag;return ag=t,e}let yL=0;const cr={};function td(t,e){const n=EC(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,cg(r.data,t),cg(e,null),cg(r.blueprint,null));const i=ug(t,e),o=t.injectorIndex;if(bC(i)){const s=Xl(i),a=Jl(i,e),c=a[1].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function cg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function EC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ug(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=OC(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function lg(t,e,n){!function _L(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ya)&&(r=n[Ya]),null==r&&(r=n[Ya]=yL++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function IC(t,e,n){if(n&Q.Optional||void 0!==t)return t;Fl()}function xC(t,e,n,r){if(n&Q.Optional&&void 0===r&&(r=null),!(n&(Q.Self|Q.Host))){const i=t[9],o=An(void 0);try{return i?i.get(e,r,n&Q.Optional):Ub(e,r,n&Q.Optional)}finally{An(o)}}return IC(r,0,n)}function SC(t,e,n,r=Q.Default,i){if(null!==t){if(1024&e[2]){const s=function DL(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=TC(o,s,n,r|Q.Self,cr);if(a!==cr)return a;let c=o.parent;if(!c){const u=s[21];if(u){const l=u.get(n,cr,r);if(l!==cr)return l}c=OC(s),s=s[15]}o=c}return i}(t,e,n,r,cr);if(s!==cr)return s}const o=TC(t,e,n,r,cr);if(o!==cr)return o}return xC(e,n,r,i)}function TC(t,e,n,r,i){const o=function bL(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ya)?t[Ya]:void 0;return"number"==typeof e?e>=0?255&e:CL:e}(n);if("function"==typeof o){if(!hC(e,t,r))return r&Q.Host?IC(i,0,r):xC(e,n,r,i);try{const s=o(r);if(null!=s||r&Q.Optional)return s;Fl()}finally{mC()}}else if("number"==typeof o){let s=null,a=EC(t,e),c=-1,u=r&Q.Host?e[16][6]:null;for((-1===a||r&Q.SkipSelf)&&(c=-1===a?ug(t,e):e[a+8],-1!==c&&AC(r,!1)?(s=e[1],a=Xl(c),e=Jl(c,e)):a=-1);-1!==a;){const l=e[1];if(MC(o,a,l.data)){const d=wL(a,e,n,s,r,u);if(d!==cr)return d}c=e[a+8],-1!==c&&AC(r,e[1].data[a+8]===u)&&MC(o,a,e)?(s=l,a=Xl(c),e=Jl(c,e)):a=-1}}return i}function wL(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],l=function nd(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=s[c];if(f&&Hn(f)&&f.type===n)return c}return null}(a,s,n,null==r?ec(a)&&ag:r!=s&&0!=(3&a.type),i&Q.Host&&o===a);return null!==l?io(e,s,l,a):cr}function io(t,e,n,r){let i=t[n];const o=e.data;if(function fL(t){return t instanceof nc}(i)){const s=i;s.resolving&&function pF(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,`Circular dependency in DI detected for ${t}${n}`)}(function we(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(o[n]));const a=ed(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?An(s.injectImpl):null;hC(t,r,Q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function dL(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Xb(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&An(c),ed(a),s.resolving=!1,mC()}}return i}function MC(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function AC(t,e){return!(t&Q.Self||t&Q.Host&&e)}class ms{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return SC(this._tNode,this._lView,e,Ul(r),n)}}function CL(){return new ms(xt(),I())}function St(t){return li(()=>{const e=t.prototype.constructor,n=e[Rr]||dg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Rr]||dg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dg(t){return Vp(t)?()=>{const e=dg(W(t));return e&&e()}:no(t)}function OC(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const _s="__parameters__";function ws(t,e,n){return li(()=>{const r=function hg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(_s)?c[_s]:Object.defineProperty(c,_s,{value:[]})[_s];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class H{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oo(t,e){t.forEach(n=>Array.isArray(n)?oo(n,e):e(n))}function PC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function id(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vn(t,e,n){let r=bs(t,e);return r>=0?t[1|r]=n:(r=~r,function SL(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pg(t,e){const n=bs(t,e);if(n>=0)return t[1|n]}function bs(t,e){return function RC(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const ac=Qa(ws("Optional"),8),cc=Qa(ws("SkipSelf"),4);var an=(()=>((an=an||{})[an.Important=1]="Important",an[an.DashCase=2]="DashCase",an))();const wg=new Map;let QL=0;const Cg="__ngContext__";function Lt(t,e){mn(e)?(t[Cg]=e[20],function ZL(t){wg.set(t[20],t)}(e)):t[Cg]=e}function Eg(t,e){return undefined(t,e)}function hc(t){const e=t[3];return $n(e)?e[3]:e}function Ig(t){return eD(t[13])}function xg(t){return eD(t[4])}function eD(t){for(;null!==t&&!$n(t);)t=t[4];return t}function Ds(t,e,n,r,i){if(null!=r){let o,s=!1;$n(r)?o=r:mn(r)&&(s=!0,r=r[0]);const a=It(r);0===t&&null!==n?null==i?sD(e,n,a):so(e,n,a,i||null,!0):1===t&&null!==n?so(e,n,a,i||null,!0):2===t?function Pg(t,e,n){const r=cd(t,e);r&&function yV(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function wV(t,e,n,r,i){const o=n[7];o!==It(n)&&Ds(e,t,r,o,i);for(let a=10;a<n.length;a++){const c=n[a];fc(c[1],c,t,e,r,o)}}(e,t,o,n,i)}}function Tg(t,e,n){return t.createElement(e,n)}function nD(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Yp(i,-1)),n.splice(r,1)}function Mg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&nD(i,r),e>0&&(t[n-1][4]=r[4]);const o=id(t,10+e);!function uV(t,e){fc(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function rD(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&fc(t,e,n,3,null,null),function hV(t){let e=t[13];if(!e)return Ag(t[1],t);for(;e;){let n=null;if(mn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)mn(e)&&Ag(e[1],e),e=e[3];null===e&&(e=t),mn(e)&&Ag(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ag(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function mV(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof nc)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function gV(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&$n(e[3])){n!==e[3]&&nD(n,e);const r=e[19];null!==r&&r.detachView(t)}!function XL(t){wg.delete(t[20])}(e)}}function iD(t,e,n){return function oD(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===ir.None||o===ir.Emulated)return null}return yn(r,n)}}(t,e.parent,n)}function so(t,e,n,r,i){t.insertBefore(e,n,r,i)}function sD(t,e,n){t.appendChild(e,n)}function aD(t,e,n,r,i){null!==r?so(t,e,n,r,i):sD(t,e,n)}function cd(t,e){return t.parentNode(e)}let Fg,hd,lD=function uD(t,e,n){return 40&t.type?yn(t,n):null};function ud(t,e,n,r){const i=iD(t,r,e),o=e[11],a=function cD(t,e,n){return lD(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)aD(o,i,n[c],a,!1);else aD(o,i,n,a,!1)}function ld(t,e){if(null!==e){const n=e.type;if(3&n)return yn(e,t);if(4&n)return Ng(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ld(t,r);{const i=t[e.index];return $n(i)?Ng(-1,i):It(i)}}if(32&n)return Eg(e,t)()||It(t[e.index]);{const r=hD(t,e);return null!==r?Array.isArray(r)?r[0]:ld(hc(t[16]),r):ld(t,e.next)}}return null}function hD(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ng(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return ld(r,i)}return e[7]}function Rg(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Lt(It(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Rg(t,e,n.child,r,i,o,!1),Ds(e,t,i,a,o);else if(32&c){const u=Eg(n,r);let l;for(;l=u();)Ds(e,t,i,l,o);Ds(e,t,i,a,o)}else 16&c?fD(t,e,r,n,i,o):Ds(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fc(t,e,n,r,i,o){Rg(n,r,t.firstChild,e,i,o,!1)}function fD(t,e,n,r,i,o){const s=n[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Ds(e,t,i,c[u],o);else Rg(t,e,c,s[3],i,o,!0)}function pD(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function gD(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&sg(t,e,r),null!==i&&pD(t,e,i),null!==o&&function CV(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function vD(t){return function Lg(){if(void 0===hd&&(hd=null,Ae.trustedTypes))try{hd=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hd}()?.createScriptURL(t)||t}class wD{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fb})`}}function hi(t){return t instanceof wD?t.changingThisBreaksApplicationSecurity:t}function pc(t,e){const n=function NV(t){return t instanceof wD&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Fb})`)}return n===e}const FV=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var at=(()=>((at=at||{})[at.NONE=0]="NONE",at[at.HTML=1]="HTML",at[at.STYLE=2]="STYLE",at[at.SCRIPT=3]="SCRIPT",at[at.URL=4]="URL",at[at.RESOURCE_URL=5]="RESOURCE_URL",at))();function Br(t){const e=mc();return e?e.sanitize(at.URL,t)||"":pc(t,"URL")?hi(t):function Vg(t){return(t=String(t)).match(FV)?t:"unsafe:"+t}(ee(t))}function SD(t){const e=mc();if(e)return vD(e.sanitize(at.RESOURCE_URL,t)||"");if(pc(t,"ResourceURL"))return vD(hi(t));throw new M(904,!1)}function mc(){const t=I();return t&&t[12]}const pd=new H("ENVIRONMENT_INITIALIZER"),MD=new H("INJECTOR",-1),AD=new H("INJECTOR_DEF_TYPES");class OD{get(e,n=Wa){if(n===Wa){const r=new Error(`NullInjectorError: No provider for ${Te(e)}!`);throw r.name="NullInjectorError",r}return n}}function QV(...t){return{\u0275providers:ND(0,t),\u0275fromNgModule:!0}}function ND(t,...e){const n=[],r=new Set;let i;return oo(e,o=>{const s=o;$g(s,n,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&PD(i,n),n}function PD(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Hg(i,o=>{e.push(o)})}}function $g(t,e,n,r){if(!(t=W(t)))return!1;let i=null,o=Vb(t);const s=!o&&Ce(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=Vb(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)$g(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{oo(o.imports,l=>{$g(l,e,n,r)&&(u||(u=[]),u.push(l))})}finally{}void 0!==u&&PD(u,e)}if(!a){const u=no(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:ve},{provide:AD,useValue:i,multi:!0},{provide:pd,useValue:()=>q(i),multi:!0})}const c=o.providers;null==c||a||Hg(c,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Hg(t,e){for(let n of t)Bp(n)&&(n=n.\u0275providers),Array.isArray(n)?Hg(n,e):e(n)}const YV=Se({provide:String,useValue:Se});function qg(t){return null!==t&&"object"==typeof t&&YV in t}function co(t){return"function"==typeof t}const Gg=new H("Set Injector scope."),gd={},XV={};let zg;function md(){return void 0===zg&&(zg=new OD),zg}class Ur{}class FD extends Ur{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kg(e,s=>this.processProvider(s)),this.records.set(MD,Es(void 0,this)),i.has("environment")&&this.records.set(Ur,Es(void 0,this));const o=this.records.get(Gg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(AD.multi,ve,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=as(this),r=An(void 0);try{return e()}finally{as(n),An(r)}}get(e,n=Wa,r=Q.Default){this.assertNotDestroyed(),r=Ul(r);const i=as(this),o=An(void 0);try{if(!(r&Q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function r2(t){return"function"==typeof t||"object"==typeof t&&t instanceof H}(e)&&Ll(e);a=c&&this.injectableDefInScope(c)?Es(Wg(e),gd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Q.Self?md():this.parent).get(e,n=r&Q.Optional&&n===Wa?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Bl]=s[Bl]||[]).unshift(Te(e)),i)throw s;return function MF(t,e,n,r){const i=t[Bl];throw e[jb]&&i.unshift(e[jb]),t.message=function AF(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Te(e);if(Array.isArray(e))i=e.map(Te).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Te(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(IF,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Bl]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{An(o),as(i)}}resolveInjectorInitializers(){const e=as(this),n=An(void 0);try{const r=this.get(pd.multi,ve,Q.Self);for(const i of r)i()}finally{as(e),An(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Te(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){let n=co(e=W(e))?e:W(e&&e.provide);const r=function e2(t){return qg(t)?Es(void 0,t.useValue):Es(LD(t),gd)}(e);if(co(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Es(void 0,gd,!0),i.factory=()=>Hp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===gd&&(n.value=XV,n.value=n.factory()),"object"==typeof n.value&&n.value&&function n2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Wg(t){const e=Ll(t),n=null!==e?e.factory:no(t);if(null!==n)return n;if(t instanceof H)throw new M(204,!1);if(t instanceof Function)return function JV(t){const e=t.length;if(e>0)throw function sc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new M(204,!1);const n=function wF(t){const e=t&&(t[Vl]||t[Bb]);if(e){const n=function bF(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new M(204,!1)}function LD(t,e,n){let r;if(co(t)){const i=W(t);return no(i)||Wg(i)}if(qg(t))r=()=>W(t.useValue);else if(function kD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Hp(t.deps||[]));else if(function RD(t){return!(!t||!t.useExisting)}(t))r=()=>q(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function t2(t){return!!t.deps}(t))return no(i)||Wg(i);r=()=>new i(...Hp(t.deps))}return r}function Es(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Kg(t,e){for(const n of t)Array.isArray(n)?Kg(n,e):n&&Bp(n)?Kg(n.\u0275providers,e):e(n)}class i2{}class VD{}class s2{resolveComponentFactory(e){throw function o2(t){const e=Error(`No component factory found for ${Te(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let yc=(()=>{class t{}return t.NULL=new s2,t})();function a2(){return Is(xt(),I())}function Is(t,e){return new wn(yn(t,e))}let wn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=a2,t})();class UD{}let jr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function u2(){const t=I(),n=_n(xt().index,t);return(mn(n)?n:t)[11]}(),t})(),l2=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>null}),t})();class _c{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const d2=new _c("15.1.4"),Qg={};function Zg(t){return t.ngOriginalError}class xs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zg(e);for(;n&&Zg(n);)n=Zg(n);return n||null}}function $r(t){return t instanceof Function?t():t}function $D(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const HD="ng-template";function C2(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==$D(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function qD(t){return 4===t.type&&t.value!==HD}function D2(t,e,n){return e===(4!==t.type||n?t.value:HD)}function E2(t,e,n){let r=4;const i=t.attrs||[],o=function S2(t){for(let e=0;e<t.length;e++)if(_C(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!D2(t,c,n)||""===c&&1===e.length){if(qn(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!C2(t.attrs,u,n)){if(qn(r))return!1;s=!0}continue}const d=I2(8&r?"class":c,i,qD(t),n);if(-1===d){if(qn(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==$D(f,u,0)||2&r&&u!==h){if(qn(r))return!1;s=!0}}}}else{if(!s&&!qn(r)&&!qn(c))return!1;if(s&&qn(c))continue;s=!1,r=c|1&r}}return qn(r)||s}function qn(t){return 0==(1&t)}function I2(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function T2(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function GD(t,e,n=!1){for(let r=0;r<e.length;r++)if(E2(t,e[r],n))return!0;return!1}function zD(t,e){return t?":not("+e.trim()+")":e}function A2(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!qn(s)&&(e+=zD(o,i),i=""),r=s,o=o||!qn(r);n++}return""!==i&&(e+=zD(o,i)),e}const ne={};function ze(t){WD(ge(),I(),Kt()+t,!1)}function WD(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&Yl(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Zl(e,o,0,n)}ro(n)}function ZD(t,e=null,n=null,r){const i=XD(t,e,n,r);return i.resolveInjectorInitializers(),i}function XD(t,e=null,n=null,r,i=new Set){const o=[n||ve,QV(t)];return r=r||("object"==typeof t?void 0:Te(t)),new FD(o,e||md(),r||null,i)}let Gn=(()=>{class t{static create(n,r){if(Array.isArray(n))return ZD({name:""},r,n,"");{const i=n.name??"";return ZD({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Wa,t.NULL=new OD,t.\u0275prov=K({token:t,providedIn:"any",factory:()=>q(MD)}),t.__NG_ELEMENT_ID__=-1,t})();function S(t,e=Q.Default){const n=I();return null===n?q(t,e):SC(xt(),n,W(t),e)}function sE(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];tg(n[r]),s.contentQueries(2,e[o],o)}}}function _d(t,e,n,r,i,o,s,a,c,u,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),iC(d),d[3]=d[15]=t,d[8]=n,d[10]=s||t&&t[10],d[11]=a||t&&t[11],d[12]=c||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=o,d[20]=function YL(){return QL++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Ms(t,e,n,r,i){let o=t.data[e];if(null===o)o=function nm(t,e,n,r,i){const o=aC(),s=Zp(),c=t.data[e]=function nB(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(t,e,n,r,i),function eL(){return te.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function tc(){const t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ar(o,!0),o}function vc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function rm(t,e,n){ng(e);try{const r=t.viewQuery;null!==r&&fm(1,r,n);const i=t.template;null!==i&&aE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sE(t,e),t.staticViewQueries&&fm(2,t.viewQuery,n);const o=t.components;null!==o&&function J2(t,e){for(let n=0;n<e.length;n++)bB(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,rg()}}function vd(t,e,n,r){const i=e[2];if(128!=(128&i)){ng(e);try{iC(e),function uC(t){return te.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&aE(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Yl(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Zl(e,u,0,null),ig(e,0)}if(function vB(t){for(let e=Ig(t);null!==e;e=xg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||Yp(i[3],1),i[2]|=512}}}(e),function _B(t){for(let e=Ig(t);null!==e;e=xg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Kl(r)&&vd(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&sE(t,e),s){const u=t.contentCheckHooks;null!==u&&Yl(e,u)}else{const u=t.contentHooks;null!==u&&Zl(e,u,1),ig(e,1)}!function Z2(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ro(~i);else{const o=i,s=n[++r],a=n[++r];tL(s,o),a(2,e[o])}}}finally{ro(-1)}}(t,e);const a=t.components;null!==a&&function X2(t,e){for(let n=0;n<e.length;n++)wB(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&fm(2,c,r),s){const u=t.viewCheckHooks;null!==u&&Yl(e,u)}else{const u=t.viewHooks;null!==u&&Zl(e,u,2),ig(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Yp(e[3],-1))}finally{rg()}}}function aE(t,e,n,r,i){const o=Kt(),s=2&r;try{ro(-1),s&&e.length>22&&WD(t,e,22,!1),n(r,i)}finally{ro(o)}}function im(t,e,n){if(Kp(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function om(t,e,n){sC()&&(function cB(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;ec(n)&&function gB(t,e,n){const r=yn(e,t),i=cE(n),o=t[10],s=wd(t,_d(t,i,null,n.onPush?32:16,r,e,o,o.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||td(n,e),Lt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],u=io(e,t,a,n);Lt(u,e),null!==s&&mB(0,a-i,u,c,0,s),Hn(c)&&(_n(n.index,e)[8]=io(e,t,a,n))}}(t,e,n,yn(n,e)),64==(64&n.flags)&&pE(t,e,n))}function sm(t,e,n=yn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function cE(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=am(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function am(t,e,n,r,i,o,s,a,c,u){const l=22+r,d=l+i,h=function eB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ne);return n}(l,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function lE(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?dE(n,e,i,o):r.hasOwnProperty(i)&&dE(n,e,r[i],o)}return n}function dE(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function bn(t,e,n,r,i,o,s,a){const c=yn(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(pm(t,n,l,r,i),ec(e)&&hE(n,e.index)):3&e.type&&(r=function iB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function hE(t,e){const n=_n(e,t);16&n[2]||(n[2]|=32)}function cm(t,e,n,r){let i=!1;if(sC()){const o=null===r?null:{"":-1},s=function lB(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(GD(e,s.selectors,!1))if(r||(r=[]),Hn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),um(t,e,a.length)}else r.unshift(s),um(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&(i=!0,fE(t,e,n,a,o,c)),o&&function dB(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new M(-301,!1);r.push(e[i],o)}}}(n,r,o)}return n.mergedAttrs=rc(n.mergedAttrs,n.attrs),i}function fE(t,e,n,r,i,o){for(let u=0;u<r.length;u++)lg(td(n,e),t,r[u].type);!function fB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=vc(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=rc(n.mergedAttrs,l.hostAttrs),pB(t,n,e,c,l),hB(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function rB(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;c=lE(d.inputs,l,c,h?h.inputs:null),u=lE(d.outputs,l,u,p);const g=null===c||null===s||qD(e)?null:yB(c,l,s);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,o)}function pE(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function nL(){return te.lFrame.currentDirectiveIndex}();try{ro(o);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];Jp(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&uB(c,u)}}finally{ro(-1),Jp(s)}}function uB(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function um(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function hB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Hn(e)&&(n[""]=t)}}function pB(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=no(i.type)),s=new nc(o,Hn(i),S);t.blueprint[r]=s,n[r]=s,function sB(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function aB(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,vc(t,n,i.hostVars,ne),i)}function ur(t,e,n,r,i,o){const s=yn(t,e);!function lm(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?ee(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],s,o,t.value,n,r,i)}function mB(t,e,n,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const u=s[c++],l=s[c++],d=s[c++];null!==a?r.setInput(n,d,u,l):n[l]=d}}}function yB(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function gE(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function wB(t,e){const n=_n(e,t);if(Kl(n)){const r=n[1];48&n[2]?vd(r,n,r.template,n[8]):n[5]>0&&dm(n)}}function dm(t){for(let r=Ig(t);null!==r;r=xg(r))for(let i=10;i<r.length;i++){const o=r[i];if(Kl(o))if(512&o[2]){const s=o[1];vd(s,o,s.template,o[8])}else o[5]>0&&dm(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=_n(n[r],t);Kl(i)&&i[5]>0&&dm(i)}}function bB(t,e){const n=_n(e,t),r=n[1];(function CB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),rm(r,n,n[8])}function wd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function hm(t){for(;t;){t[2]|=32;const e=hc(t);if(RF(t)&&!e)return t;t=e}return null}function bd(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{vd(t,e,t.template,n)}catch(s){throw r&&vE(e,s),s}finally{i.end&&i.end()}}function fm(t,e,n){tg(0),e(t,n)}function mE(t){return t[7]||(t[7]=[])}function yE(t){return t.cleanup||(t.cleanup=[])}function vE(t,e){const n=t[9],r=n?n.get(xs,null):null;r&&r.handleError(e)}function pm(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Cd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Lp(i,a):2==o&&(r=Lp(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Dd(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(It(o)),$n(o))for(let a=10;a<o.length;a++){const c=o[a],u=c[1].firstChild;null!==u&&Dd(c[1],c,u,r)}const s=n.type;if(8&s)Dd(t,e,n.child,r);else if(32&s){const a=Eg(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=hD(e,n);if(Array.isArray(a))r.push(...a);else{const c=hc(e[16]);Dd(c[1],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class wc{get rootNodes(){const e=this._lView,n=e[1];return Dd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if($n(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Mg(e,r),id(n,r))}this._attachedToViewContainer=!1}rD(this._lView[1],this._lView)}onDestroy(e){!function uE(t,e,n,r){const i=mE(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&yE(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){hm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){bd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dV(t,e){fc(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e}}class DB extends wc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;bd(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class wE extends yc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ce(e);return new bc(n,this.ngModule)}}function bE(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class IB{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ul(r);const i=this.injector.get(e,Qg,r);return i!==Qg||n===Qg?i:this.parentInjector.get(e,n,r)}}class bc extends VD{get inputs(){return bE(this.componentDef.inputs)}get outputs(){return bE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function O2(t){return t.map(A2).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Ur?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new IB(e,o):e,a=s.get(UD,null);if(null===a)throw new M(407,!1);const c=s.get(l2,null),u=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function tB(t,e,n){return t.selectRootElement(e,n===ir.ShadowDom)}(u,r,this.componentDef.encapsulation):Tg(u,l,function EB(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=am(0,null,null,1,0,null,null,null,null,null),p=_d(null,f,null,h,null,null,a,u,c,s,null);let g,m;ng(p);try{const D=this.componentDef;let x,y=null;D.findHostDirectiveDefs?(x=[],y=new Map,D.findHostDirectiveDefs(D,x,y),x.push(D)):x=[D];const A=function SB(t,e){const n=t[1];return t[22]=e,Ms(n,22,2,"#host",null)}(p,d),V=function TB(t,e,n,r,i,o,s,a){const c=i[1];!function MB(t,e,n,r){for(const i of t)e.mergedAttrs=rc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Cd(e,e.mergedAttrs,!0),null!==n&&gD(r,n,e))}(r,t,e,s);const u=o.createRenderer(e,n),l=_d(i,cE(n),null,n.onPush?32:16,i[t.index],t,o,u,a||null,null,null);return c.firstCreatePass&&um(c,t,r.length-1),wd(i,l),i[t.index]=l}(A,d,D,x,p,a,u);m=rC(f,22),d&&function OB(t,e,n,r){if(r)sg(t,n,["ng-version",d2.full]);else{const{attrs:i,classes:o}=function N2(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!qn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&sg(t,n,i),o&&o.length>0&&pD(t,n,o.join(" "))}}(u,D,d,r),void 0!==n&&function NB(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(m,this.ngContentSelectors,n),g=function AB(t,e,n,r,i,o){const s=xt(),a=i[1],c=yn(s,i);fE(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Lt(io(i,a,s.directiveStart+l,s),i);pE(a,i,s),c&&Lt(c,i);const u=io(i,a,s.directiveStart+s.componentOffset,s);if(t[8]=i[8]=u,null!==o)for(const l of o)l(u,e);return im(a,s,t),u}(V,D,x,y,p,[PB]),rm(f,p,null)}finally{rg()}return new xB(this.componentType,g,Is(m,p),p,m)}}class xB extends i2{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new DB(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;pm(o[1],o,i,e,n),hE(o,this._tNode.index)}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function PB(){const t=xt();Ql(I()[1],t)}function De(t){let e=function CE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Hn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=gm(t.inputs),s.declaredInputs=gm(t.declaredInputs),s.outputs=gm(t.outputs);const a=i.hostBindings;a&&LB(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&kB(t,c),u&&FB(t,u),Fp(t.inputs,i.inputs),Fp(t.declaredInputs,i.declaredInputs),Fp(t.outputs,i.outputs),Hn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===De&&(n=!1)}}e=Object.getPrototypeOf(e)}!function RB(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=rc(i.hostAttrs,n=rc(n,i.hostAttrs))}}(r)}function gm(t){return t===Pr?{}:t===ve?[]:t}function kB(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function FB(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function LB(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Ed=null;function uo(){if(!Ed){const t=Ae.Symbol;if(t&&t.iterator)Ed=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ed=r)}}}return Ed}function Id(t){return!!function mm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&uo()in t)}function Vt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function dr(t,e,n,r){const i=I();return Vt(i,ps(),e)&&(ge(),ur($e(),i,t,e,n,r)),dr}function Os(t,e,n,r){return Vt(t,ps(),n)?e+ee(n)+r:ne}function Dc(t,e,n,r,i,o,s,a){const c=I(),u=ge(),l=t+22,d=u.firstCreatePass?function WB(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Ms(e,t,4,s||null,di(u,a));cm(e,n,l,di(u,c)),Ql(e,l);const d=l.tViews=am(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];ar(d,!1);const h=c[11].createComment("");ud(u,c,h,d),Lt(h,c),wd(c,c[l]=gE(h,c,h,d)),zl(d)&&om(u,c,d),null!=s&&sm(c,d,a)}function zn(t,e,n){const r=I();return Vt(r,ps(),e)&&bn(ge(),$e(),r,t,e,r[11],n,!1),zn}function ym(t,e,n,r,i){const s=i?"class":"style";pm(t,n,e.inputs[s],s,r)}function v(t,e,n,r){const i=I(),o=ge(),s=22+t,a=i[11],c=i[s]=Tg(a,e,function lL(){return te.lFrame.currentNamespace}()),u=o.firstCreatePass?function YB(t,e,n,r,i,o,s){const a=e.consts,u=Ms(e,t,2,i,di(a,o));return cm(e,n,u,di(a,s)),null!==u.attrs&&Cd(u,u.attrs,!1),null!==u.mergedAttrs&&Cd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];return ar(u,!0),gD(a,c,u),32!=(32&u.flags)&&ud(o,i,c,u),0===function zF(){return te.lFrame.elementDepthCount}()&&Lt(c,i),function WF(){te.lFrame.elementDepthCount++}(),zl(u)&&(om(o,i,u),im(o,u,i)),null!==r&&sm(i,u),v}function C(){let t=xt();Zp()?function Xp(){te.lFrame.isParent=!1}():(t=t.parent,ar(t,!1));const e=t;!function KF(){te.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(Ql(n,t),Kp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function pL(t){return 0!=(8&t.flags)}(e)&&ym(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function gL(t){return 0!=(16&t.flags)}(e)&&ym(n,e,I(),e.stylesWithoutHost,!1),C}function L(t,e,n,r){return v(t,e,n,r),C(),L}function Ec(t){return!!t&&"function"==typeof t.then}const wm=function FE(t){return!!t&&"function"==typeof t.subscribe};function ie(t,e,n,r){const i=I(),o=ge(),s=xt();return function VE(t,e,n,r,i,o,s){const a=zl(r),u=t.firstCreatePass&&yE(t),l=e[8],d=mE(e);let h=!0;if(3&r.type||s){const g=yn(r,e),m=s?s(g):g,D=d.length,x=s?A=>s(It(A[r.index])):r.index;let y=null;if(!s&&a&&(y=function JB(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=UE(r,e,l,o,!1);const A=n.listen(m,i,o);d.push(o,A),u&&u.push(i,x,D,D+1)}}else o=UE(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const V=e[p[m]][p[m+1]].subscribe(o),j=d.length;d.push(o,V),u&&u.push(i,r.index,j,-(j+1))}}}(o,i,i[11],s,t,e,r),ie}function BE(t,e,n,r){try{return!1!==n(r)}catch(i){return vE(t,i),!1}}function UE(t,e,n,r,i){return function o(s){if(s===Function)return r;hm(t.componentOffset>-1?_n(t.index,e):e);let c=BE(e,0,r,s),u=o.__ngNextListenerFn__;for(;u;)c=BE(e,0,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function fi(t,e,n){return Sd(t,"",e,"",n),fi}function Sd(t,e,n,r,i){const o=I(),s=Os(o,e,n,r);return s!==ne&&bn(ge(),$e(),o,t,s,o[11],i,!1),Sd}function Td(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function bm(t){return 2|t}function ho(t){return(131068&t)>>2}function Cm(t,e){return-131069&t|e<<2}function Dm(t){return 1|t}function QE(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?pi(o):ho(o),c=!1;for(;0!==a&&(!1===c||s);){const l=t[a+1];uU(t[a],e)&&(c=!0,t[a+1]=r?Dm(l):bm(l)),a=r?pi(l):ho(l)}c&&(t[n+1]=r?bm(o):Dm(o))}function uU(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bs(t,e)>=0}function Ic(t,e,n){return Wn(t,e,n,!1),Ic}function Md(t,e){return Wn(t,e,null,!0),Md}function Wn(t,e,n,r){const i=I(),o=ge(),s=function Lr(t){const e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function rI(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Kt()],s=function nI(t,e){return e>=t.expandoStartIndex}(t,n);(function aI(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function _U(t,e,n,r){const i=function eg(t){const e=te.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=xc(n=Em(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Em(i,t,e,n,r),null===o){let c=function vU(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ho(r))return t[pi(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Em(null,t,e,c[1],r),c=xc(c,e.attrs,r),function wU(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function bU(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=xc(r,t[o].hostAttrs,n);return xc(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function aU(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=pi(s),c=ho(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||bs(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=pi(t[a+1]);t[r+1]=Td(h,a),0!==h&&(t[h+1]=Cm(t[h+1],r)),t[a+1]=function oU(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Td(a,0),0!==a&&(t[a+1]=Cm(t[a+1],r)),a=r;else t[r+1]=Td(c,0),0===a?a=r:t[c+1]=Cm(t[c+1],r),c=r;u&&(t[r+1]=bm(t[r+1])),QE(t,l,r,!0),QE(t,l,r,!1),function cU(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&bs(o,e)>=0&&(n[r+1]=Dm(n[r+1]))}(e,l,t,r,o),s=Td(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==ne&&Vt(i,s,e)&&function oI(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function sU(t){return 1==(1&t)}(u)?sI(c,e,n,i,ho(u),s):void 0;Ad(l)||(Ad(o)||function iU(t){return 2==(2&t)}(u)&&(o=sI(c,null,n,i,a,s)),function bV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:an.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=an.Important),t.setStyle(n,r,i,o))}}(r,s,Wl(Kt(),n),i,o))}(o,o.data[Kt()],i,i[11],t,i[s+1]=function EU(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Te(hi(t)))),t}(e,n),r,s)}function Em(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=xc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function xc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,s,!!n||e[++o]))}return void 0===t?null:t}function sI(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===ne&&(h=d?ve:void 0);let f=d?pg(h,r):l===r?h:void 0;if(u&&!Ad(f)&&(f=pg(c,r)),Ad(f)&&(a=f,s))return a;const p=t[i+1];i=s?pi(p):ho(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=pg(c,r))}return a}function Ad(t){return void 0!==t}function N(t,e=""){const n=I(),r=ge(),i=t+22,o=r.firstCreatePass?Ms(r,i,1,e,null):r.data[i],s=n[i]=function Sg(t,e){return t.createText(e)}(n[11],e);ud(r,n,s,o),ar(o,!1)}function Us(t){return Im("",t,""),Us}function Im(t,e,n){const r=I(),i=Os(r,t,e,n);return i!==ne&&function Hr(t,e,n){const r=Wl(e,t);!function tD(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Kt(),i),Im}const $s="en-US";let MI=$s;function Tm(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let o=0;o<t.length;o++)Tm(t[o],e,n,r,i);else{const o=ge(),s=I();let a=co(t)?t:W(t.provide),c=LD(t);const u=xt(),l=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(co(t)||!t.multi){const f=new nc(c,i,S),p=Am(a,e,i?l:l+h,d);-1===p?(lg(td(u,s),o,a),Mm(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=Am(a,e,l+h,d),p=Am(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){lg(td(u,s),o,a);const D=function $j(t,e,n,r,i){const o=new nc(t,n,S);return o.multi=[],o.index=e,o.componentProviders=0,ex(o,i,r&&!n),o}(i?jj:Uj,n.length,i,r,c);!i&&m&&(n[p].providerFactory=D),Mm(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(D),s.push(D)}else Mm(o,t,f>-1?f:p,ex(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Mm(t,e,n,r){const i=co(e),o=function ZV(t){return!!t.useClass}(e);if(i||o){const c=(o?W(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function ex(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Am(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uj(t,e,n,r){return Om(this.multi,[])}function jj(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=io(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),Om(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Om(i,o);return o}function Om(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Bj(t,e,n){const r=ge();if(r.firstCreatePass){const i=Hn(t);Tm(n,r.data,r.blueprint,i,!0),Tm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Hs{}class tx{}class nx extends Hs{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wE(this);const r=gn(e);this._bootstrapComponents=$r(r.bootstrap),this._r3Injector=XD(e,n,[{provide:Hs,useValue:this},{provide:yc,useValue:this.componentFactoryResolver}],Te(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Nm extends tx{constructor(e){super(),this.moduleType=e}create(e){return new nx(this.moduleType,e)}}class qj extends Hs{constructor(e,n,r){super(),this.componentFactoryResolver=new wE(this),this.instance=null;const i=new FD([...e,{provide:Hs,useValue:this},{provide:yc,useValue:this.componentFactoryResolver}],n||md(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function kd(t,e,n=null){return new qj(t,e,n).injector}let Gj=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=ND(0,n.type),i=r.length>0?kd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=K({token:t,providedIn:"environment",factory:()=>new t(q(Ur))}),t})();function rx(t){t.getStandaloneInjector=e=>e.get(Gj).getOrCreateStandaloneInjector(t)}function Rm(t){return e=>{setTimeout(t,void 0,e)}}const Ke=class y$ extends Or{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Rm(o),i&&(i=Rm(i)),s&&(s=Rm(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Sn&&e.add(a),a}};let qr=(()=>{class t{}return t.__NG_ELEMENT_ID__=b$,t})();const v$=qr,w$=class extends v${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=_d(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),rm(r,i,e),new wc(i)}};function b$(){return function Fd(t,e){return 4&t.type?new w$(e,t,Is(t,e)):null}(xt(),I())}let Qn=(()=>{class t{}return t.__NG_ELEMENT_ID__=C$,t})();function C$(){return function yx(t,e){let n;const r=e[t.index];if($n(r))n=r;else{let i;if(8&t.type)i=It(r);else{const o=e[11];i=o.createComment("");const s=yn(t,e);so(o,cd(o,s),i,function _V(t,e){return t.nextSibling(e)}(o,s),!1)}e[t.index]=n=gE(r,e,i,t),wd(e,n)}return new gx(n,t,e)}(xt(),I())}const D$=Qn,gx=class extends D${constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const e=ug(this._hostTNode,this._hostLView);if(bC(e)){const n=Jl(e,this._hostLView),r=Xl(e);return new ms(n[1].data[r+8],n)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=mx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(n||{},o);return this.insert(s,i),s}createComponent(e,n,r,i,o){const s=e&&!function oc(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const c=s?e:new bc(Ce(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const h=(s?u:this.parentInjector).get(Ur,null);h&&(o=h)}const l=c.create(u,i,void 0,o);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function GF(t){return $n(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new gx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function fV(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],PC(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function pV(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,s,o);const a=Ng(o,s),c=r[11],u=cd(c,s[7]);return null!==u&&function lV(t,e,n,r,i,o){r[0]=i,r[6]=e,fc(t,r,n,1,i,o)}(i,s[6],c,r,u,a),e.attachToViewContainerRef(),PC(Fm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=mx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Mg(this._lContainer,n);r&&(id(Fm(this._lContainer),n),rD(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Mg(this._lContainer,n);return r&&null!=id(Fm(this._lContainer),n)?new wc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mx(t){return t[8]}function Fm(t){return t[8]||(t[8]=[])}function Vd(...t){}const Bd=new H("Application Initializer");let Ud=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Vd,this.reject=Vd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Ec(o))n.push(o);else if(wm(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(q(Bd,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kc=new H("AppId",{providedIn:"root",factory:function qx(){return`${zm()}${zm()}${zm()}`}});function zm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gx=new H("Platform Initializer"),zx=new H("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wx=new H("appBootstrapListener");let Z$=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Gr=new H("LocaleId",{providedIn:"root",factory:()=>pe(Gr,Q.Optional|Q.SkipSelf)||function X$(){return typeof $localize<"u"&&$localize.locale||$s}()});class e3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Kx=(()=>{class t{compileModuleSync(n){return new Nm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=$r(gn(n).declarations).reduce((s,a)=>{const c=Ce(a);return c&&s.push(new bc(c)),s},[]);return new e3(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const r3=(()=>Promise.resolve(0))();function Wm(t){typeof Zone>"u"?r3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ct{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function i3(){let t=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function a3(t){const e=()=>{!function s3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qm(t),t.isCheckStableRunning=!0,Km(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Zx(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Xx(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Zx(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Xx(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Qm(t),Km(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ct.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(ct.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,o3,Vd,Vd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const o3={};function Km(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xx(t){t._nesting--,Km(t)}class c3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Jx=new H(""),jd=new H("");let Xm,Ym=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xm||(function u3(t){Xm=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ct.assertNotInAngularZone(),Wm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(q(ct),q(Zm),q(jd))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),Zm=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Xm?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),gi=null;const eS=new H("AllowMultipleToken"),Jm=new H("PlatformDestroyListeners");class tS{constructor(e,n){this.name=e,this.token=n}}function rS(t,e,n=[]){const r=`Platform: ${e}`,i=new H(r);return(o=[])=>{let s=ey();if(!s||s.injector.get(eS,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function h3(t){if(gi&&!gi.get(eS,!1))throw new M(400,!1);gi=t;const e=t.get(oS);(function nS(t){const e=t.get(Gx,null);e&&e.forEach(n=>n())})(t)}(function iS(t=[],e){return Gn.create({name:e,providers:[{provide:Gg,useValue:"platform"},{provide:Jm,useValue:new Set([()=>gi=null])},...t]})}(a,r))}return function p3(t){const e=ey();if(!e)throw new M(401,!1);return e}()}}function ey(){return gi?.get(oS)??null}let oS=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function aS(t,e){let n;return n="noop"===t?new c3:("zone.js"===t?void 0:t)||new ct(e),n}(r?.ngZone,function sS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:ct,useValue:i}];return i.run(()=>{const s=Gn.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),c=a.injector.get(xs,null);if(!c)throw new M(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:l=>{c.handleError(l)}});a.onDestroy(()=>{Hd(this._modules,a),u.unsubscribe()})}),function cS(t,e,n){try{const r=n();return Ec(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(c,i,()=>{const u=a.injector.get(Ud);return u.runInitializers(),u.donePromise.then(()=>(function AI(t){Mn(t,"Expected localeId to be defined"),"string"==typeof t&&(MI=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Gr,$s)||$s),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=uS({},r);return function l3(t,e,n){const r=new Nm(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get($d);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new M(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Jm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(q(Gn))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function uS(t,e){return Array.isArray(e)?e.reduce(uS,t):{...t,...e}}let $d=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new ot(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new ot(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ct.assertNotInAngularZone(),Wm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{ct.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function dF(...t){const e=za(t),n=function iF(t,e){return"number"==typeof Rp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Tn(r[0]):ss(n)(st(r,e)):rr}(o,s.pipe(function hF(t={}){const{connector:e=(()=>new Or),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return vt((g,m)=>{u++,!d&&!l&&h();const D=c=c??e();m.add(()=>{u--,0===u&&!d&&!l&&(a=kp(p,i))}),D.subscribe(m),!s&&u>0&&(s=new Ga({next:x=>D.next(x),error:x=>{d=!0,h(),a=kp(f,n,x),D.error(x)},complete:()=>{l=!0,h(),a=kp(f,r),D.complete()}}),Tn(g).subscribe(s))})(o)}}()))}bootstrap(n,r){const i=n instanceof VD;if(!this._injector.get(Ud).done)throw!i&&function cs(t){const e=Ce(t)||Rt(t)||Gt(t);return null!==e&&e.standalone}(n),new M(405,false);let s;s=i?n:this._injector.get(yc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function d3(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Hs),u=s.create(Gn.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(Jx,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Hd(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Hd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Wx,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(q(ct),q(Ur),q(xs))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let qd=(()=>{class t{}return t.__NG_ELEMENT_ID__=m3,t})();function m3(t){return function y3(t,e,n){if(ec(t)&&!n){const r=_n(t.index,e);return new wc(r,r)}return 47&t.type?new wc(e[16],e):null}(xt(),I(),16==(16&t))}class pS{constructor(){}supports(e){return Id(e)}create(e){return new D3(e)}}const C3=(t,e)=>e;class D3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||C3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<mS(r,i,o)?n:r,a=mS(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Id(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function qB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[uo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new E3(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new gS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class E3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class I3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class gS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new I3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mS(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _S(){return new Wd([new pS])}let Wd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||_S()),deps:[[t,new cc,new ac]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new M(901,!1)}}return t.\u0275prov=K({token:t,providedIn:"root",factory:_S}),t})();const A3=rS(null,"core",[]);let O3=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(q($d))},t.\u0275mod=or({type:t}),t.\u0275inj=Bn({}),t})();function zs(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let oy=null;function pr(){return oy}class R3{}const un=new H("DocumentToken");let sy=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return function k3(){return q(wS)}()},providedIn:"platform"}),t})();const F3=new H("Location Initialized");let wS=(()=>{class t extends sy{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(n){const r=pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){bS()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){bS()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(q(un))},t.\u0275prov=K({token:t,factory:function(){return function L3(){return new wS(q(un))}()},providedIn:"platform"}),t})();function bS(){return!!window.history.pushState}function ay(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function CS(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Wr(t){return t&&"?"!==t[0]?"?"+t:t}let go=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return pe(ES)},providedIn:"root"}),t})();const DS=new H("appBaseHref");let ES=(()=>{class t extends go{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pe(un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ay(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Wr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Wr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(q(sy),q(DS,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),V3=(()=>{class t extends go{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=ay(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Wr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Wr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(q(sy),q(DS,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),cy=(()=>{class t{constructor(n){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function j3(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(CS(IS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Wr(r))}normalize(n){return t.stripTrailingSlash(function U3(t,e){return t&&new RegExp(`^${t}([/;?#]|$)`).test(e)?e.substring(t.length):e}(this._basePath,IS(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Wr,t.joinWithSlash=ay,t.stripTrailingSlash=CS,t.\u0275fac=function(n){return new(n||t)(q(go))},t.\u0275prov=K({token:t,factory:function(){return function B3(){return new cy(q(go))}()},providedIn:"root"}),t})();function IS(t){return t.replace(/\/index.html$/,"")}class SH{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bc=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new SH(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),LS(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{LS(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(S(Qn),S(qr),S(Wd))},t.\u0275dir=Z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function LS(t,e){t.context.$implicit=e.item}let tq=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Bn({}),t})();let oq=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>new sq(q(un),window)}),t})();class sq{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function aq(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$S(this.window.history)||$S(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $S(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class kq extends R3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xy extends kq{static makeCurrent(){!function P3(t){oy||(oy=t)}(new xy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Fq(){return jc=jc||document.querySelector("base"),jc?jc.getAttribute("href"):null}();return null==n?null:function Lq(t){ih=ih||document.createElement("a"),ih.setAttribute("href",t);const e=ih.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function EH(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let ih,jc=null;const WS=new H("TRANSITION_ID"),Bq=[{provide:Bd,useFactory:function Vq(t,e,n){return()=>{n.get(Ud).donePromise.then(()=>{const r=pr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[WS,un,Gn],multi:!0}];let jq=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const oh=new H("EventManagerPlugins");let sh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(q(oh),q(ct))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class KS{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=pr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let QS=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),$c=(()=>{class t extends QS{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(YS),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(YS))}}return t.\u0275fac=function(n){return new(n||t)(q(un))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function YS(t){pr().remove(t)}const Sy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ty=/%COMP%/g;function My(t,e){return e.flat(100).map(n=>n.replace(Ty,t))}function JS(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ay=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Oy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case ir.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Wq(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case ir.ShadowDom:return new Kq(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=My(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(q(sh),q($c),q(kc))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class Oy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Sy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(tT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Sy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Sy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(an.DashCase|an.Important)?e.style.setProperty(n,r,i&an.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&an.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,JS(r)):this.eventManager.addEventListener(e,n,JS(r))}}function tT(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Wq extends Oy{constructor(e,n,r,i){super(e),this.component=r;const o=My(i+"-"+r.id,r.styles);n.addStyles(o),this.contentAttr=function qq(t){return"_ngcontent-%COMP%".replace(Ty,t)}(i+"-"+r.id),this.hostAttr=function Gq(t){return"_nghost-%COMP%".replace(Ty,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Kq extends Oy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=My(i.id,i.styles);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Qq=(()=>{class t extends KS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(q(un))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const nT=["alt","control","meta","shift"],Yq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Xq=(()=>{class t extends KS{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nT.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=Yq[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nT.forEach(s=>{s!==i&&(0,Zq[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(q(un))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const iT=[{provide:zx,useValue:"browser"},{provide:Gx,useValue:function Jq(){xy.makeCurrent()},multi:!0},{provide:un,useFactory:function tG(){return function xV(t){Fg=t}(document),document},deps:[]}],nG=rS(A3,"browser",iT),oT=new H(""),sT=[{provide:jd,useClass:class Uq{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?pr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Jx,useClass:Ym,deps:[ct,Zm,jd]},{provide:Ym,useClass:Ym,deps:[ct,Zm,jd]}],aT=[{provide:Gg,useValue:"root"},{provide:xs,useFactory:function eG(){return new xs},deps:[]},{provide:oh,useClass:Qq,multi:!0,deps:[un,ct,zx]},{provide:oh,useClass:Xq,multi:!0,deps:[un]},{provide:Ay,useClass:Ay,deps:[sh,$c,kc]},{provide:UD,useExisting:Ay},{provide:QS,useExisting:$c},{provide:$c,useClass:$c,deps:[un]},{provide:sh,useClass:sh,deps:[oh,ct]},{provide:class cq{},useClass:jq,deps:[]},[]];let rG=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:kc,useValue:n.appId},{provide:WS,useExisting:kc},Bq]}}}return t.\u0275fac=function(n){return new(n||t)(q(oT,12))},t.\u0275mod=or({type:t}),t.\u0275inj=Bn({providers:[...aT,...sT],imports:[tq,O3]}),t})(),cT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(q(un))},t.\u0275prov=K({token:t,factory:function(n){let r=null;return r=n?new n:function oG(){return new cT(q(un))}(),r},providedIn:"root"}),t})();function z(...t){return st(t,za(t))}typeof window<"u"&&window;class Jn extends Or{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ah=Ip(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:fG}=Array,{getPrototypeOf:pG,prototype:gG,keys:mG}=Object;function dT(t){if(1===t.length){const e=t[0];if(fG(e))return{args:e,keys:null};if(function yG(t){return t&&"object"==typeof t&&pG(t)===gG}(e)){const n=mG(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:_G}=Array;function hT(t){return de(e=>function vG(t,e){return _G(e)?t(...e):t(e)}(t,e))}function fT(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function pT(...t){const e=za(t),n=Nb(t),{args:r,keys:i}=dT(t);if(0===r.length)return st([],e);const o=new ot(function wG(t,e,n=Ji){return r=>{gT(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)gT(e,()=>{const u=st(t[c],e);let l=!1;u.subscribe(ft(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>fT(i,s):Ji));return n?o.pipe(hT(n)):o}function gT(t,e,n){t?Nr(n,t,e):e()}function Ry(...t){return function bG(){return ss(1)}()(st(t,za(t)))}function mT(t){return new ot(e=>{Tn(t()).subscribe(e)})}function Hc(t,e){const n=je(t)?t:()=>t,r=i=>i.error(n());return new ot(e?i=>e.schedule(r,0,i):r)}function ky(){return vt((t,e)=>{let n=null;t._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class yT extends ot{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_b(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sn;const n=this.getSubject();e.add(this.source.subscribe(ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sn.EMPTY)}return e}refCount(){return ky()(this)}}function gr(t,e){return vt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ft(r,c=>{i?.unsubscribe();let u=0;const l=o++;Tn(t(c,l)).subscribe(i=ft(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function qc(t){return t<=0?()=>rr:vt((e,n)=>{let r=0;e.subscribe(ft(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yi(t,e){return vt((n,r)=>{let i=0;n.subscribe(ft(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ch(t){return vt((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _T(t=DG){return vt((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DG(){return new ah}function _i(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yi((i,o)=>t(i,o,r)):Ji,qc(1),n?ch(e):_T(()=>new ah))}function mo(t,e){return je(e)?Et(t,e,1):Et(t,1)}function Bt(t,e,n){const r=je(t)||e||n?{next:t,error:e,complete:n}:t;return r?vt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ft(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Ji}function vi(t){return vt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ft(n,void 0,void 0,s=>{o=Tn(t(s,vi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function EG(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(ft(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function vT(t,e){return vt(EG(t,e,arguments.length>=2,!0))}function Fy(t){return t<=0?()=>rr:vt((e,n)=>{let r=[];e.subscribe(ft(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wT(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yi((i,o)=>t(i,o,r)):Ji,Fy(1),n?ch(e):_T(()=>new ah))}function Ly(t){return vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary",Gc=Symbol("RouteTitle");class SG{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ws(t){return new SG(t)}function TG(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bT(t[i],e[i]))return!1;return!0}function bT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function CT(t){return Array.prototype.concat.apply([],t)}function DT(t){return t.length>0?t[t.length-1]:null}function Tt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function wi(t){return wm(t)?t:Ec(t)?st(Promise.resolve(t)):z(t)}const uh=!1,AG={exact:function xT(t,e,n){if(!_o(t.segments,e.segments)||!lh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!xT(t.children[r],e.children[r],n))return!1;return!0},subset:ST},ET={exact:function OG(t,e){return mr(t,e)},subset:function NG(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bT(t[n],e[n]))},ignored:()=>!0};function IT(t,e,n){return AG[n.paths](t.root,e.root,n.matrixParams)&&ET[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function ST(t,e,n){return TT(t,e,e.segments,n)}function TT(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!_o(i,n)||e.hasChildren()||!lh(i,n,r))}if(t.segments.length===n.length){if(!_o(t.segments,n)||!lh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!ST(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(_o(t.segments,i)&&lh(t.segments,i,r)&&t.children[re])&&TT(t.children[re],e,o,r)}}function lh(t,e,n){return e.every((r,i)=>ET[n](t[i].parameters,r.parameters))}class yo{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return kG.serialize(this)}}class ue{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Tt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dh(this)}}class zc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ws(this.parameters)),this._parameterMap}toString(){return OT(this)}}function _o(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Wc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return new Vy},providedIn:"root"}),t})();class Vy{parse(e){const n=new qG(e);return new yo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Kc(e.root,!0)}`,r=function VG(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${hh(n)}=${hh(i)}`).join("&"):`${hh(n)}=${hh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function FG(t){return encodeURI(t)}(e.fragment)}`:""}`}}const kG=new Vy;function dh(t){return t.segments.map(e=>OT(e)).join("/")}function Kc(t,e){if(!t.hasChildren())return dh(t);if(e){const n=t.children[re]?Kc(t.children[re],!1):"",r=[];return Tt(t.children,(i,o)=>{o!==re&&r.push(`${o}:${Kc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function RG(t,e){let n=[];return Tt(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Tt(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[Kc(t.children[re],!1)]:[`${i}:${Kc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${dh(t)}/${n[0]}`:`${dh(t)}/(${n.join("//")})`}}function MT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hh(t){return MT(t).replace(/%3B/gi,";")}function By(t){return MT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fh(t){return decodeURIComponent(t)}function AT(t){return fh(t.replace(/\+/g,"%20"))}function OT(t){return`${By(t.path)}${function LG(t){return Object.keys(t).map(e=>`;${By(e)}=${By(t[e])}`).join("")}(t.parameters)}`}const BG=/^[^\/()?;=#]+/;function ph(t){const e=t.match(BG);return e?e[0]:""}const UG=/^[^=?&#]+/,$G=/^[^&#]+/;class qG{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ue(e,n)),r}parseSegment(){const e=ph(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new M(4009,uh);return this.capture(e),new zc(fh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=ph(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ph(this.remaining);i&&(r=i,this.capture(r))}e[fh(n)]=fh(r)}parseQueryParam(e){const n=function jG(t){const e=t.match(UG);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function HG(t){const e=t.match($G);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=AT(n),o=AT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ph(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new M(4010,uh);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[re]:new ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new M(4011,uh)}}function Uy(t){return t.segments.length>0?new ue([],{[re]:t}):t}function gh(t){const e={};for(const r of Object.keys(t.children)){const o=gh(t.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function GG(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new ue(t.segments.concat(e.segments),e.children)}return t}(new ue(t.segments,e))}function vo(t){return t instanceof yo}function KG(t,e,n,r,i){if(0===n.length)return Ks(e.root,e.root,e.root,r,i);const o=function RT(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new PT(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Tt(o.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new PT(n,e,r)}(n);return o.toRoot()?Ks(e.root,e.root,new ue([],{}),r,i):function s(c){const u=function YG(t,e,n,r){if(t.isAbsolute)return new Qs(e.root,!0,0);if(-1===r)return new Qs(n,n===e.root,0);return function kT(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Qs(r,!1,i-o)}(n,r+(Qc(t.commands[0])?0:1),t.numberOfDoubleDots)}(o,e,t.snapshot?._urlSegment,c),l=u.processChildren?Ys(u.segmentGroup,u.index,o.commands):$y(u.segmentGroup,u.index,o.commands);return Ks(e.root,u.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Qc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yc(t){return"object"==typeof t&&null!=t&&t.outlets}function Ks(t,e,n,r,i){let s,o={};r&&Tt(r,(c,u)=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:NT(t,e,n);const a=Uy(gh(s));return new yo(a,o,i)}function NT(t,e,n){const r={};return Tt(t.children,(i,o)=>{r[o]=i===e?n:NT(i,e,n)}),new ue(t.segments,r)}class PT{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qc(r[0]))throw new M(4003,!1);const i=r.find(Yc);if(i&&i!==DT(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qs{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function $y(t,e,n){if(t||(t=new ue([],{})),0===t.segments.length&&t.hasChildren())return Ys(t,e,n);const r=function XG(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Yc(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!LT(c,u,s))return o;r+=2}else{if(!LT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ue(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new ue(t.segments.slice(r.pathIndex),t.children),Ys(o,0,i)}return r.match&&0===i.length?new ue(t.segments,{}):r.match&&!t.hasChildren()?Hy(t,e,n):r.match?Ys(t,0,i):Hy(t,e,n)}function Ys(t,e,n){if(0===n.length)return new ue(t.segments,{});{const r=function ZG(t){return Yc(t[0])?t[0].outlets:{[re]:t}}(n),i={};return!r[re]&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length?Ys(t.children[re],e,n):(Tt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=$y(t.children[s],e,o))}),Tt(t.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ue(t.segments,i))}}function Hy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Yc(o)){const c=JG(o.outlets);return new ue(r,c)}if(0===i&&Qc(n[0])){r.push(new zc(t.segments[e].path,FT(n[0]))),i++;continue}const s=Yc(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Qc(a)?(r.push(new zc(s,FT(a))),i+=2):(r.push(new zc(s,{})),i++)}return new ue(r,{})}function JG(t){const e={};return Tt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Hy(new ue([],{}),0,n))}),e}function FT(t){const e={};return Tt(t,(n,r)=>e[r]=`${n}`),e}function LT(t,e,n){return t==n.path&&mr(e,n.parameters)}const Zc="imperative";class yr{constructor(e,n){this.id=e,this.url=n}}class qy extends yr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wo extends yr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mh extends yr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VT extends yr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class BT extends yr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class e4 extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t4 extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n4 extends yr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class r4 extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i4 extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class s4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class a4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UT{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let h4=(()=>{class t{createUrlTree(n,r,i,o,s,a){return KG(n||r.root,i,o,s,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),f4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(e){return h4.\u0275fac(e)},providedIn:"root"}),t})();class jT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Gy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Gy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=zy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zy(e,this._root).map(n=>n.value)}}function Gy(t,e){if(t===e.value)return e;for(const n of e.children){const r=Gy(t,n);if(r)return r}return null}function zy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=zy(t,n);if(r.length)return r.unshift(e),r}return[]}class Qr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Zs(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class $T extends jT{constructor(e,n){super(e),this.snapshot=n,Wy(this,e)}toString(){return this.snapshot.toString()}}function HT(t,e){const n=function p4(t,e){const s=new yh([],{},{},"",{},re,e,null,t.root,-1,{});return new GT("",new Qr(s,[]))}(t,e),r=new Jn([new zc("",{})]),i=new Jn({}),o=new Jn({}),s=new Jn({}),a=new Jn(""),c=new Xs(r,i,s,a,o,re,e,n.root);return c.snapshot=n.root,new $T(new Qr(c,[]),n)}class Xs{constructor(e,n,r,i,o,s,a,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(de(u=>u[Gc]))??z(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(e=>Ws(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(e=>Ws(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qT(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function g4(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class yh{get title(){return this.data?.[Gc]}constructor(e,n,r,i,o,s,a,c,u,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GT extends jT{constructor(e,n){super(n),this.url=e,Wy(this,n)}toString(){return zT(this._root)}}function Wy(t,e){e.value._routerState=t,e.children.forEach(n=>Wy(t,n))}function zT(t){const e=t.children.length>0?` { ${t.children.map(zT).join(", ")} } `:"";return`${t.value}${e}`}function Ky(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),mr(e.params,n.params)||t.params.next(n.params),function MG(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),mr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Qy(t,e){const n=mr(t.params,e.params)&&function PG(t,e){return _o(t,e)&&t.every((n,r)=>mr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Qy(t.parent,e.parent))}function Xc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function y4(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xc(t,r,i);return Xc(t,r)})}(t,e,n);return new Qr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xc(t,a)),s}}const r=function _4(t){return new Xs(new Jn(t.url),new Jn(t.params),new Jn(t.queryParams),new Jn(t.fragment),new Jn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Xc(t,o));return new Qr(r,i)}}const Yy="ngNavigationCancelingError";function WT(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KT(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function KT(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Yy]=!0,r.cancellationCode=e,n&&(r.url=n),r}function QT(t){return YT(t)&&vo(t.url)}function YT(t){return t&&t[Yy]}class v4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jc,this.attachRef=null}}let Jc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new v4,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _h=!1;let Zy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=pe(Jc),this.location=pe(Qn),this.changeDetector=pe(qd),this.environmentInjector=pe(Ur)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,_h);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,_h);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,_h);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,_h);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new w4(n,a,i.injector);if(r&&function b4(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(s);this.activated=i.createComponent(u,i.length,c)}else this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[On]}),t})();class w4{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xs?this.route:e===Jc?this.childContexts:this.parent.get(e,n)}}let Xy=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qt({type:t,selectors:[["ng-component"]],standalone:!0,features:[rx],decls:1,vars:0,template:function(n,r){1&n&&L(0,"router-outlet")},dependencies:[Zy],encapsulation:2}),t})();function ZT(t,e){return t.providers&&!t._injector&&(t._injector=kd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function e_(t){const e=t.children&&t.children.map(e_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Xy),n}function Ln(t){return t.outlet||re}function XT(t,e){const n=t.filter(r=>Ln(r)===e);return n.push(...t.filter(r=>Ln(r)!==e)),n}function eu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class x4{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ky(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Zs(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Tt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zs(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zs(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Zs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new l4(o.value.snapshot))}),e.children.length&&this.forwardEvent(new c4(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Ky(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ky(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=eu(i.snapshot),c=a?.get(yc)??null;s.attachRef=null,s.route=i,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class JT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vh{constructor(e,n){this.component=e,this.route=n}}function S4(t,e,n){const r=t._root;return tu(r,e?e._root:null,n,[r.value])}function Js(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function vF(t){return null!==Ll(t)}(t)?e.get(t):t:r}function tu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Zs(e);return t.children.forEach(s=>{(function M4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function A4(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_o(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_o(t.url,e.url)||!mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qy(t,e)||!mr(t.queryParams,e.queryParams);default:return!Qy(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new JT(r)):(o.data=s.data,o._resolvedData=s._resolvedData),tu(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vh(a.outlet.component,s))}else s&&nu(e,a,i),i.canActivateChecks.push(new JT(r)),tu(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Tt(o,(s,a)=>nu(s,n.getContext(a),i)),i}function nu(t,e,n){const r=Zs(t),i=t.value;Tt(r,(o,s)=>{nu(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new vh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ru(t){return"function"==typeof t}function t_(t){return t instanceof ah||"EmptyError"===t?.name}const wh=Symbol("INITIAL_VALUE");function ea(){return gr(t=>pT(t.map(e=>e.pipe(qc(1),function CG(...t){const e=za(t);return vt((n,r)=>{(e?Ry(t,n,e):Ry(t,n)).subscribe(r)})}(wh)))).pipe(de(e=>{for(const n of e)if(!0!==n){if(n===wh)return wh;if(!1===n||n instanceof yo)return n}return!0}),yi(e=>e!==wh),qc(1)))}function eM(t){return function Vk(...t){return gb(t)}(Bt(e=>{if(vo(e))throw WT(0,e)}),de(e=>!0===e))}const n_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tM(t,e,n,r,i){const o=r_(t,e,n);return o.matched?function W4(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?z(i.map(s=>{const a=Js(s,t);return wi(function F4(t){return t&&ru(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ea(),eM()):z(!0)}(r=ZT(e,r),e,n).pipe(de(s=>!0===s?o:{...n_})):z(o)}function r_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...n_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||TG)(n,t,e);if(!i)return{...n_};const o={};Tt(i.posParams,(a,c)=>{o[c]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function bh(t,e,n,r){if(n.length>0&&function Y4(t,e,n){return n.some(r=>Ch(t,e,r)&&Ln(r)!==re)}(t,n,r)){const o=new ue(e,function Q4(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ln(o)!==re){const s=new ue([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,i[Ln(o)]=s}return i}(t,e,r,new ue(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function Z4(t,e,n){return n.some(r=>Ch(t,e,r))}(t,n,r)){const o=new ue(t.segments,function K4(t,e,n,r,i){const o={};for(const s of r)if(Ch(t,n,s)&&!i[Ln(s)]){const a=new ue([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,o[Ln(s)]=a}return{...i,...o}}(t,e,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const i=new ue(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Ch(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function nM(t,e,n,r){return!!(Ln(t)===r||r!==re&&Ch(e,n,t))&&("**"===t.path||r_(e,t,n).matched)}function rM(t,e,n){return 0===e.length&&!t.children[n]}const Dh=!1;class Eh{constructor(e){this.segmentGroup=e||null}}class iM{constructor(e){this.urlTree=e}}function iu(t){return Hc(new Eh(t))}function oM(t){return Hc(new iM(t))}class tz{constructor(e,n,r,i,o){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=bh(this.urlTree.root,[],[],this.config).segmentGroup,n=new ue(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,re).pipe(de(o=>this.createUrlTree(gh(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vi(o=>{if(o instanceof iM)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Eh?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,re).pipe(de(i=>this.createUrlTree(gh(i),e.queryParams,e.fragment))).pipe(vi(i=>{throw i instanceof Eh?this.noMatchError(i):i}))}noMatchError(e){return new M(4002,Dh)}createUrlTree(e,n,r){const i=Uy(e);return new yo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(de(o=>new ue([],o))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return st(i).pipe(mo(o=>{const s=r.children[o],a=XT(n,o);return this.expandSegmentGroup(e,a,s,o).pipe(de(c=>({segment:c,outlet:o})))}),vT((o,s)=>(o[s.outlet]=s.segment,o),{}),wT())}expandSegment(e,n,r,i,o,s){return st(r).pipe(mo(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,o,s).pipe(vi(u=>{if(u instanceof Eh)return z(null);throw u}))),_i(a=>!!a),vi((a,c)=>{if(t_(a))return rM(n,i,o)?z(new ue([],{})):iu(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,o,s,a){return nM(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s):iu(n):iu(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oM(o):this.lineralizeSegments(r,o).pipe(Et(s=>{const a=new ue(s,{});return this.expandSegment(e,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=r_(n,i,o);if(!a)return iu(n);const d=this.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?oM(d):this.lineralizeSegments(i,d).pipe(Et(h=>this.expandSegment(e,n,r,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){return"**"===r.path?(e=ZT(r,e),r.loadChildren?(r._loadedRoutes?z({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(de(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ue(i,{})))):z(new ue(i,{}))):tM(n,r,i,e).pipe(gr(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(Et(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=bh(n,a,c,h),g=new ue(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(de(y=>new ue(a,y)));if(0===h.length&&0===p.length)return z(new ue(a,{}));const m=Ln(r)===o;return this.expandSegment(d,g,h,p,m?re:o,!0).pipe(de(x=>new ue(a.concat(x.segments),x.children)))})):iu(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?z({routes:n._loadedRoutes,injector:n._loadedInjector}):function z4(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?z(!0):z(i.map(s=>{const a=Js(s,t);return wi(function N4(t){return t&&ru(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ea(),eM())}(e,n,r).pipe(Et(i=>i?this.configLoader.loadChildren(e,n).pipe(Bt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function J4(t){return Hc(KT(Dh,3))}())):z({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[re])return Hc(new M(4e3,Dh));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new yo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Tt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Tt(n.children,(a,c)=>{s[c]=this.createSegmentGroup(e,a,r,i)}),new ue(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new M(4001,Dh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class rz{}class sz{constructor(e,n,r,i,o,s,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=bh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(de(n=>{if(null===n)return null;const r=new yh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qr(r,n),o=new GT(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const n=e.value,r=qT(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return st(Object.keys(r.children)).pipe(mo(i=>{const o=r.children[i],s=XT(n,i);return this.processSegmentGroup(e,s,o,i)}),vT((i,o)=>i&&o?(i.push(...o),i):null),function IG(t,e=!1){return vt((n,r)=>{let i=0;n.subscribe(ft(r,o=>{const s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),ch(null),wT(),de(i=>{if(null===i)return null;const o=aM(i);return function az(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(e,n,r,i,o){return st(n).pipe(mo(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),_i(s=>!!s),vi(s=>{if(t_(s))return rM(r,i,o)?z([]):z(null);throw s}))}processSegmentAgainstRoute(e,n,r,i,o){if(n.redirectTo||!nM(n,r,i,o))return z(null);let s;if("**"===n.path){const a=i.length>0?DT(i).parameters:{},c=uM(r)+i.length;s=z({snapshot:new yh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lM(n),Ln(n),n.component??n._loadedComponent??null,n,cM(r),c,dM(n)),consumedSegments:[],remainingSegments:[]})}else s=tM(r,n,i,e).pipe(de(({matched:a,consumedSegments:c,remainingSegments:u,parameters:l})=>{if(!a)return null;const d=uM(r)+c.length;return{snapshot:new yh(c,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lM(n),Ln(n),n.component??n._loadedComponent??null,n,cM(r),d,dM(n)),consumedSegments:c,remainingSegments:u}}));return s.pipe(gr(a=>{if(null===a)return z(null);const{snapshot:c,consumedSegments:u,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function cz(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=bh(r,u,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(de(m=>null===m?null:[new Qr(c,m)]));if(0===h.length&&0===p.length)return z([new Qr(c,[])]);const g=Ln(n)===o;return this.processSegment(d,h,f,p,g?re:o).pipe(de(m=>null===m?null:[new Qr(c,m)]))}))}}function uz(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function aM(t){const e=[],n=new Set;for(const r of t){if(!uz(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=aM(r.children);e.push(new Qr(r.value,i))}return e.filter(r=>!n.has(r))}function cM(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uM(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function lM(t){return t.data||{}}function dM(t){return t.resolve||{}}function hM(t){return"string"==typeof t.title||null===t.title}function i_(t){return gr(e=>{const n=t(e);return n?st(n).pipe(de(()=>e)):z(e)})}const ta=new H("ROUTES");let o_=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=wi(n.loadComponent()).pipe(de(pM),Bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ly(()=>{this.componentLoaders.delete(n)})),i=new yT(r,()=>new Or).pipe(ky());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(de(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,u,l=!1;Array.isArray(a)?u=a:(c=a.create(n).injector,u=CT(c.get(ta,[],Q.Self|Q.Optional)));return{routes:u.map(e_),injector:c}}),Ly(()=>{this.childrenLoaders.delete(r)})),s=new yT(o,()=>new Or).pipe(ky());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return wi(n()).pipe(de(pM),Et(i=>i instanceof tx||Array.isArray(i)?z(i):st(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)(q(Gn),q(Kx))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pM(t){return function _z(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let xh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Or,this.configLoader=pe(o_),this.environmentInjector=pe(Ur),this.urlSerializer=pe(Wc),this.rootContexts=pe(Jc),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new s4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new o4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Jn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yi(r=>0!==r.id),de(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),gr(r=>{let i=!1,o=!1;return z(r).pipe(Bt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gr(s=>{const a=n.browserUrlTree.toString(),c=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!c&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new VT(s.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),rr}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return gM(s.source)&&(n.browserUrlTree=s.extractedUrl),z(s).pipe(gr(l=>{const d=this.transitions?.getValue();return this.events.next(new qy(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?rr:Promise.resolve(l)}),function nz(t,e,n,r){return gr(i=>function ez(t,e,n,r,i){return new tz(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(de(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Bt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function dz(t,e,n,r,i){return Et(o=>function oz(t,e,n,r,i,o,s="emptyOnly"){return new sz(t,e,n,r,i,s,o).recognize().pipe(gr(a=>null===a?function iz(t){return new ot(e=>e.error(t))}(new rz):z(a)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(de(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Bt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new e4(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new qy(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=HT(d,this.rootComponentType).snapshot;return z(r={...s,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new VT(s.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),rr}}),Bt(s=>{const a=new t4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),de(s=>r={...s,guards:S4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function V4(t,e){return Et(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?z({...n,guardsResult:!0}):function B4(t,e,n,r){return st(t).pipe(Et(i=>function G4(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?z(o.map(a=>{const c=eu(e)??i,u=Js(a,c);return wi(function k4(t){return t&&ru(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(_i())})).pipe(ea()):z(!0)}(i.component,i.route,n,e,r)),_i(i=>!0!==i,!0))}(s,r,i,t).pipe(Et(a=>a&&function O4(t){return"boolean"==typeof t}(a)?function U4(t,e,n,r){return st(e).pipe(mo(i=>Ry(function $4(t,e){return null!==t&&e&&e(new a4(t)),z(!0)}(i.route.parent,r),function j4(t,e){return null!==t&&e&&e(new u4(t)),z(!0)}(i.route,r),function q4(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function T4(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>mT(()=>z(s.guards.map(c=>{const u=eu(s.node)??n,l=Js(c,u);return wi(function R4(t){return t&&ru(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(_i())})).pipe(ea())));return z(o).pipe(ea())}(t,i.path,n),function H4(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(o=>mT(()=>{const s=eu(e)??n,a=Js(o,s);return wi(function P4(t){return t&&ru(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(_i())}));return z(i).pipe(ea())}(t,i.route,n))),_i(i=>!0!==i,!0))}(r,o,t,e):z(a)),de(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Bt(s=>{if(r.guardsResult=s.guardsResult,vo(s.guardsResult))throw WT(0,s.guardsResult);const a=new n4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),yi(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),i_(s=>{if(s.guards.canActivateChecks.length)return z(s).pipe(Bt(a=>{const c=new r4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),gr(a=>{let c=!1;return z(a).pipe(function hz(t,e){return Et(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let o=0;return st(i).pipe(mo(s=>function fz(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!hM(i)&&(o[Gc]=i.title),function pz(t,e,n,r){const i=function gz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return z({});const o={};return st(i).pipe(Et(s=>function mz(t,e,n,r){const i=eu(e)??r,o=Js(t,i);return wi(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(_i(),Bt(a=>{o[s]=a}))),Fy(1),function xG(t){return de(()=>t)}(o),vi(s=>t_(s)?rr:Hc(s)))}(o,t,e,r).pipe(de(s=>(t._resolvedData=s,t.data=qT(t,n).resolve,i&&hM(i)&&(t.data[Gc]=i.title),null)))}(s.route,r,t,e)),Bt(()=>o++),Fy(1),Et(s=>o===i.length?z(n):rr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Bt({next:()=>c=!0,complete:()=>{c||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Bt(a=>{const c=new i4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),i_(s=>{const a=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Bt(l=>{c.component=l}),de(()=>{})));for(const l of c.children)u.push(...a(l));return u};return pT(a(s.targetSnapshot.root)).pipe(ch(),qc(1))}),i_(()=>this.afterPreactivation()),de(s=>{const a=function m4(t,e,n){const r=Xc(t,e._root,n?n._root:void 0);return new $T(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Bt(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n)=>de(r=>(new x4(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),Bt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new wo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ly(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vi(s=>{if(o=!0,YT(s)){QT(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new mh(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),QT(s)){const c=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||gM(r.source)};n.scheduleNavigation(c,Zc,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new BT(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(c){r.reject(c)}}return rr}))}))}cancelNavigationTransition(n,r,i){const o=new mh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gM(t){return t!==Zc}let mM=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Gc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return pe(vz)},providedIn:"root"}),t})(),vz=(()=>{class t extends mM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(q(cT))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return pe(Cz)},providedIn:"root"}),t})();class bz{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Cz=(()=>{class t extends bz{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=St(t)))(r||t)}}(),t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Sh=new H("",{providedIn:"root",factory:()=>({})});let Ez=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return pe(Iz)},providedIn:"root"}),t})(),Iz=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xz(t){throw t}function Sz(t,e,n){return e.parse("/")}const Tz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=pe(Z$),this.isNgZoneEnabled=!1,this.options=pe(Sh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||xz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=pe(Ez),this.routeReuseStrategy=pe(wz),this.urlCreationStrategy=pe(f4),this.titleStrategy=pe(mM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=CT(pe(ta,{optional:!0})??[]),this.navigationTransitions=pe(xh),this.urlSerializer=pe(Wc),this.location=pe(cy),this.isNgZoneEnabled=pe(ct)instanceof ct&&ct.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HT(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(e_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=vo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Zc,null,r)}navigate(n,r={skipLocationChange:!1}){return function Az(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new M(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Tz}:!1===r?{...Mz}:r,vo(n))return IT(this.currentUrlTree,n,i);const o=this.parseUrl(n);return IT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u,l;return s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Th=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Or;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof wo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=zs(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=zs(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=zs(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function TD(t,e,n){return function KV(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?SD:Br}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(S(Cn),S(Xs),function rd(t){return function vL(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(_C(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(xt(),t)}("tabindex"),S(jr),S(wn),S(go))},t.\u0275dir=Z({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&ie("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&dr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[On]}),t})();class _M{}let Pz=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(yi(n=>n instanceof wo),mo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=kd(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return st(i).pipe(ss())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):z(null);const o=i.pipe(Et(s=>null===s?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?st([o,this.loader.loadComponent(r)]).pipe(ss()):o})}}return t.\u0275fac=function(n){return new(n||t)(q(Cn),q(Kx),q(Ur),q(_M),q(o_))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const s_=new H("");let vM=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof wo&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof UT&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new UT(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function oE(){throw new Error("invalid")}()},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function bo(t,e){return{\u0275kind:t,\u0275providers:e}}function bM(){const t=pe(Gn);return e=>{const n=t.get($d);if(e!==n.components[0])return;const r=t.get(Cn),i=t.get(CM);1===t.get(c_)&&r.initialNavigation(),t.get(DM,null,Q.Optional)?.setUpPreloading(),t.get(s_,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const CM=new H("",{factory:()=>new Or}),c_=new H("",{providedIn:"root",factory:()=>1});const DM=new H("");function Vz(t){return bo(0,[{provide:DM,useExisting:Pz},{provide:_M,useExisting:t}])}const EM=new H("ROUTER_FORROOT_GUARD"),Bz=[cy,{provide:Wc,useClass:Vy},Cn,Jc,{provide:Xs,useFactory:function wM(t){return t.routerState.root},deps:[Cn]},o_,[]];function Uz(){return new tS("Router",Cn)}let IM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Bz,[],{provide:ta,multi:!0,useValue:n},{provide:EM,useFactory:qz,deps:[[Cn,new ac,new cc]]},{provide:Sh,useValue:r||{}},r?.useHash?{provide:go,useClass:V3}:{provide:go,useClass:ES},{provide:s_,useFactory:()=>{const t=pe(oq),e=pe(ct),n=pe(Sh),r=pe(xh),i=pe(Wc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new vM(i,r,t,e,n)}},r?.preloadingStrategy?Vz(r.preloadingStrategy).\u0275providers:[],{provide:tS,multi:!0,useFactory:Uz},r?.initialNavigation?Gz(r):[],[{provide:xM,useFactory:bM},{provide:Wx,multi:!0,useExisting:xM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ta,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(q(EM,8))},t.\u0275mod=or({type:t}),t.\u0275inj=Bn({imports:[Xy]}),t})();function qz(t){return"guarded"}function Gz(t){return["disabled"===t.initialNavigation?bo(3,[{provide:Bd,multi:!0,useFactory:()=>{const e=pe(Cn);return()=>{e.setUpLocationChangeListener()}}},{provide:c_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?bo(2,[{provide:c_,useValue:0},{provide:Bd,multi:!0,deps:[Gn],useFactory:e=>{const n=e.get(F3,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const o=e.get(Cn),s=e.get(CM);(function r(i){e.get(Cn).events.pipe(yi(s=>s instanceof wo||s instanceof mh||s instanceof BT),de(s=>s instanceof wo||s instanceof mh&&(0===s.code||1===s.code)&&null),yi(s=>null!==s),qc(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(xh).afterPreactivation=()=>(i(!0),s.closed?z(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const xM=new H("");function SM(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){SM(o,r,i,s,a,"next",c)}function a(c){SM(o,r,i,s,a,"throw",c)}s(void 0)})}}const TM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},MM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw Error();r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Mh=function(t){return function(t){const e=TM(t);return MM.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function su(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Zz(n)||(t[n]=su(t[n],e[n]));return t}function Zz(t){return"__proto__"!==t}const Ah=()=>{try{return function Xz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return MM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};class AM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function OM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mh(JSON.stringify({alg:"none",type:"JWT"})),Mh(JSON.stringify(s)),""].join(".")}function Co(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function NM(){var t;const e=null===(t=Ah())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function PM(){try{return"object"==typeof indexedDB}catch{return!1}}class bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oh.prototype.create)}}class Oh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function c5(t,e){return t.replace(u5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new bi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const u5=/\{\$([^}]+)}/g;function kM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(FM(o)&&FM(s)){if(!d_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FM(t){return null!==t&&"object"==typeof t}function l5(t,e){const n=new d5(t,e);return n.subscribe.bind(n)}class d5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function h5(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=h_),void 0===i.error&&(i.error=h_),void 0===i.complete&&(i.complete=h_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h_(){}function Ie(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Do="[DEFAULT]";class _5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function w5(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return w(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Do?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class b5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const p_=[];var _e=(()=>{return(t=_e||(_e={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",_e;var t})();const LM={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},C5=_e.INFO,D5={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},E5=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=D5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class g_{constructor(e){this.name=e,this._logLevel=C5,this._logHandler=E5,this._userLogHandler=null,p_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?LM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}let VM,BM;const UM=new WeakMap,m_=new WeakMap,jM=new WeakMap,y_=new WeakMap,__=new WeakMap;let v_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return m_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||jM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function R5(t){return"function"==typeof t?function P5(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function M5(){return BM||(BM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(w_(this),e),Ci(UM.get(this))}:function(...e){return Ci(t.apply(w_(this),e))}:function(e,...n){const r=t.call(w_(this),e,...n);return jM.set(r,e.sort?e.sort():[e]),Ci(r)}}(t):(t instanceof IDBTransaction&&function O5(t){if(m_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});m_.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function T5(){return VM||(VM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,v_):t)}function Ci(t){if(t instanceof IDBRequest)return function A5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ci(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&UM.set(n,t)}).catch(()=>{}),__.set(e,t),e}(t);if(y_.has(t))return y_.get(t);const e=R5(t);return e!==t&&(y_.set(t,e),__.set(e,t)),e}const w_=t=>__.get(t),F5=["get","getKey","getAll","getAllKeys","count"],L5=["put","add","delete","clear"],b_=new Map;function $M(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(b_.get(e))return b_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!F5.includes(n))return;const o=function(){var s=w(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return b_.set(e,o),o}!function N5(t){v_=t(v_)}(t=>({...t,get:(e,n,r)=>$M(e,n)||t.get(e,n,r),has:(e,n)=>!!$M(e,n)||t.has(e,n)}));class V5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function B5(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const C_="@firebase/app",Eo=new g_("@firebase/app"),Di="[DEFAULT]",d8={[C_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ei=new Map,au=new Map;function Ph(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qM(t,e){t.container.addOrOverwriteComponent(e)}function Io(t){const e=t.name;if(au.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;au.set(e,t);for(const n of Ei.values())Ph(n,t);return!0}function GM(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function h8(t,e,n=Di){GM(t,e).clearInstance(n)}function f8(){au.clear()}const Zr=new Oh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class g8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const Rh="9.17.1";function D_(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Di,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Ah())||void 0===t?void 0:t.config})()),!n)throw Zr.create("no-options");const o=Ei.get(i);if(o){if(d_(n,o.options)&&d_(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}const s=new b5(i);for(const c of au.values())s.addComponent(c);const a=new g8(n,r,s);return Ei.set(i,a),a}function m8(t=Di){const e=Ei.get(t);if(!e&&t===Di)return D_();if(!e)throw Zr.create("no-app",{appName:t});return e}function y8(){return Array.from(Ei.values())}function zM(t){return E_.apply(this,arguments)}function E_(){return(E_=w(function*(t){const e=t.name;Ei.has(e)&&(Ei.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})).apply(this,arguments)}function _r(t,e,n){var r;let i=null!==(r=d8[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Eo.warn(a.join(" "))}Io(new Yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function WM(t,e){if(null!==t&&"function"!=typeof t)throw Zr.create("invalid-log-argument");!function x5(t,e){for(const n of p_){let r=null;e&&e.level&&(r=LM[e.level]),n.userLogHandler=null===t?null:(i,o,...s)=>{const a=s.map(c=>{if(null==c)return null;if("string"==typeof c)return c;if("number"==typeof c||"boolean"==typeof c)return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(r??i.logLevel)&&t({level:_e[o].toLowerCase(),message:a,args:s,type:i.name})}}}(t,e)}function KM(t){!function I5(t){p_.forEach(e=>{e.setLogLevel(t)})}(t)}const cu="firebase-heartbeat-store";let I_=null;function QM(){return I_||(I_=function k5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ci(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ci(s.result),c.oldVersion,c.newVersion,Ci(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(cu)}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),I_}function x_(){return(x_=w(function*(t){try{return(yield QM()).transaction(cu).objectStore(cu).get(ZM(t))}catch(e){if(e instanceof bi)Eo.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});Eo.warn(n.message)}}})).apply(this,arguments)}function YM(t,e){return S_.apply(this,arguments)}function S_(){return(S_=w(function*(t,e){try{const r=(yield QM()).transaction(cu,"readwrite");return yield r.objectStore(cu).put(e,ZM(t)),r.done}catch(n){if(n instanceof bi)Eo.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n?.message});Eo.warn(r.message)}}})).apply(this,arguments)}function ZM(t){return`${t.name}!${t.options.appId}`}class D8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return w(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return w(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=XM(),{heartbeatsToSend:r,unsentEntries:i}=function E8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),JM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Mh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function XM(){return(new Date).toISOString().substring(0,10)}class I8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(function*(){return!!PM()&&function s5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return w(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function w8(t){return x_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return w(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return YM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return w(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return YM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function JM(t){return Mh(JSON.stringify({version:2,heartbeats:t})).length}!function x8(t){Io(new Yr("platform-logger",e=>new V5(e),"PRIVATE")),Io(new Yr("heartbeat",e=>new D8(e),"PRIVATE")),_r(C_,"0.9.3",t),_r(C_,"0.9.3","esm2017"),_r("fire-js","")}("");class S8{constructor(e,n){this._delegate=e,this.firebase=n,Ph(e,new Yr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zM(this._delegate)))}_getService(e,n=Di){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Di){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ph(this._delegate,e)}_addOrOverwriteComponent(e){qM(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const e1=new Oh("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),A8=function t1(){const t=function M8(t){const e={},n={__esModule:!0,initializeApp:function o(u,l={}){const d=D_(u,l);if(kM(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h},app:i,registerVersion:_r,setLogLevel:KM,onLog:WM,apps:null,SDK_VERSION:Rh,INTERNAL:{registerComponent:function a(u){const l=u.name,d=l.replace("-compat","");if(Io(u)&&"PUBLIC"===u.type){const h=(f=i())=>{if("function"!=typeof f[d])throw e1.create("invalid-app-argument",{appName:l});return f[d]()};void 0!==u.serviceProps&&su(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,l).apply(this,u.multipleInstances?f:[])}}return"PUBLIC"===u.type?n[d]:null},removeApp:function r(u){delete e[u]},useAsService:function c(u,l){return"serverAuth"===l?null:l},modularAPIs:qa}};function i(u){if(!kM(e,u=u||Di))throw e1.create("no-app",{appName:u});return e[u]}return n.default=n,Object.defineProperty(n,"apps",{get:function s(){return Object.keys(e).map(u=>e[u])}}),i.App=t,n}(S8);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:t1,extendNamespace:function e(n){su(t,n)},createSubscribe:l5,ErrorFactory:Oh,deepExtend:su}),t}(),n1=new g_("@firebase/app-compat");if(function i5(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){n1.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&n1.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const kh=A8;!function P8(t){_r("@firebase/app-compat","0.2.3",t)}(),kh.registerVersion("firebase","9.17.1","app-compat");const r1="firebasestorage.googleapis.com",i1="storageBucket";class qe extends bi{constructor(e,n,r=0){super(T_(e),`Firebase Storage: ${n} (${T_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return T_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ne=(()=>{return(t=Ne||(Ne={})).UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ne;var t})();function T_(t){return"storage/"+t}function M_(){return new qe(Ne.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o1(){return new qe(Ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s1(){return new qe(Ne.CANCELED,"User canceled the upload/download.")}function a1(){return new qe(Ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ra(t){return new qe(Ne.INVALID_ARGUMENT,t)}function c1(){return new qe(Ne.APP_DELETED,"The Firebase app was deleted.")}function u1(t){return new qe(Ne.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uu(t,e){return new qe(Ne.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function lu(t){throw new qe(Ne.INTERNAL_ERROR,"Internal error: "+t)}class Ut{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ut.makeFromUrl(e,n)}catch{return new Ut(e,"")}if(""===r.path)return r;throw function G8(t){return new qe(Ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function o(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===r1?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<y.length;A++){const V=y[A],j=V.regex.exec(e);if(j){let nr=j[V.indices.path];nr||(nr=""),r=new Ut(j[V.indices.bucket],nr),V.postModify(r);break}}if(null==r)throw function q8(t){return new qe(Ne.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Y8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Fh(t){return"string"==typeof t||t instanceof String}function l1(t){return A_()&&t instanceof Blob}function A_(){return typeof Blob<"u"&&!NM()}function O_(t,e,n,r){if(r<e)throw ra(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ra(`Invalid value for '${t}'. Expected ${n} or less.`)}function Xr(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function d1(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Ii=(()=>{return(t=Ii||(Ii={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",Ii;var t})();function h1(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class n6{constructor(e,n,r,i,o,s,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function J8(t){return void 0!==t}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=M_();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?c1():s1():o1())};this.canceled_?n(0,new Lh(!1,null,!0)):this.backoffId_=function Z8(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let u=!1;function l(...m){u||(u=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,t(f,c())},m)}function h(){o&&clearTimeout(o)}function f(m,...D){if(u)return void h();if(m)return h(),void l.call(null,m,...D);if(c()||s)return h(),void l.call(null,m,...D);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),d(y)}let p=!1;function g(m){p||(p=!0,h(),!u&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new Lh(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ii.NO_ERROR,c=o.getStatus();if(!a||h1(c,this.additionalRetryCodes_)&&this.retry){const l=o.getErrorCode()===Ii.ABORT;return void r(!1,new Lh(!1,null,l))}const u=-1!==this.successCodes_.indexOf(c);r(!0,new Lh(u,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function X8(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function u6(...t){const e=function c6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(A_())return new Blob(t);throw new qe(Ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class N_{constructor(e,n){this.data=e,this.contentType=n||null}}function P_(t,e){switch(t){case Dn.RAW:return new N_(f1(e));case Dn.BASE64:case Dn.BASE64URL:return new N_(p1(t,e));case Dn.DATA_URL:return new N_(function f6(t){const e=new g1(t);return e.base64?p1(Dn.BASE64,e.rest):function h6(t){let e;try{e=decodeURIComponent(t)}catch{throw uu(Dn.DATA_URL,"Malformed data URL.")}return f1(e)}(e.rest)}(e),function p6(t){return new g1(t).contentType}(e))}throw M_()}function f1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function p1(t,e){switch(t){case Dn.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw uu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw uu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function d6(t){if(typeof atob>"u")throw function Q8(t){return new qe(Ne.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:uu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class g1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw uu(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function g6(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class vr{constructor(e,n){let r=0,i="";l1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(l1(this.data_)){const i=function l6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new vr(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new vr(r,!0)}}static getBlob(...e){if(A_()){const n=e.map(r=>r instanceof vr?r.data_:r);return new vr(u6.apply(null,n))}{const n=e.map(s=>Fh(s)?P_(Dn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new vr(i,!0)}}uploadData(){return this.data_}}function R_(t){let e;try{e=JSON.parse(t)}catch{return null}return function t6(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function m1(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function _6(t,e){return e}class Zt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||_6}}let Vh=null;function du(){if(Vh)return Vh;const t=[];t.push(new Zt("bucket")),t.push(new Zt("generation")),t.push(new Zt("metageneration")),t.push(new Zt("name","fullPath",!0));const n=new Zt("name");n.xform=function e(o,s){return function v6(t){return!Fh(t)||t.length<2?t:m1(t)}(s)},t.push(n);const i=new Zt("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new Zt("timeCreated")),t.push(new Zt("updated")),t.push(new Zt("md5Hash",null,!0)),t.push(new Zt("cacheControl",null,!0)),t.push(new Zt("contentDisposition",null,!0)),t.push(new Zt("contentEncoding",null,!0)),t.push(new Zt("contentLanguage",null,!0)),t.push(new Zt("contentType",null,!0)),t.push(new Zt("metadata","customMetadata",!0)),Vh=t,Vh}function y1(t,e,n){const r=R_(e);return null===r?null:function b6(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function w6(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Ut(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function k_(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const _1="prefixes";class wr{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function br(t){if(!t)throw M_()}function Bh(t,e){return function n(r,i){const o=y1(t,i,e);return br(null!==o),o}}function ia(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function $8(){return new qe(Ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function j8(){return new qe(Ne.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function U8(t){return new qe(Ne.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function H8(t){return new qe(Ne.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function hu(t){const e=ia(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function B8(t){return new qe(Ne.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function w1(t,e,n){const i=Xr(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new wr(i,"GET",Bh(t,n),s);return a.errorHandler=hu(e),a}function S6(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=Xr(e.bucketOnlyServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,l=new wr(a,"GET",function I6(t,e){return function n(r,i){const o=function E6(t,e,n){const r=R_(n);return null===r?null:function D6(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_1])for(const i of n[_1]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Ut(e,o));r.prefixes.push(s)}if(n.items)for(const i of n.items){const o=t._makeStorageReference(new Ut(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return br(null!==o),o}}(t,e.bucket),u);return l.urlParams=o,l.errorHandler=ia(e),l}function C1(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function O6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class Uh{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function F_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{br(!1)}return br(!!n&&-1!==(e||["active"]).indexOf(n)),n}const k6={STATE_CHANGED:"state_changed"},Xt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function L_(t){switch(t){case"running":case"pausing":case"canceling":return Xt.RUNNING;case"paused":return Xt.PAUSED;case"success":return Xt.SUCCESS;case"canceled":return Xt.CANCELED;default:return Xt.ERROR}}class F6{constructor(e,n,r){if(function e6(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function oa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class L6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ii.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ii.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ii.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw lu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class V6 extends L6{initXhr(){this.xhr_.responseType="text"}}function er(){return new V6}class x1{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=du(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ne.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(h1(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=o1()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ne.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function N6(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=C1(e,r,i),a={name:s.fullPath},c=Xr(o,t.host,t._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=k_(s,n),p=new wr(c,"POST",function f(g){let m;F_(g);try{m=g.getResponseHeader("X-Goog-Upload-URL")}catch{br(!1)}return br(Fh(m)),m},t.maxUploadRetryTime);return p.urlParams=a,p.headers=l,p.body=d,p.errorHandler=ia(e),p}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,er,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function P6(t,e,n,r){const c=new wr(n,"POST",function o(u){const l=F_(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{br(!1)}d||br(!1);const h=Number(d);return br(!isNaN(h)),new Uh(h,r.size(),"final"===l)},t.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=ia(e),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,er,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new Uh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function R6(t,e,n,r,i,o,s,a){const c=new Uh(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function W8(){return new qe(Ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=c.total-c.current;let l=u;i>0&&(l=Math.min(l,i));const d=c.current;let f="";f=0===l?"finalize":u===l?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${c.current}`},g=r.slice(d,d+l);if(null===g)throw a1();const y=new wr(n,"POST",function m(A,V){const j=F_(A,["active","final"]),Je=c.current+l,nr=r.size();let cb;return cb="final"===j?Bh(e,o)(A,V):null,new Uh(Je,nr,"final"===j,cb)},e.maxUploadRetryTime);return y.headers=p,y.body=g.uploadData(),y.progressCallback=a||null,y.errorHandler=ia(t),y}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,er,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=w1(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,er,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function D1(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let y="";for(let A=0;A<2;A++)y+=Math.random().toString().slice(2);return y}();s["Content-Type"]="multipart/related; boundary="+c;const u=C1(e,r,i),l=k_(u,n),f=vr.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+c+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===f)throw a1();const p={name:u.fullPath},g=Xr(o,t.host,t._protocol),D=t.maxUploadRetryTime,x=new wr(g,"POST",Bh(t,n),D);return x.urlParams=p,x.headers=s,x.body=f.uploadData(),x.errorHandler=ia(e),x}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,er,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=s1(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=L_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new F6(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(L_(this._state)){case Xt.SUCCESS:oa(this._resolve.bind(null,this.snapshot))();break;case Xt.CANCELED:case Xt.ERROR:oa(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(L_(this._state)){case Xt.RUNNING:case Xt.PAUSED:e.next&&oa(e.next.bind(e,this.snapshot))();break;case Xt.SUCCESS:e.complete&&oa(e.complete.bind(e))();break;default:e.error&&oa(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class xo{constructor(e,n){this._service=e,this._location=n instanceof Ut?n:Ut.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xo(e,n)}get root(){const e=new Ut(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m1(this._location.path)}get storage(){return this._service}get parent(){const e=function m6(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Ut(this._location.bucket,e);return new xo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw u1(e)}}function T1(t,e,n){return V_.apply(this,arguments)}function V_(){return(V_=w(function*(t,e,n){const i=yield M1(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield T1(t,e,i.nextPageToken))})).apply(this,arguments)}function M1(t,e){null!=e&&"number"==typeof e.maxResults&&O_("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=S6(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,er)}function Y6(t){t._throwIfRoot("getDownloadURL");const e=function T6(t,e,n){const i=Xr(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new wr(i,"GET",function x6(t,e){return function n(r,i){const o=y1(t,i,e);return br(null!==o),function C6(t,e,n,r){const i=R_(e);if(null===i||!Fh(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const d=t.fullPath;return Xr("/b/"+s(t.bucket)+"/o/"+s(d),n,r)+d1({alt:"media",token:u})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=hu(e),a}(t.storage,t._location,du());return t.storage.makeRequestWithTokens(e,er).then(n=>{if(null===n)throw function K8(){return new qe(Ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function A1(t,e){const n=function y6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ut(t._location.bucket,n);return new xo(t.storage,r)}function O1(t,e){if(t instanceof B_){const n=t;if(null==n._bucket)throw function z8(){return new qe(Ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+i1+"' property when initializing the app?")}();const r=new xo(n,n._bucket);return null!=e?O1(r,e):r}return void 0!==e?A1(t,e):t}function e7(t,e){if(e&&function X6(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof B_)return function J6(t,e){return new xo(t,e)}(t,e);throw ra("To use ref(service, url), the first argument must be a Storage instance.")}return O1(t,e)}function N1(t,e){const n=e?.[i1];return null==n?null:Ut.makeFromBucketSpec(n,t)}class B_{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=r1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ut.makeFromBucketSpec(i,this._host):N1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ut.makeFromBucketSpec(this._url,e):N1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return w(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return w(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xo(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Y8(c1());{const s=function a6(t,e,n,r,i,o,s=!0){const a=d1(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return function o6(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function r6(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function i6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,o),function s6(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new n6(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return w(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const P1="@firebase/storage";function F1(t,e){return e7(t=Ie(t),e)}function l7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new B_(n,r,i,e,Rh)}!function d7(){Io(new Yr("storage",l7,"PUBLIC").setMultipleInstances(!0)),_r(P1,"0.11.1",""),_r(P1,"0.11.1","esm2017")}();class jh{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class V1{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new jh(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new jh(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new jh(s,this,this._ref)):{next:n.next?s=>n.next(new jh(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class B1{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Jr(e,this._service))}get items(){return this._delegate.items.map(e=>new Jr(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Jr{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function u7(t,e){return A1(t,e)}(this._delegate,e);return new Jr(n,this.storage)}get root(){return new Jr(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Jr(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new V1(function n7(t,e,n){return function G6(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new x1(t,new vr(e),n)}(t=Ie(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Dn.RAW,r){this._throwIfRoot("putString");const i=P_(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new V1(new x1(this._delegate,new vr(i.data,!0),o),this)}listAll(){return function s7(t){return function W6(t){const e={prefixes:[],items:[]};return T1(t,e).then(()=>e)}(t=Ie(t))}(this._delegate).then(e=>new B1(e,this.storage))}list(e){return function o7(t,e){return M1(t=Ie(t),e)}(this._delegate,e||void 0).then(n=>new B1(n,this.storage))}getMetadata(){return function r7(t){return function K6(t){t._throwIfRoot("getMetadata");const e=w1(t.storage,t._location,du());return t.storage.makeRequestWithTokens(e,er)}(t=Ie(t))}(this._delegate)}updateMetadata(e){return function i7(t,e){return function Q6(t,e){t._throwIfRoot("updateMetadata");const n=function M6(t,e,n,r){const o=Xr(e.fullServerUrl(),t.host,t._protocol),a=k_(n,r),u=t.maxOperationRetryTime,l=new wr(o,"PATCH",Bh(t,r),u);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=a,l.errorHandler=hu(e),l}(t.storage,t._location,e,du());return t.storage.makeRequestWithTokens(n,er)}(t=Ie(t),e)}(this._delegate,e)}getDownloadURL(){return function a7(t){return Y6(t=Ie(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function c7(t){return function Z6(t){t._throwIfRoot("deleteObject");const e=function A6(t,e){const r=Xr(e.fullServerUrl(),t.host,t._protocol),a=new wr(r,"DELETE",function s(c,u){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=hu(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,er)}(t=Ie(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw u1(e)}}class U1{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(j1(e))throw ra("ref() expected a child path but got a URL, use refFromURL instead.");return new Jr(F1(this._delegate,e),this)}refFromURL(e){if(!j1(e))throw ra("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ut.makeFromUrl(e,this._delegate.host)}catch{throw ra("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jr(F1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function L1(t,e,n,r={}){!function t7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:OM(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function j1(t){return/^[A-Za-z]+:\/\//.test(t)}function g7(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new U1(n,r)}!function m7(t){const e={TaskState:Xt,TaskEvent:k6,StringFormat:Dn,Storage:U1,Reference:Jr};t.INTERNAL.registerComponent(new Yr("storage-compat",g7,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.1")}(kh);var U,y7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ei={},U_=U_||{},X=y7||self;function $h(){}function Hh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function fu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var j_="closure_uid_"+(1e9*Math.random()>>>0),v7=0;function w7(t,e,n){return t.call.apply(t.bind,arguments)}function b7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return(jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w7:b7).apply(null,arguments)}function qh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function xi(){this.s=this.s,this.o=this.o}xi.prototype.s=!1,xi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function _7(t){Object.prototype.hasOwnProperty.call(t,j_)&&t[j_]||(t[j_]=++v7)}(this)},xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function $_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function H1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function $t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var D7=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",$h,e),X.removeEventListener("test",$h,e)}catch{}return t}();function Gh(t){return/^[\s\xa0]*$/.test(t)}var q1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function H_(t,e){return t<e?-1:t>e?1:0}function zh(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function Cr(t){return-1!=zh().indexOf(t)}function q_(t){return q_[" "](t),t}q_[" "]=$h;var Wh,t,I7=Cr("Opera"),sa=Cr("Trident")||Cr("MSIE"),G1=Cr("Edge"),G_=G1||sa,z1=Cr("Gecko")&&!(-1!=zh().toLowerCase().indexOf("webkit")&&!Cr("Edge"))&&!(Cr("Trident")||Cr("MSIE"))&&!Cr("Edge"),x7=-1!=zh().toLowerCase().indexOf("webkit")&&!Cr("Edge");function W1(){var t=X.document;return t?t.documentMode:void 0}e:{var z_="",W_=(t=zh(),z1?/rv:([^\);]+)(\)|;)/.exec(t):G1?/Edge\/([\d\.]+)/.exec(t):sa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):x7?/WebKit\/(\S+)/.exec(t):I7?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(W_&&(z_=W_?W_[1]:""),sa){var K_=W1();if(null!=K_&&K_>parseFloat(z_)){Wh=String(K_);break e}}Wh=z_}var S7={};var M7=X.document&&sa&&(W1()||parseInt(Wh,10))||void 0;function pu(t,e){if($t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(z1){e:{try{q_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:A7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&pu.X.h.call(this)}}Mt(pu,$t);var A7={2:"touch",3:"pen",4:"mouse"};pu.prototype.h=function(){pu.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gu="closure_listenable_"+(1e6*Math.random()|0),O7=0;function N7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++O7,this.ba=this.ea=!1}function Kh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Y_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Q1(t){const e={};for(const n in t)e[n]=t[n];return e}const Y1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<Y1.length;o++)n=Y1[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qh(t){this.src=t,this.g={},this.h=0}function Z_(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=$1(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Kh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function X_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}Qh.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=X_(t,e,r,i);return-1<s?(e=t[s],n||(e.ea=!1)):((e=new N7(e,this.src,o,!!r,i)).ea=n,t.push(e)),e};var J_="closure_lm_"+(1e6*Math.random()|0),ev={};function X1(t,e,n,r,i){if(r&&r.once)return eA(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)X1(t,e[o],n,r,i);return null}return n=iv(n),t&&t[gu]?t.N(e,n,fu(r)?!!r.capture:!!r,i):J1(t,e,n,!1,r,i)}function J1(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=fu(i)?!!i.capture:!!i,a=nv(t);if(a||(t[J_]=a=new Qh(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function P7(){const e=R7;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)D7||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nA(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function eA(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)eA(t,e[o],n,r,i);return null}return n=iv(n),t&&t[gu]?t.O(e,n,fu(r)?!!r.capture:!!r,i):J1(t,e,n,!0,r,i)}function tA(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tA(t,e[o],n,r,i);else r=fu(r)?!!r.capture:!!r,n=iv(n),t&&t[gu]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=X_(o=t.g[e],n,r,i))&&(Kh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=nv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=X_(e,n,r,i)),(n=-1<t?e[t]:null)&&tv(n))}function tv(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[gu])Z_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=nv(e))?(Z_(n,t),0==n.h&&(n.src=null,e[J_]=null)):Kh(t)}}}function nA(t){return t in ev?ev[t]:ev[t]="on"+t}function R7(t,e){if(t.ba)t=!0;else{e=new pu(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&tv(t),t=n.call(r,e)}return t}function nv(t){return(t=t[J_])instanceof Qh?t:null}var rv="__closure_events_fn_"+(1e9*Math.random()>>>0);function iv(t){return"function"==typeof t?t:(t[rv]||(t[rv]=function(e){return t.handleEvent(e)}),t[rv])}function wt(){xi.call(this),this.i=new Qh(this),this.P=this,this.I=null}function At(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new $t(e,t);else if(e instanceof $t)e.target=e.target||t;else{var i=e;Z1(e=new $t(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Yh(s,r,!0,e)&&i}if(i=Yh(s=e.g=t,r,!0,e)&&i,i=Yh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Yh(s=e.g=n[o],r,!1,e)&&i}function Yh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,c=s.ha||s.src;s.ea&&Z_(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Mt(wt,xi),wt.prototype[gu]=!0,wt.prototype.removeEventListener=function(t,e,n,r){tA(this,t,e,n,r)},wt.prototype.M=function(){if(wt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kh(n[r]);delete t.g[e],t.h--}}this.I=null},wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ov=X.JSON.stringify;function k7(){var t=oA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var sv,rA=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new L7,t=>t.reset());class L7{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function V7(t){X.setTimeout(()=>{throw t},0)}function iA(t,e){sv||function B7(){var t=X.Promise.resolve(void 0);sv=function(){t.then(U7)}}(),av||(sv(),av=!0),oA.add(t,e)}var av=!1,oA=new class F7{constructor(){this.h=this.g=null}add(e,n){const r=rA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function U7(){for(var t;t=k7();){try{t.h.call(t.g)}catch(n){V7(n)}var e=rA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}av=!1}function Zh(t,e){wt.call(this),this.h=t||1,this.g=e||X,this.j=jt(this.lb,this),this.l=Date.now()}function cv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function uv(t,e,n){if("function"==typeof t)n&&(t=jt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=jt(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function sA(t){t.g=uv(()=>{t.g=null,t.i&&(t.i=!1,sA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mt(Zh,wt),(U=Zh.prototype).ca=!1,U.R=null,U.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),At(this,"tick"),this.ca&&(cv(this),this.start()))}},U.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.M=function(){Zh.X.M.call(this),cv(this),delete this.g};class j7 extends xi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sA(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mu(t){xi.call(this),this.h=t,this.g={}}Mt(mu,xi);var aA=[];function cA(t,e,n,r){Array.isArray(n)||(n&&(aA[0]=n.toString()),n=aA);for(var i=0;i<n.length;i++){var o=X1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function uA(t){Y_(t.g,function(e,n){this.g.hasOwnProperty(n)&&tv(e)},t),t.g={}}function Xh(){this.g=!0}function aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function G7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ov(n)}catch{return e}}(t,n)+(r?" "+r:"")})}mu.prototype.M=function(){mu.X.M.call(this),uA(this)},mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xh.prototype.Aa=function(){this.g=!1},Xh.prototype.info=function(){};var So={},lA=null;function Jh(){return lA=lA||new wt}function dA(t){$t.call(this,So.Pa,t)}function yu(t){const e=Jh();At(e,new dA(e))}function hA(t,e){$t.call(this,So.STAT_EVENT,t),this.stat=e}function Jt(t){const e=Jh();At(e,new hA(e,t))}function fA(t,e){$t.call(this,So.Qa,t),this.size=e}function _u(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}So.Pa="serverreachability",Mt(dA,$t),So.STAT_EVENT="statevent",Mt(hA,$t),So.Qa="timingevent",Mt(fA,$t);var ef={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},pA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lv(){}function mA(){}lv.prototype.h=null;var fv,vu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function dv(){$t.call(this,"d")}function hv(){$t.call(this,"c")}function tf(){}function wu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new mu(this),this.O=z7,this.T=new Zh(t=G_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yA}function yA(){this.i=null,this.g="",this.h=!1}Mt(dv,$t),Mt(hv,$t),Mt(tf,lv),tf.prototype.g=function(){return new XMLHttpRequest},tf.prototype.i=function(){return{}},fv=new tf;var z7=45e3,pv={},nf={};function gv(t,e,n){t.K=1,t.v=cf(ti(e)),t.s=n,t.P=!0,_A(t,null)}function _A(t,e){t.F=Date.now(),bu(t),t.A=ti(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),TA(n.i,"t",r),t.C=0,n=t.l.H,t.h=new yA,t.g=XA(t.l,n?e:null,!t.s),0<t.N&&(t.L=new j7(jt(t.La,t,t.g),t.N)),cA(t.S,t.g,"readystatechange",t.ib),e=t.H?Q1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),yu(),function $7(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.U,t.s)}function vA(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function wA(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=W7(t,n),i==nf){4==e&&(t.o=4,Jt(14),r=!1),aa(t.j,t.m,null,"[Incomplete Response]");break}if(i==pv){t.o=4,Jt(15),aa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}aa(t.j,t.m,i,null),mv(t,i)}vA(t)&&i!=nf&&i!=pv&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ev(e),e.K=!0,Jt(11))):(aa(t.j,t.m,n,"[Invalid Chunked Response]"),To(t),Cu(t))}function W7(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?nf:(n=Number(e.substring(n,r)),isNaN(n)?pv:(r+=1)+n>e.length?nf:(e=e.substr(r,n),t.C=r+n,e))}function bu(t){t.V=Date.now()+t.O,bA(t,t.O)}function bA(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=_u(jt(t.gb,t),e)}function rf(t){t.B&&(X.clearTimeout(t.B),t.B=null)}function Cu(t){0==t.l.G||t.I||KA(t.l,t)}function To(t){rf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,cv(t.T),uA(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function mv(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||yv(n.h,t)))if(!t.J&&yv(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;pf(n),hf(n)}Dv(n),Jt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=_u(jt(n.cb,n),6e3));if(1>=OA(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ao(n,11)}else if((t.J||n.g==t)&&pf(n),!Gh(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.I=u[1],n.ka=u[2];const l=u[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=u[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(_v(o,o.h),o.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Ve(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var s=t;if((r=n).sa=ZA(r,r.H?r.ka:null,r.V),s.J){NA(r.h,s);var a=s,c=r.J;c&&a.setTimeout(c),a.B&&(rf(a),bu(a)),r.g=s}else zA(r);0<n.i.length&&ff(n)}else"stop"!=u[0]&&"close"!=u[0]||Ao(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ao(n,7):Cv(n):"noop"!=u[0]&&n.l&&n.l.wa(u),n.A=0)}yu()}catch{}}function CA(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Hh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Q7(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function K7(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Hh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(U=wu.prototype).setTimeout=function(t){this.O=t},U.ib=function(t){t=t.target;const e=this.L;e&&3==ni(t)?e.l():this.La(t)},U.La=function(t){try{if(t==this.g)e:{const l=ni(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||G_||this.g&&(this.h.h||this.g.fa()||UA(this.g)))){this.I||4!=l||7==e||yu(),rf(this);var n=this.g.aa();this.Y=n;t:if(vA(this)){var r=UA(this.g);t="";var i=r.length,o=4==ni(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){To(this),Cu(this);var s="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==n,function H7(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gh(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Jt(12),To(this),Cu(this);break e}aa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mv(this,n)}this.P?(wA(this,l,s),G_&&this.i&&3==l&&(cA(this.S,this.T,"tick",this.hb),this.T.start())):(aa(this.j,this.m,s,null),mv(this,s)),4==l&&To(this),this.i&&!this.I&&(4==l?KA(this.l,this):(this.i=!1,bu(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Jt(12)):(this.o=0,Jt(13)),To(this),Cu(this)}}}catch{}},U.hb=function(){if(this.g){var t=ni(this.g),e=this.g.fa();this.C<e.length&&(rf(this),wA(this,t,e),this.i&&4!=t&&bu(this))}},U.cancel=function(){this.I=!0,To(this)},U.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function q7(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(yu(),Jt(17)),To(this),this.o=2,Cu(this)):bA(this,this.V-t)};var DA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mo){this.h=void 0!==e?e:t.h,sf(this,t.j),this.s=t.s,this.g=t.g,af(this,t.m),this.l=t.l,e=t.i;var n=new Iu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),EA(this,n),this.o=t.o}else t&&(n=String(t).match(DA))?(this.h=!!e,sf(this,n[1]||"",!0),this.s=Du(n[2]||""),this.g=Du(n[3]||"",!0),af(this,n[4]),this.l=Du(n[5]||"",!0),EA(this,n[6]||"",!0),this.o=Du(n[7]||"")):(this.h=!!e,this.i=new Iu(null,this.h))}function ti(t){return new Mo(t)}function sf(t,e,n){t.j=n?Du(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function af(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function EA(t,e,n){e instanceof Iu?(t.i=e,function nW(t,e){e&&!t.j&&(Si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(xA(this,r),TA(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Eu(e,eW)),t.i=new Iu(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function cf(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Du(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Eu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Z7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Z7(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Eu(e,IA,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Eu(e,IA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Eu(n,"/"==n.charAt(0)?J7:X7,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Eu(n,tW)),t.join("")};var IA=/[#\/\?@]/g,X7=/[#\?:]/g,J7=/[#\?]/g,eW=/[#\?@]/g,tW=/#/g;function Iu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Si(t){t.g||(t.g=new Map,t.h=0,t.i&&function Y7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function xA(t,e){Si(t),e=ca(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function SA(t,e){return Si(t),e=ca(t,e),t.g.has(e)}function TA(t,e,n){xA(t,e),0<n.length&&(t.i=null,t.g.set(ca(t,e),$_(n)),t.h+=n.length)}function ca(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MA(t){this.l=t||iW,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ga&&X.g.Ga()&&X.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=Iu.prototype).add=function(t,e){Si(this),this.i=null,t=ca(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},U.forEach=function(t,e){Si(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},U.oa=function(){Si(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},U.W=function(t){Si(this);let e=[];if("string"==typeof t)SA(this,t)&&(e=e.concat(this.g.get(ca(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},U.set=function(t,e){return Si(this),this.i=null,SA(this,t=ca(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},U.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var iW=10;function AA(t){return!!t.h||!!t.g&&t.g.size>=t.j}function OA(t){return t.h?1:t.g?t.g.size:0}function yv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function _v(t,e){t.g?t.g.add(e):t.h=e}function NA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function PA(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return $_(t.i)}function vv(){}function oW(){this.g=new vv}function sW(t,e,n){const r=n||"";try{CA(t,function(i,o){let s=i;fu(i)&&(s=ov(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xu(t){this.l=t.ac||null,this.j=t.jb||!1}function lf(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=wv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}MA.prototype.cancel=function(){if(this.i=PA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},vv.prototype.stringify=function(t){return X.JSON.stringify(t,void 0)},vv.prototype.parse=function(t){return X.JSON.parse(t,void 0)},Mt(xu,lv),xu.prototype.g=function(){return new lf(this.l,this.j)},xu.prototype.i=function(t){return function(){return t}}({}),Mt(lf,wt);var wv=0;function RA(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Su(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tu(t)}function Tu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(U=lf.prototype).open=function(t,e){if(this.readyState!=wv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tu(this)},U.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||X).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Su(this)),this.readyState=wv},U.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RA(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},U.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Su(this):Tu(this),3==this.readyState&&RA(this)}},U.Va=function(t){this.g&&(this.response=this.responseText=t,Su(this))},U.Ua=function(t){this.g&&(this.response=t,Su(this))},U.ga=function(){this.g&&Su(this)},U.setRequestHeader=function(t,e){this.v.append(t,e)},U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(lf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cW=X.JSON.parse;function Qe(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kA,this.K=this.L=!1}Mt(Qe,wt);var kA="",uW=/^https?$/i,lW=["POST","PUT"];function FA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,LA(t),df(t)}function LA(t){t.D||(t.D=!0,At(t,"complete"),At(t,"error"))}function VA(t){if(t.h&&typeof U_<"u"&&(!t.C[1]||4!=ni(t)||2!=t.aa()))if(t.v&&4==ni(t))uv(t.Ha,0,t);else if(At(t,"readystatechange"),4==ni(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(DA)[1]||null;if(!i&&X.self&&X.self.location){var o=X.self.location.protocol;i=o.substr(0,o.length-1)}r=!uW.test(i?i.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var s=2<ni(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.aa()+"]",LA(t)}}finally{df(t)}}}function df(t,e){if(t.g){BA(t);const n=t.g,r=t.C[0]?$h:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function BA(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function ni(t){return t.g?t.g.readyState:0}function UA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case kA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jA(t){let e="";return Y_(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function bv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jA(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function Mu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $A(t){this.Ca=0,this.i=[],this.j=new Xh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Mu("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Mu("baseRetryDelayMs",5e3,t),this.bb=Mu("retryDelaySeedMs",1e4,t),this.$a=Mu("forwardChannelMaxRetries",2,t),this.ta=Mu("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new MA(t&&t.concurrentRequestLimit),this.Fa=new oW,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Cv(t){if(HA(t),3==t.G){var e=t.U++,n=ti(t.F);Ve(n,"SID",t.I),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Au(t,n),(e=new wu(t,t.j,e,void 0)).K=2,e.v=cf(ti(n)),n=!1,X.navigator&&X.navigator.sendBeacon&&(n=X.navigator.sendBeacon(e.v.toString(),"")),!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=XA(e.l,null),e.g.da(e.v)),e.F=Date.now(),bu(e)}YA(t)}function hf(t){t.g&&(Ev(t),t.g.cancel(),t.g=null)}function HA(t){hf(t),t.u&&(X.clearTimeout(t.u),t.u=null),pf(t),t.h.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function ff(t){AA(t.h)||t.m||(t.m=!0,iA(t.Ja,t),t.C=0)}function qA(t,e){var n;n=e?e.m:t.U++;const r=ti(t.F);Ve(r,"SID",t.I),Ve(r,"RID",n),Ve(r,"AID",t.T),Au(t,r),t.o&&t.s&&bv(r,t.o,t.s),n=new wu(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=GA(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),_v(t.h,n),gv(n,r,e)}function Au(t,e){t.ia&&Y_(t.ia,function(n,r){Ve(e,r,n)}),t.l&&CA({},function(n,r){Ve(e,r,n)})}function GA(t,e,n){n=Math.min(t.i.length,n);var r=t.l?jt(t.l.Ra,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].h;const l=i[c].g;if(u-=o,0>u)o=Math.max(0,i[c].h-100),a=!1;else try{sW(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function zA(t){t.g||t.u||(t.Z=1,iA(t.Ia,t),t.A=0)}function Dv(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=_u(jt(t.Ia,t),QA(t,t.A)),t.A++,0))}function Ev(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function WA(t){t.g=new wu(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=ti(t.sa);Ve(e,"RID","rpc"),Ve(e,"SID",t.I),Ve(e,"CI",t.L?"0":"1"),Ve(e,"AID",t.T),Ve(e,"TYPE","xmlhttp"),Au(t,e),t.o&&t.s&&bv(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=cf(ti(e)),n.s=null,n.P=!0,_A(n,t)}function pf(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function KA(t,e){var n=null;if(t.g==e){pf(t),Ev(t),t.g=null;var r=2}else{if(!yv(t.h,e))return;n=e.D,NA(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;At(r=Jh(),new fA(r,n)),ff(t)}else zA(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function hW(t,e){return!(OA(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=_u(jt(t.Ja,t,e),QA(t,t.C)),t.C++,0)))}(t,e)||2==r&&Dv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ao(t,5);break;case 4:Ao(t,10);break;case 3:Ao(t,6);break;default:Ao(t,2)}}function QA(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ao(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=jt(t.kb,t);n||(n=new Mo("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||sf(n,"https"),cf(n)),function aW(t,e){const n=new Xh;if(X.Image){const r=new Image;r.onload=qh(uf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qh(uf,n,r,"TestLoadImage: error",!1,e),r.onabort=qh(uf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qh(uf,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.G=0,t.l&&t.l.va(e),YA(t),HA(t)}function YA(t){if(t.G=0,t.la=[],t.l){const e=PA(t.h);(0!=e.length||0!=t.i.length)&&(H1(t.la,e),H1(t.la,t.i),t.h.i.length=0,$_(t.i),t.i.length=0),t.l.ua()}}function ZA(t,e,n){var r=n instanceof Mo?ti(n):new Mo(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),af(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Mo(null,void 0);r&&sf(o,r),e&&(o.g=e),i&&af(o,i),n&&(o.l=n),r=o}return e=t.za,(n=t.D)&&e&&Ve(r,n,e),Ve(r,"VER",t.ma),Au(t,r),r}function XA(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qe(n&&t.Da&&!t.ra?new xu({jb:!0}):t.ra)).Ka(t.H),e}function JA(){}function gf(){if(sa&&!(10<=Number(M7)))throw Error("Environmental error: no available transport.")}function En(t,e){wt.call(this),this.g=new $A(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Gh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ua(this)}function eO(t){dv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function tO(){hv.call(this),this.status=1}function ua(t){this.g=t}(U=Qe.prototype).Ka=function(t){this.L=t},U.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fv.g(),this.C=function gA(t){return t.h||(t.h=t.i())}(this.u?this.u:fv),this.g.onreadystatechange=jt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void FA(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=X.FormData&&t instanceof X.FormData,!(0<=$1(lW,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{BA(this),0<this.B&&((this.K=function dW(t){return sa&&function T7(){return function E7(t){var e=S7;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=q1(String(Wh)).split("."),n=q1("9").split("."),r=Math.max(e.length,n.length);for(let s=0;0==t&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=H_(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||H_(0==i[2].length,0==o[2].length)||H_(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.qa,this)):this.A=uv(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){FA(this,o)}},U.qa=function(){typeof U_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))},U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),df(this))},U.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),df(this,!0)),Qe.X.M.call(this)},U.Ha=function(){this.s||(this.F||this.v||this.l?VA(this):this.fb())},U.fb=function(){VA(this)},U.aa=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},U.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},U.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cW(e)}},U.Ea=function(){return this.m},U.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=$A.prototype).ma=8,U.G=1,U.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new wu(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=Q1(o),Z1(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=GA(this,i,e),Ve(n=ti(this.F),"RID",t),Ve(n,"CVER",22),this.D&&Ve(n,"X-HTTP-Session-Id",this.D),Au(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(jA(o)))+"&"+e:this.o&&bv(n,this.o,o)),_v(this.h,i),this.Ya&&Ve(n,"TYPE","init"),this.O?(Ve(n,"$req",e),Ve(n,"SID","null"),i.Z=!0,gv(i,n,null)):gv(i,n,e),this.G=2}}else 3==this.G&&(t?qA(this,t):0==this.i.length||AA(this.h)||qA(this))},U.Ia=function(){if(this.u=null,WA(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=_u(jt(this.eb,this),t)}},U.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Jt(10),hf(this),WA(this))},U.cb=function(){null!=this.v&&(this.v=null,hf(this),Dv(this),Jt(19))},U.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))},(U=JA.prototype).xa=function(){},U.wa=function(){},U.va=function(){},U.ua=function(){},U.Ra=function(){},gf.prototype.g=function(t,e){return new En(t,e)},Mt(En,wt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Jt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=ZA(t,null,t.V),ff(t)},En.prototype.close=function(){Cv(this.g)},En.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ov(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&ff(e)},En.prototype.M=function(){this.g.l=null,delete this.j,Cv(this.g),delete this.g,En.X.M.call(this)},Mt(eO,dv),Mt(tO,hv),Mt(ua,JA),ua.prototype.xa=function(){At(this.g,"a")},ua.prototype.wa=function(t){At(this.g,new eO(t))},ua.prototype.va=function(t){At(this.g,new tO)},ua.prototype.ua=function(){At(this.g,"b")},gf.prototype.createWebChannel=gf.prototype.g,En.prototype.send=En.prototype.u,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,ef.NO_ERROR=0,ef.TIMEOUT=8,ef.HTTP_ERROR=6,pA.COMPLETE="complete",mA.EventType=vu,vu.OPEN="a",vu.CLOSE="b",vu.ERROR="c",vu.MESSAGE="d",wt.prototype.listen=wt.prototype.N,Qe.prototype.listenOnce=Qe.prototype.O,Qe.prototype.getLastError=Qe.prototype.Oa,Qe.prototype.getLastErrorCode=Qe.prototype.Ea,Qe.prototype.getStatus=Qe.prototype.aa,Qe.prototype.getResponseJson=Qe.prototype.Sa,Qe.prototype.getResponseText=Qe.prototype.fa,Qe.prototype.send=Qe.prototype.da,Qe.prototype.setWithCredentials=Qe.prototype.Ka;var fW=ei.createWebChannelTransport=function(){return new gf},pW=ei.getStatEventTarget=function(){return Jh()},Iv=ei.ErrorCode=ef,gW=ei.EventType=pA,mW=ei.Event=So,nO=ei.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yW=ei.FetchXmlHttpFactory=xu,mf=ei.WebChannel=mA,_W=ei.XhrIo=Qe;const rO="@firebase/firestore";class bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");let la="9.17.1";const Ti=new g_("@firebase/firestore");function xv(){return Ti.logLevel}function T(t,...e){if(Ti.logLevel<=_e.DEBUG){const n=e.map(Sv);Ti.debug(`Firestore (${la}): ${t}`,...n)}}function nt(t,...e){if(Ti.logLevel<=_e.ERROR){const n=e.map(Sv);Ti.error(`Firestore (${la}): ${t}`,...n)}}function Oo(t,...e){if(Ti.logLevel<=_e.WARN){const n=e.map(Sv);Ti.warn(`Firestore (${la}): ${t}`,...n)}}function Sv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: `+t;throw nt(e),new Error(e)}function B(t,e){t||F()}function P(t,e){return t}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class iO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class CW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DW{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(w(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new iO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new bt(e)}}class EW{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(B(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class IW{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new EW(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xW{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=o=>{null!=o.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.A;return this.A=o.token,T("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.A=n.token,new oO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function SW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class sO{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=SW(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function aO(t){return t+"\0"}class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ${constructor(e){this.timestamp=e}static fromTimestamp(e){return new $(e)}static min(){return new $(new Be(0,0))}static max(){return new $(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ou{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ou.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ou?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends Ou{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new E(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const TW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ou{construct(e,n,r){return new Ye(e,n,r)}static isValidIdentifier(e){return TW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new E(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new E(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new E(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new E(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(me.fromString(e))}static fromName(e){return new O(me.fromString(e).popFirst(5))}static empty(){return new O(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new me(e.slice()))}}class yf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Tv(t){return t.fields.find(e=>2===e.kind)}function No(t){return t.fields.filter(e=>2!==e.kind)}yf.UNKNOWN_ID=-1;class _f{constructor(e,n){this.fieldPath=e,this.kind=n}}class Nu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Nu(0,In.min())}}function cO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new Be(n+1,0):new Be(n,r));return new In(i,O.empty(),e)}function uO(t){return new In(t.readTime,t.key,-1)}class In{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new In($.min(),O.empty(),-1)}static max(){return new In($.max(),O.empty(),-1)}}function Mv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=O.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const lO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mi(t){return Av.apply(this,arguments)}function Av(){return Av=w(function*(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==lO)throw t;T("LocalStore","Unexpectedly lost primary lease")}),Av.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new _((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class vf{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new yt,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new Pu(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Ov(r.target.error);this.P.reject(new Pu(e,i))}}static open(e,n,r,i){try{return new vf(n,e.transaction(i,r))}catch(o){throw new Pu(n,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new NW(n)}}class tr{constructor(e,n,r){this.name=e,this.version=n,this.S=r,12.2===tr.D(Co())&&nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return T("SimpleDb","Removing database:",e),Po(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!PM())return!1;if(tr.N())return!0;const e=Co(),n=tr.D(e),r=0<n&&n<10,i=tr.k(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var n=this;return w(function*(){return n.db||(T("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Pu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new E(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new E(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Pu(e,a))},o.onupgradeneeded=s=>{T("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.S.$(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{T("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return w(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.F(e);const c=vf.open(o.db,e,s?"readonly":"readwrite",r),u=i(c).next(l=>(c.V(),l)).catch(l=>(c.abort(l),_.reject(l))).toPromise();return u.catch(()=>{}),yield c.v,u}catch(c){const u=c,l="FirebaseError"!==u.name&&a<3;if(T("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),o.close(),!l)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class OW{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Po(this.q.delete())}}class Pu extends E{constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ai(t){return"IndexedDbTransactionError"===t.name}class NW{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(T("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Po(r)}add(e){return T("SimpleDb","ADD",this.store.name,e,e),Po(this.store.add(e))}get(e){return Po(this.store.get(e)).next(n=>(void 0===n&&(n=null),T("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return T("SimpleDb","DELETE",this.store.name,e),Po(this.store.delete(e))}count(){return T("SimpleDb","COUNT",this.store.name),Po(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.H(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new _((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new _((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Y(e,n){T("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(o,s,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new _((r,i)=>{n.onerror=o=>{const s=Ov(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}H(e,n){const r=[];return new _((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new OW(a),u=n(a.primaryKey,a.value,c);if(u instanceof _){const l=u.catch(d=>(c.done(),_.reject(d)));r.push(l)}c.isDone?i():null===c.G?a.continue():a.continue(c.G)}}).next(()=>_.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Po(t){return new _((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=Ov(r.target.error);n(i)}})}let hO=!1;function Ov(t){const e=tr.D(Co());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new E("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hO||(hO=!0,setTimeout(()=>{throw r},0)),r}}return t}class PW{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;T("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,w(function*(){n.task=null;try{T("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(r){Ai(r)?T("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Mi(r)}yield n.nt(6e4)}))}}class RW{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return w(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.it(r,e))})()}it(e,n){const r=new Set;let i=n,o=!0;return _.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return T("IndexBackiller",`Processing collection: ${s}`),this.rt(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ot(i,o)).next(a=>(T("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=uO(o);Mv(s,r)>0&&(r=s)}),new In(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let xn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class kW{constructor(e,n,r,i,o,s,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class Oi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oi&&e.projectId===this.projectId&&e.database===this.database}}function fO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ru(t){return null==t}function ku(t){return 0===t&&1/t==-1/0}function gO(t){return"number"==typeof t&&Number.isInteger(t)&&!ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const LW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(B(!!t),"string"==typeof t){let e=0;const n=LW.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ko(t){return"string"==typeof t?_t.fromBase64String(t):_t.fromUint8Array(t)}function Nv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mO(t){const e=t.mapValue.fields.__previous_value__;return Nv(e)?mO(e):e}function Fu(t){const e=Ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}const Pi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wf={nullValue:"NULL_VALUE"};function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nv(t)?4:wO(t)?9007199254740991:10:F()}function Dr(t,e){if(t===e)return!0;const n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fu(t).isEqual(Fu(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ni(r.timestampValue),s=Ni(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ko(t.bytesValue).isEqual(ko(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ze(r.doubleValue),s=Ze(i.doubleValue);return o===s?ku(o)===ku(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(fO(o)!==fO(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Dr(o[a],s[a])))return!1;return!0}(t,e);default:return F()}var i}function Lu(t,e){return void 0!==(t.values||[]).find(n=>Dr(n,e))}function Ri(t,e){if(t===e)return 0;const n=Fo(t),r=Fo(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Ze(i.integerValue||i.doubleValue),a=Ze(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return yO(t.timestampValue,e.timestampValue);case 4:return yO(Fu(t),Fu(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,o){const s=ko(i),a=ko(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const u=J(s[c],a[c]);if(0!==u)return u}return J(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=J(Ze(i.latitude),Ze(o.latitude));return 0!==s?s:J(Ze(i.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const u=Ri(s[c],a[c]);if(u)return u}return J(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Pi.mapValue&&o===Pi.mapValue)return 0;if(i===Pi.mapValue)return 1;if(o===Pi.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=J(a[l],u[l]);if(0!==d)return d;const h=Ri(s[a[l]],c[u[l]]);if(0!==h)return h}return J(a.length,u.length)}(t.mapValue,e.mapValue);default:throw F()}}function yO(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=Ni(t),r=Ni(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function ha(t){return Pv(t)}function Pv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ni(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ko(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=Pv(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${Pv(r.fields[a])}`;return o+"}"}(t.mapValue):F();var e}function Lo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rv(t){return!!t&&"integerValue"in t}function Vu(t){return!!t&&"arrayValue"in t}function _O(t){return!!t&&"nullValue"in t}function vO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bf(t){return!!t&&"mapValue"in t}function Bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wO(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function VW(t){return"nullValue"in t?wf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Lo(Oi.empty(),O.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:F()}function BW(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Lo(Oi.empty(),O.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Pi:F()}function bO(t,e){const n=Ri(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function CO(t,e){const n=Ri(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class ki{constructor(e,n){this.position=e,this.inclusive=n}}function DO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?O.comparator(O.fromName(s.referenceValue),n.key):Ri(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function EO(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}class IO{}class he extends IO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new UW(e,n,r):"array-contains"===n?new HW(e,r):"in"===n?new OO(e,r):"not-in"===n?new qW(e,r):"array-contains-any"===n?new GW(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new jW(e,r):new $W(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ri(n,this.value)):null!==n&&Fo(this.value)===Fo(n)&&this.matchesComparison(Ri(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ee extends IO{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Ee(e,n)}matches(e){return fa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function fa(t){return"and"===t.op}function kv(t){return"or"===t.op}function Fv(t){return xO(t)&&fa(t)}function xO(t){for(const e of t.filters)if(e instanceof Ee)return!1;return!0}function Lv(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+ha(t.value);if(Fv(t))return t.filters.map(e=>Lv(e)).join(",");{const e=t.filters.map(n=>Lv(n)).join(",");return`${t.op}(${e})`}}function SO(t,e){return t instanceof he?(n=t,(r=e)instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&Dr(n.value,r.value)):t instanceof Ee?function(n,r){return r instanceof Ee&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&SO(o,r.filters[s]),!0)}(t,e):void F();var n,r}function TO(t,e){const n=t.filters.concat(e);return Ee.create(n,t.op)}function MO(t){return t instanceof he?`${(e=t).field.canonicalString()} ${e.op} ${ha(e.value)}`:t instanceof Ee?function(e){return e.op.toString()+" {"+e.getFilters().map(MO).join(" ,")+"}"}(t):"Filter";var e}class UW extends he{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.matchesComparison(n)}}class jW extends he{constructor(e,n){super(e,"in",n),this.keys=AO(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $W extends he{constructor(e,n){super(e,"not-in",n),this.keys=AO(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AO(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class HW extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vu(n)&&Lu(n.arrayValue,this.value)}}class OO extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Lu(this.value.arrayValue,n)}}class qW extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Lu(this.value.arrayValue,n)}}class GW extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}}class pa{constructor(e,n="asc"){this.field=e,this.dir=n}}function zW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Xe{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=o??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1,Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NO(this.data.getIterator())}getIteratorFrom(e){return new NO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class NO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ga(t){return t.hasNext()?t.getNext():void 0}class dn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new dn([])}unionWith(e){let n=new xe(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=Ye.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Bu(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nt(Bu(this.value))}}function PO(t){const e=[];return Ro(t.fields,(n,r)=>{const i=new Ye([n]);if(bf(r)){const o=PO(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new dn(e)}class Re{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Re(e,0,$.min(),$.min(),$.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,i){return new Re(e,1,n,$.min(),r,i,0)}static newNoDocument(e,n){return new Re(e,2,n,$.min(),$.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new Re(e,3,n,$.min(),$.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Re(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class WW{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function Vv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new WW(t,e,n,r,i,o,s)}function Vo(t){const e=P(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ru(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ha(r)).join(",")),e.ft=n}return e.ft}function Uu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EO(t.startAt,e.startAt)&&EO(t.endAt,e.endAt)}function Df(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Ef(t,e){return t.filters.filter(n=>n instanceof he&&n.field.isEqual(e))}function RO(t,e,n){let r=wf,i=!0;for(const o of Ef(t,e)){let s=wf,a=!0;switch(o.op){case"<":case"<=":s=VW(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=wf}bO({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];bO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function kO(t,e,n){let r=Pi,i=!0;for(const o of Ef(t,e)){let s=Pi,a=!0;switch(o.op){case">=":case">":s=BW(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Pi}CO({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];CO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class ri{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.dt=null,this._t=null}}function FO(t,e,n,r,i,o,s,a){return new ri(t,e,n,r,i,o,s,a)}function ma(t){return new ri(t)}function LO(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Bv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function If(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Uv(t){return null!==t.collectionGroup}function Bo(t){const e=P(t);if(null===e.dt){e.dt=[];const n=If(e),r=Bv(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new pa(n)),e.dt.push(new pa(Ye.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new pa(Ye.keyField(),o))}}}return e.dt}function en(t){const e=P(t);if(!e._t)if("F"===e.limitType)e._t=Vv(e.path,e.collectionGroup,Bo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Bo(e))n.push(new pa(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new ki(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ki(e.startAt.position,e.startAt.inclusive):null;e._t=Vv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function jv(t,e){e.getFirstInequalityField(),If(t);const n=t.filters.concat([e]);return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ju(t,e){return Uu(en(t),en(e))&&t.limitType===e.limitType}function VO(t){return`${Vo(en(t))}|lt:${t.limitType}`}function $v(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>MO(r)).join(", ")}]`),Ru(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ha(r)).join(",")),`Target(${n})`}(en(t))}; limitType=${t.limitType})`}function $u(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):O.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Bo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=DO(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Bo(n),r)||n.endAt&&!function(i,o,s){const a=DO(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Bo(n),r)));var n,r}function BO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UO(t){return(e,n)=>{let r=!1;for(const i of Bo(t)){const o=KW(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function KW(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?Ri(a,c):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}function jO(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function $O(t){return{integerValue:""+t}}function HO(t,e){return gO(e)?$O(e):jO(t,e)}class Sf{constructor(){this._=void 0}}function QW(t,e,n){return t instanceof ya?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Uo?GO(t,e):t instanceof jo?zO(t,e):function(r,i){const o=qO(r,i),s=WO(o)+WO(r.gt);return Rv(o)&&Rv(r.gt)?$O(s):jO(r.yt,s)}(t,e)}function YW(t,e,n){return t instanceof Uo?GO(t,e):t instanceof jo?zO(t,e):n}function qO(t,e){return t instanceof _a?Rv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ya extends Sf{}class Uo extends Sf{constructor(e){super(),this.elements=e}}function GO(t,e){const n=KO(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jo extends Sf{constructor(e){super(),this.elements=e}}function zO(t,e){let n=KO(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class _a extends Sf{constructor(e,n){super(),this.yt=e,this.gt=n}}function WO(t){return Ze(t.integerValue||t.doubleValue)}function KO(t){return Vu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Hu{constructor(e,n){this.field=e,this.transform=n}}class XW{constructor(e,n){this.version=e,this.transformResults=n}}class Ue{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ue}static exists(e){return new Ue(void 0,e)}static updateTime(e){return new Ue(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Mf{}function QO(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new wa(t.key,Ue.none()):new va(t.key,t.data,Ue.none());{const n=t.data,r=Nt.empty();let i=new xe(Ye.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ii(t.key,r,new dn(i.toArray()),Ue.none())}}function JW(t,e,n){t instanceof va?function(r,i,o){const s=r.value.clone(),a=XO(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(r,i,o){if(!Tf(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=XO(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(ZO(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function qu(t,e,n,r){return t instanceof va?function(i,o,s,a){if(!Tf(i.precondition,o))return s;const c=i.value.clone(),u=JO(i.fieldTransforms,a,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(i,o,s,a){if(!Tf(i.precondition,o))return s;const c=JO(i.fieldTransforms,a,o),u=o.data;return u.setAll(ZO(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Tf(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function eK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=qO(r.transform,i||null);null!=o&&(null===n&&(n=Nt.empty()),n.set(r.field,o))}return n||null}function YO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&da(n,r,(i,o)=>function ZW(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Uo&&r instanceof Uo||n instanceof jo&&r instanceof jo?da(n.elements,r.elements,Dr):n instanceof _a&&r instanceof _a?Dr(n.gt,r.gt):n instanceof ya&&r instanceof ya);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class va extends Mf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ii extends Mf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ZO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XO(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,YW(s,a,n[i]))}return r}function JO(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,QW(o,s,e))}return r}class wa extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hv extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tK{constructor(e){this.count=e}}var ht,ye;function eN(t){switch(t){default:return F();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function tN(t){if(void 0===t)return nt("GRPC error has no .code"),b.UNKNOWN;switch(t){case ht.OK:return b.OK;case ht.CANCELLED:return b.CANCELLED;case ht.UNKNOWN:return b.UNKNOWN;case ht.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case ht.INTERNAL:return b.INTERNAL;case ht.UNAVAILABLE:return b.UNAVAILABLE;case ht.UNAUTHENTICATED:return b.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case ht.NOT_FOUND:return b.NOT_FOUND;case ht.ALREADY_EXISTS:return b.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return b.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case ht.ABORTED:return b.ABORTED;case ht.OUT_OF_RANGE:return b.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return b.UNIMPLEMENTED;case ht.DATA_LOSS:return b.DATA_LOSS;default:return F()}}(ye=ht||(ht={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return pO(this.inner)}size(){return this.innerSize}}const nK=new Xe(O.comparator);function hn(){return nK}const nN=new Xe(O.comparator);function Gu(...t){let e=nN;for(const n of t)e=e.insert(n.key,n);return e}function rN(t){let e=nN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Er(){return zu()}function iN(){return zu()}function zu(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const rK=new Xe(O.comparator),iK=new xe(O.comparator);function oe(...t){let e=iK;for(const n of t)e=e.add(n);return e}const oK=new xe(J);function Af(){return oK}class Wu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wu($.min(),i,Af(),hn(),oe())}}class Ku{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ku(r,n,oe(),oe(),oe())}}class Of{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class oN{constructor(e,n){this.targetId=e,this.Et=n}}class sN{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aN{constructor(){this.At=0,this.Rt=uN(),this.bt=_t.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=oe(),n=oe(),r=oe();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Ku(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=uN()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class sK{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=hn(),this.qt=cN(),this.Ut=new xe(J)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const o=i.target;if(Df(o))if(0===r){const s=new O(o.path);this.Qt(n,s,Re.newNoDocument(s,$.min()))}else B(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((o,s)=>{const a=this.Yt(s);if(a){if(o.current&&Df(a.target)){const c=new O(a.target.path);null!==this.Lt.get(c)||this.te(s,c)||this.Qt(s,c,Re.newNoDocument(c,e))}o.St&&(n.set(s,o.Ct()),o.xt())}});let r=oe();this.qt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Yt(c);return!u||2===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.Lt.forEach((o,s)=>s.setReadTime(e));const i=new Wu(e,n,this.Ut,this.Lt,r);return this.Lt=hn(),this.qt=cN(),this.Ut=new xe(J),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new aN,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new xe(J),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new aN),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function cN(){return new Xe(O.comparator)}function uN(){return new Xe(O.comparator)}const aK={asc:"ASCENDING",desc:"DESCENDING"},cK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uK={and:"AND",or:"OR"};class lK{constructor(e,n){this.databaseId=e,this.wt=n}}function ba(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lN(t,e){return t.wt?e.toBase64():e.toUint8Array()}function dK(t,e){return ba(t,e.toTimestamp())}function rt(t){return B(!!t),$.fromTimestamp(function(e){const n=Ni(e);return new Be(n.seconds,n.nanos)}(t))}function qv(t,e){return(n=t,new me(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function dN(t){const e=me.fromString(t);return B(wN(e)),e}function Qu(t,e){return qv(t.databaseId,e.path)}function Ir(t,e){const n=dN(e);if(n.get(1)!==t.databaseId.projectId)throw new E(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(fN(n))}function Gv(t,e){return qv(t.databaseId,e)}function hN(t){const e=dN(t);return 4===e.length?me.emptyPath():fN(e)}function Yu(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fN(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function pN(t,e,n){return{name:Qu(t,e),fields:n.value.mapValue.fields}}function gN(t,e,n){const r=Ir(t,e.name),i=rt(e.updateTime),o=e.createTime?rt(e.createTime):$.min(),s=new Nt({mapValue:{fields:e.fields}}),a=Re.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Zu(t,e){let n;if(e instanceof va)n={update:pN(t,e.key,e.value)};else if(e instanceof wa)n={delete:Qu(t,e.key)};else if(e instanceof ii)n={update:pN(t,e.key,e.data),updateMask:vK(e.fieldMask)};else{if(!(e instanceof Hv))return F();n={verify:Qu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof ya)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Uo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof jo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof _a)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:dK(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}function zv(t,e){const n=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ue.updateTime(rt(i.updateTime)):void 0!==i.exists?Ue.exists(i.exists):Ue.none():Ue.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let a=null;"setToServerValue"in s?(B("REQUEST_TIME"===s.setToServerValue),a=new ya):"appendMissingElements"in s?a=new Uo(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new jo(s.removeAllFromArray.values||[]):"increment"in s?a=new _a(o,s.increment):F();const c=Ye.fromServerFormat(s.fieldPath);return new Hu(c,a)}(t,i)):[];var i;if(e.update){const i=Ir(t,e.update.name),o=new Nt({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new dn((e.updateMask.fieldPaths||[]).map(u=>Ye.fromServerFormat(u)));return new ii(i,o,s,n,r)}return new va(i,o,n,r)}if(e.delete){const i=Ir(t,e.delete);return new wa(i,n)}if(e.verify){const i=Ir(t,e.verify);return new Hv(i,n)}return F()}function mN(t,e){return{documents:[Gv(t,e.path)]}}function Wv(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Gv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return vN(Ee.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:Ca((l=u).field),direction:mK(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=(u=e.limit,t.wt||Ru(u)?u:{value:u});var u,a,c;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function yN(t){let e=hN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=_N(l);return d instanceof Ee&&Fv(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new pa(Da((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ru(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new ki((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new ki(l.values||[],!l.before)}(n.endAt)),FO(e,i,s,o,a,"F",c,u)}function _N(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Da(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Da(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Da(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Da(e.unaryFilter.field);return he.create(o,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?he.create(Da((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ee.create(e.compositeFilter.filters.map(n=>_N(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function mK(t){return aK[t]}function yK(t){return cK[t]}function _K(t){return uK[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function Da(t){return Ye.fromServerFormat(t.fieldPath)}function vN(t){return t instanceof he?function(e){if("=="===e.op){if(vO(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NAN"}};if(_O(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vO(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NAN"}};if(_O(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(e.field),op:yK(e.op),value:e.value}}}(t):t instanceof Ee?function(e){const n=e.getFilters().map(r=>vN(r));return 1===n.length?n[0]:{compositeFilter:{op:_K(e.op),filters:n}}}(t):F()}function vK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function tn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bN(e)),e=wK(t.get(n),e);return bN(e)}function wK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function bN(t){return t+"\x01\x01"}function xr(t){const e=t.length;if(B(e>=2),2===e)return B("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),me.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&F(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:F()}o=s+2}return new me(r)}const CN=["userId","batchId"];function Nf(t,e){return[t,tn(e)]}function DN(t,e,n){return[t,tn(e),n]}const bK={},CK=["prefixPath","collectionGroup","readTime","documentId"],DK=["prefixPath","collectionGroup","documentId"],EK=["collectionGroup","readTime","prefixPath","documentId"],IK=["canonicalId","targetId"],xK=["targetId","path"],SK=["path","targetId"],TK=["collectionId","parent"],MK=["indexId","uid"],AK=["uid","sequenceNumber"],OK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NK=["indexId","uid","orderedDocumentKey"],PK=["userId","collectionPath","documentId"],RK=["userId","collectionPath","largestBatchId"],kK=["userId","collectionGroup","largestBatchId"],EN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FK=[...EN,"documentOverlays"],IN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xN=IN,LK=[...xN,"indexConfiguration","indexState","indexEntries"];class Kv extends dO{constructor(e,n){super(),this.se=e,this.currentSequenceNumber=n}}function Ct(t,e){const n=P(t);return tr.M(n.se,e)}class Qv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&JW(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iN();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=QO(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument($.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>YO(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>YO(n,r))}}class Yv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=rK;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Yv(e,n,r,i)}}class Zv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Li{constructor(e,n,r,i,o=$.min(),s=$.min(),a=_t.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class SN{constructor(e){this.ie=e}}function TN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Pf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Qu(i=t.ie,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ba(i,o.version.toTimestamp()),createTime:ba(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:$o(e.version)};else{if(!e.isUnknownDocument())return F();r.unknownDocument={path:n.path.toArray(),version:$o(e.version)}}var i,o;return r}function Pf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $o(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ho(t){const e=new Be(t.seconds,t.nanoseconds);return $.fromTimestamp(e)}function qo(t,e){const n=(e.baseMutations||[]).map(o=>zv(t.ie,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>zv(t.ie,o)),i=Be.fromMillis(e.localWriteTimeMs);return new Qv(e.batchId,i,n,r)}function Xu(t){const e=Ho(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Ho(t.lastLimboFreeSnapshotVersion):$.min();let r;var i;return void 0!==t.query.documents?(B(1===(i=t.query).documents.length),r=en(ma(hN(i.documents[0])))):r=en(yN(t.query)),new Li(r,t.targetId,0,t.lastListenSequenceNumber,e,n,_t.fromBase64String(t.resumeToken))}function MN(t,e){const n=$o(e.snapshotVersion),r=$o(e.lastLimboFreeSnapshotVersion);let i;i=Df(e.target)?mN(t.ie,e.target):Wv(t.ie,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Xv(t){const e=yN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xf(e,e.limit,"L"):e}function Jv(t,e){return new Zv(e.largestBatchId,zv(t.ie,e.overlayMutation))}function AN(t,e){const n=e.path.lastSegment();return[t,tn(e.path.popLast()),n]}function ON(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:$o(r.readTime),documentKey:tn(r.documentKey.path),largestBatchId:r.largestBatchId}}class BK{getBundleMetadata(e,n){return NN(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ho(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return NN(e).put({bundleId:(r=n).id,createTime:$o(rt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return PN(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Xv(i.bundledQuery),readTime:Ho(i.readTime)};var i})}saveNamedQuery(e,n){return PN(e).put({name:(r=n).name,readTime:$o(rt(r.readTime)),bundledQuery:r.bundledQuery});var r}}function NN(t){return Ct(t,"bundles")}function PN(t){return Ct(t,"namedQueries")}class Rf{constructor(e,n){this.yt=e,this.userId=n}static re(e,n){return new Rf(e,n.uid||"")}getOverlay(e,n){return Ju(e).get(AN(this.userId,n)).next(r=>r?Jv(this.yt,r):null)}getOverlays(e,n){const r=Er();return _.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new Zv(n,s);i.push(this.oe(e,a))}),_.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(tn(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ju(e).Y("collectionPathOverlayIndex",a))}),_.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Er(),o=tn(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ju(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const u=Jv(this.yt,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Er();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ju(e).Z({index:"collectionGroupOverlayIndex",range:a},(c,u,l)=>{const d=Jv(this.yt,u);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):l.done()}).next(()=>o)}oe(e,n){return Ju(e).put(function(r,i,o){const[s,a,c]=AN(i,o.mutation.key);return{userId:i,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Zu(r.ie,o.mutation)}}(this.yt,this.userId,n))}}function Ju(t){return Ct(t,"documentOverlays")}class Go{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),ku(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(ko(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?wO(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):F()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),O.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}function UK(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function RN(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const o=UK(255&n[i]);if(r+=o,8!==o)break}return r}(t);return Math.ceil(e/8)}Go.Ie=new Go;class jK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ee(r.value),r=n.next();this.Ae()}Re(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.be(r.value),r=n.next();this.Pe()}ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=n.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=n.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const n=this.De(e),r=RN(n);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}xe(e){const n=this.De(e),r=RN(n);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ee(e){const n=255&e;0===n?(this.ke(0),this.ke(255)):255===n?(this.ke(255),this.ke(0)):this.ke(n)}be(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class $K{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class HK{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class el{constructor(){this.$e=new jK,this.Be=new $K(this.$e),this.Le=new HK(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class zo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zo(this.indexId,this.documentKey,this.arrayValue,r)}}function Vi(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=kN(t.arrayValue,e.arrayValue),0!==n?n:(n=kN(t.directionalValue,e.directionalValue),0!==n?n:O.comparator(t.documentKey,e.documentKey)))}function kN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class qK{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const n of e.filters){const r=n;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){B(e.collectionGroup===this.collectionId);const n=Tv(e);if(void 0!==n&&!this.We(n))return!1;const r=No(e);let i=0,o=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const s=r[i];if(!this.ze(this.Qe,s)||!this.He(this.Ke[o++],s))return!1;++i}for(;i<r.length;++i)if(o>=this.Ke.length||!this.He(this.Ke[o++],r[i]))return!1;return!0}We(e){for(const n of this.Ge)if(this.ze(n,e))return!0;return!1}ze(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function FN(t){var e,n;if(B(t instanceof he||t instanceof Ee),t instanceof he){if(t instanceof OO){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>he.create(t.field,"==",o)))||[];return Ee.create(i,"or")}return t}const r=t.filters.map(i=>FN(i));return Ee.create(r,t.op)}function GK(t){if(0===t.getFilters().length)return[];const e=nw(FN(t));return B(LN(e)),ew(e)||tw(e)?[e]:e.getFilters()}function ew(t){return t instanceof he}function tw(t){return t instanceof Ee&&Fv(t)}function LN(t){return ew(t)||tw(t)||function(e){if(e instanceof Ee&&kv(e)){for(const n of e.getFilters())if(!ew(n)&&!tw(n))return!1;return!0}return!1}(t)}function nw(t){if(B(t instanceof he||t instanceof Ee),t instanceof he)return t;if(1===t.filters.length)return nw(t.filters[0]);const e=t.filters.map(r=>nw(r));let n=Ee.create(e,t.op);return n=kf(n),LN(n)?n:(B(n instanceof Ee),B(fa(n)),B(n.filters.length>1),n.filters.reduce((r,i)=>rw(r,i)))}function rw(t,e){let n;return B(t instanceof he||t instanceof Ee),B(e instanceof he||e instanceof Ee),n=t instanceof he?e instanceof he?Ee.create([t,e],"and"):VN(t,e):e instanceof he?VN(e,t):function(r,i){if(B(r.filters.length>0&&i.filters.length>0),fa(r)&&fa(i))return TO(r,i.getFilters());const o=kv(r)?r:i,s=kv(r)?i:r,a=o.filters.map(c=>rw(c,s));return Ee.create(a,"or")}(t,e),kf(n)}function VN(t,e){if(fa(e))return TO(e,t.getFilters());{const n=e.filters.map(r=>rw(t,r));return Ee.create(n,"or")}}function kf(t){if(B(t instanceof he||t instanceof Ee),t instanceof he)return t;const e=t.getFilters();if(1===e.length)return kf(e[0]);if(xO(t))return t;const n=e.map(i=>kf(i)),r=[];return n.forEach(i=>{i instanceof he?r.push(i):i instanceof Ee&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ee.create(r,t.op)}class zK{constructor(){this.Je=new iw}addToCollectionParentIndex(e,n){return this.Je.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(In.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(In.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class iw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(me.comparator)).toArray()}}const Ff=new Uint8Array(0);class WK{constructor(e,n){this.user=e,this.databaseId=n,this.Ye=new iw,this.Xe=new Fi(r=>Vo(r),(r,i)=>Uu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ye.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Ye.add(n)});const o={collectionId:r,parent:tn(i)};return BN(e).put(o)}return _.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[aO(n),""],!1,!0);return BN(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(xr(s.parent))}return r})}addFieldIndex(e,n){const r=Lf(e),i={indexId:(s=n).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete i.indexId;const o=r.add(i);if(n.indexState){const s=nl(e);return o.next(a=>{s.put(ON(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Lf(e),i=nl(e),o=tl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=tl(e);let i=!0;const o=new Map;return _.forEach(this.Ze(n),s=>this.tn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=oe();const a=[];return _.forEach(o,(c,u)=>{var l;T("IndexedDbIndexManager",`Using index ${l=c,`id=${l.indexId}|cg=${l.collectionGroup}|f=${l.fields.map(y=>`${y.fieldPath}:${y.kind}`).join(",")}`} to execute ${Vo(n)}`);const d=function(y,A){const V=Tv(A);if(void 0===V)return null;for(const j of Ef(y,V.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(u,c),h=function(y,A){const V=new Map;for(const j of No(A))for(const Je of Ef(y,j.fieldPath))switch(Je.op){case"==":case"in":V.set(j.fieldPath.canonicalString(),Je.value);break;case"not-in":case"!=":return V.set(j.fieldPath.canonicalString(),Je.value),Array.from(V.values())}return null}(u,c),f=function(y,A){const V=[];let j=!0;for(const Je of No(A)){const nr=0===Je.kind?RO(y,Je.fieldPath,y.startAt):kO(y,Je.fieldPath,y.startAt);V.push(nr.value),j&&(j=nr.inclusive)}return new ki(V,j)}(u,c),p=function(y,A){const V=[];let j=!0;for(const Je of No(A)){const nr=0===Je.kind?kO(y,Je.fieldPath,y.endAt):RO(y,Je.fieldPath,y.endAt);V.push(nr.value),j&&(j=nr.inclusive)}return new ki(V,j)}(u,c),g=this.en(c,u,f),m=this.en(c,u,p),D=this.nn(c,u,h),x=this.sn(c.indexId,d,g,f.inclusive,m,p.inclusive,D);return _.forEach(x,y=>r.J(y,n.limit).next(A=>{A.forEach(V=>{const j=O.fromSegments(V.documentKey);s.has(j)||(s=s.add(j),a.push(j))})}))}).next(()=>a)}return _.resolve(null)})}Ze(e){let n=this.Xe.get(e);return n||(n=0===e.filters.length?[e]:GK(Ee.create(e.filters,"and")).map(r=>Vv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,n),n)}sn(e,n,r,i,o,s,a){const c=(null!=n?n.length:1)*Math.max(r.length,o.length),u=c/(null!=n?n.length:1),l=[];for(let d=0;d<c;++d){const h=n?this.rn(n[d/u]):Ff,f=this.on(e,h,r[d%u],i),p=this.un(e,h,o[d%u],s),g=a.map(m=>this.on(e,h,m,!0));l.push(...this.createRange(f,p,g))}return l}on(e,n,r,i){const o=new zo(e,O.empty(),n,r);return i?o:o.Ue()}un(e,n,r,i){const o=new zo(e,O.empty(),n,r);return i?o.Ue():o}tn(e,n){const r=new qK(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.je(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.Ze(n);return _.forEach(i,o=>this.tn(e,o).next(s=>{s?0!==r&&s.fields.length<function(a){let c=new xe(Ye.comparator),u=!1;for(const l of a.filters)for(const d of l.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?u=!0:c=c.add(d.field));for(const l of a.orderBy)l.field.isKeyField()||(c=c.add(l.field));return c.size+(u?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}cn(e,n){const r=new el;for(const i of No(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.qe(i.kind);Go.Ie.ue(o,s)}return r.Fe()}rn(e){const n=new el;return Go.Ie.ue(e,n.qe(0)),n.Fe()}an(e,n){const r=new el;return Go.Ie.ue(Lo(this.databaseId,n),r.qe(function(i){const o=No(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Fe()}nn(e,n,r){if(null===r)return[];let i=[];i.push(new el);let o=0;for(const s of No(e)){const a=r[o++];for(const c of i)if(this.hn(n,s.fieldPath)&&Vu(a))i=this.ln(i,s,a);else{const u=c.qe(s.kind);Go.Ie.ue(a,u)}}return this.fn(i)}en(e,n,r){return this.nn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Fe();return n}ln(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new el;c.seed(a.Fe()),Go.Ie.ue(s,c.qe(n.kind)),o.push(c)}return o}hn(e,n){return!!e.filters.find(r=>r instanceof he&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Lf(e),i=nl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return _.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(u,l){const d=l?new Nu(l.sequenceNumber,new In(Ho(l.readTime),new O(xr(l.documentKey)),l.largestBatchId)):Nu.empty(),h=u.fields.map(([f,p])=>new _f(Ye.fromServerFormat(f),p));return new yf(u.indexId,u.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:J(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Lf(e),o=nl(e);return this.dn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>_.forEach(a,c=>o.put(ON(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return _.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?_.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),_.forEach(a,c=>this._n(e,i,c).next(u=>{const l=this.wn(o,c);return u.isEqual(l)?_.resolve():this.mn(e,o,c,u,l)}))))})}gn(e,n,r,i){return tl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,n.key),documentKey:n.key.path.toArray()})}yn(e,n,r,i){return tl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,n.key),n.key.path.toArray()])}_n(e,n,r){const i=tl(e);let o=new xe(Vi);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,n)])},(s,a)=>{o=o.add(new zo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}wn(e,n){let r=new xe(Vi);const i=this.cn(n,e);if(null==i)return r;const o=Tv(n);if(null!=o){const s=e.data.field(o.fieldPath);if(Vu(s))for(const a of s.arrayValue.values||[])r=r.add(new zo(n.indexId,e.key,this.rn(a),i))}else r=r.add(new zo(n.indexId,e.key,Ff,i));return r}mn(e,n,r,i,o){T("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(a,c,u,l,d){const h=a.getIterator(),f=c.getIterator();let p=ga(h),g=ga(f);for(;p||g;){let m=!1,D=!1;if(p&&g){const x=u(p,g);x<0?D=!0:x>0&&(m=!0)}else null!=p?D=!0:m=!0;m?(l(g),g=ga(f)):D?(d(p),p=ga(h)):(p=ga(h),g=ga(f))}}(i,o,Vi,a=>{s.push(this.gn(e,n,r,a))},a=>{s.push(this.yn(e,n,r,a))}),_.waitFor(s)}dn(e){let n=1;return nl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Vi(s,a)).filter((s,a,c)=>!a||0!==Vi(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Vi(s,e),c=Vi(s,n);if(0===a)i[0]=e.Ue();else if(a>0&&c<0)i.push(s),i.push(s.Ue());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.pn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Ff,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Ff,[]]))}return o}pn(e,n){return Vi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(UN)}getMinOffset(e,n){return _.mapArray(this.Ze(n),r=>this.tn(e,r).next(i=>i||F())).next(UN)}}function BN(t){return Ct(t,"collectionParents")}function tl(t){return Ct(t,"indexEntries")}function Lf(t){return Ct(t,"indexConfiguration")}function nl(t){return Ct(t,"indexState")}function UN(t){B(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Mv(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new In(e.readTime,e.documentKey,n)}const jN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $N(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Z({range:s},(l,d,h)=>(a++,h.delete()));o.push(c.next(()=>{B(1===a)}));const u=[];for(const l of n.mutations){const d=DN(e,l.key.path,n.batchId);o.push(i.delete(d)),u.push(l.key)}return _.waitFor(o).next(()=>u)}function Vf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw F();e=t.noDocument}return JSON.stringify(e).length}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Bf{constructor(e,n,r,i){this.userId=e,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,n,r,i){B(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Bf(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).Z({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Ea(e),s=Bi(e);return s.add({}).next(a=>{B("number"==typeof a);const c=new Qv(a,n,r,i),u=function(h,f,p){const g=p.baseMutations.map(D=>Zu(h.ie,D)),m=p.mutations.map(D=>Zu(h.ie,D));return{userId:f,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:g,mutations:m}}(this.yt,this.userId,c),l=[];let d=new xe((h,f)=>J(h.canonicalString(),f.canonicalString()));for(const h of i){const f=DN(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),l.push(s.put(u)),l.push(o.put(f,bK))}return d.forEach(h=>{l.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.In[a]=c.keys()}),_.waitFor(l).next(()=>c)})}lookupMutationBatch(e,n){return Bi(e).get(n).next(r=>r?(B(r.userId===this.userId),qo(this.yt,r)):null)}Tn(e,n){return this.In[n]?_.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Bi(e).Z({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(B(a.batchId>=r),o=qo(this.yt,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bi(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).W("userMutationsIndex",n).next(r=>r.map(i=>qo(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Nf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Ea(e).Z({range:i},(s,a,c)=>{const[u,l,d]=s,h=xr(l);if(u===this.userId&&n.path.isEqual(h))return Bi(e).get(d).next(f=>{if(!f)throw F();B(f.userId===this.userId),o.push(qo(this.yt,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(J);const i=[];return n.forEach(o=>{const s=Nf(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Ea(e).Z({range:a},(u,l,d)=>{const[h,f,p]=u,g=xr(f);h===this.userId&&o.path.isEqual(g)?r=r.add(p):d.done()});i.push(c)}),_.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Nf(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new xe(J);return Ea(e).Z({range:s},(c,u,l)=>{const[d,h,f]=c,p=xr(h);d===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):l.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Bi(e).get(o).next(s=>{if(null===s)throw F();B(s.userId===this.userId),r.push(qo(this.yt,s))}))}),_.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return $N(e.se,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),_.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return _.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ea(e).Z({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=xr(o[1]);i.push(c)}else a.done()}).next(()=>{B(0===i.length)})})}containsKey(e,n){return HN(e,this.userId,n)}Rn(e){return qN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HN(t,e,n){const r=Nf(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Ea(t).Z({range:o,X:!0},(a,c,u)=>{const[l,d,h]=a;l===e&&d===i&&(s=!0),u.done()}).next(()=>s)}function Bi(t){return Ct(t,"mutations")}function Ea(t){return Ct(t,"documentMutations")}function qN(t){return Ct(t,"mutationQueues")}class Wo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Wo(0)}static vn(){return new Wo(-1)}}class KK{constructor(e,n){this.referenceDelegate=e,this.yt=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new Wo(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>$.fromTimestamp(new Be(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ia(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(B(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Ia(e).Z((s,a)=>{const c=Xu(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>_.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Ia(e).Z((r,i)=>{const o=Xu(i);n(o)})}Vn(e){return GN(e).get("targetGlobalKey").next(n=>(B(null!==n),n))}Sn(e,n){return GN(e).put("targetGlobalKey",n)}Dn(e,n){return Ia(e).put(MN(this.yt,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Vo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Ia(e).Z({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const u=Xu(a);Uu(n,u.target)&&(o=u,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Ui(e);return n.forEach(s=>{const a=tn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),_.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ui(e);return _.forEach(n,o=>{const s=tn(o.path);return _.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Ui(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ui(e);let o=oe();return i.Z({range:r,X:!0},(s,a,c)=>{const u=xr(s[1]),l=new O(u);o=o.add(l)}).next(()=>o)}containsKey(e,n){const r=tn(n.path),i=IDBKeyRange.bound([r],[aO(r)],!1,!0);let o=0;return Ui(e).Z({index:"documentTargetsIndex",X:!0,range:i},([s,a],c,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}ne(e,n){return Ia(e).get(n).next(r=>r?Xu(r):null)}}function Ia(t){return Ct(t,"targets")}function GN(t){return Ct(t,"targetGlobal")}function Ui(t){return Ct(t,"targetDocuments")}function zN([t,e],[n,r]){const i=J(t,n);return 0===i?J(e,r):i}class QK{constructor(e){this.xn=e,this.buffer=new xe(zN),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var n=this;T("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,w(function*(){n.Mn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Ai(r)?T("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Mi(r)}yield n.Fn(3e5)}))}}class ZK{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return _.resolve(xn.at);const r=new QK(n);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),_.resolve(jN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jN):this.qn(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,n){let r,i,o,s,a,c,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),xv()<=_e.DEBUG&&T("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(u-c)+`ms\nTotal Duration: ${u-l}ms`),_.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}class XK{constructor(e,n){this.db=e,this.garbageCollector=new ZK(this,n)}Bn(e){const n=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Un(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return Uf(e,r)}removeReference(e,n,r){return Uf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Uf(e,n)}Gn(e,n){return function(r,i){let o=!1;return qN(r).tt(s=>HN(r,s,i).next(a=>(a&&(o=!0),_.resolve(!a)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Kn(e,(s,a)=>{if(a<=n){const c=this.Gn(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,$.min()),Ui(e).delete([0,tn(s.path)])))});i.push(c)}}).next(()=>_.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Uf(e,n)}Kn(e,n){const r=Ui(e);let i,o=xn.at;return r.Z({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{0===s?(o!==xn.at&&n(new O(xr(i)),o),o=u,i=c):o=xn.at}).next(()=>{o!==xn.at&&n(new O(xr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uf(t,e){return Ui(t).put((r=t.currentSequenceNumber,{targetId:0,path:tn(e.path),sequenceNumber:r}));var r}class WN{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Re.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JK{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ko(e).put(r)}removeEntry(e,n,r){return Ko(e).delete(function(i,o){const s=i.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Pf(o),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=Re.newInvalidDocument(n);return Ko(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(rl(n))},(i,o)=>{r=this.jn(n,o)}).next(()=>r)}Wn(e,n){let r={size:0,document:Re.newInvalidDocument(n)};return Ko(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(rl(n))},(i,o)=>{r={document:this.jn(n,o),size:Vf(o)}}).next(()=>r)}getEntries(e,n){let r=hn();return this.zn(e,n,(i,o)=>{const s=this.jn(i,o);r=r.insert(i,s)}).next(()=>r)}Hn(e,n){let r=hn(),i=new Xe(O.comparator);return this.zn(e,n,(o,s)=>{const a=this.jn(o,s);r=r.insert(o,a),i=i.insert(o,Vf(s))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return _.resolve();let i=new xe(ZN);n.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(rl(i.first()),rl(i.last())),s=i.getIterator();let a=s.getNext();return Ko(e).Z({index:"documentKeyIndex",range:o},(c,u,l)=>{const d=O.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&ZN(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?l.j(rl(a)):l.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),Pf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ko(e).W(IDBKeyRange.bound(s,a,!0)).next(c=>{let u=hn();for(const l of c){const d=this.jn(O.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);d.isFoundDocument()&&($u(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let o=hn();const s=YN(n,r),a=YN(n,In.max());return Ko(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,l)=>{const d=this.jn(O.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(d.key,d),o.size===i&&l.done()}).next(()=>o)}newChangeBuffer(e){return new e9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return QN(e).get("remoteDocumentGlobalKey").next(n=>(B(!!n),n))}Qn(e,n){return QN(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=function VK(t,e){let n;if(e.document)n=gN(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=O.fromSegments(e.noDocument.path),i=Ho(e.noDocument.readTime);n=Re.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return F();{const r=O.fromSegments(e.unknownDocument.path),i=Ho(e.unknownDocument.version);n=Re.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Be(r[0],r[1]);return $.fromTimestamp(i)}(e.readTime)),n}(this.yt,n);if(!r.isNoDocument()||!r.version.isEqual($.min()))return r}return Re.newInvalidDocument(e)}}function KN(t){return new JK(t)}class e9 extends WN{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Fi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new xe((o,s)=>J(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.Xn.get(o);if(n.push(this.Yn.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=TN(this.Yn.yt,s);i=i.add(o.path.popLast());const u=Vf(c);r+=u-a.size,n.push(this.Yn.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=TN(this.Yn.yt,s.convertToNoDocument($.min()));n.push(this.Yn.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.Yn.updateMetadata(e,r)),_.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((o,s)=>{this.Xn.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function QN(t){return Ct(t,"remoteDocumentGlobal")}function Ko(t){return Ct(t,"remoteDocumentsV14")}function rl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function YN(t,e){const n=e.documentKey.path.toArray();return[t,Pf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ZN(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=J(n[o],r[o]),i)return i;return i=J(n.length,r.length),i||(i=J(n[n.length-2],r[r.length-2]),i||J(n[n.length-1],r[r.length-1]))}class t9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class XN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&qu(r.mutation,i,dn.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Er();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Er();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hn();const s=zu(),a=zu();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof ii)?o=o.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),qu(l.mutation,u,l.mutation.getFieldMask(),Be.now())):s.set(u.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new t9(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=zu();let i=new Xe((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||dn.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||oe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=iN();l.forEach(h=>{if(!o.has(h)){const f=QO(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return _.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return O.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Uv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):_.resolve(Er());let a=-1,c=o;return s.next(u=>_.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,oe())).next(l=>({batchId:a,changes:rN(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(r=>{let i=Gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Gu();return this.indexManager.getCollectionParents(e,i).next(s=>_.forEach(s,a=>{const c=(u=n,l=a.child(i),new ri(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,Re.newInvalidDocument(u)))});let s=Gu();return o.forEach((a,c)=>{const u=i.get(a);void 0!==u&&qu(u.mutation,c,dn.empty(),Be.now()),$u(n,c)&&(s=s.insert(a,c))}),s})}}class n9{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return _.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:rt(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:Xv(r.bundledQuery),readTime:rt(r.readTime)}),_.resolve();var r}}class r9{constructor(){this.overlays=new Xe(O.comparator),this.es=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Er();return _.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.oe(e,n,o)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=Er(),o=n.length+1,s=new O(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xe((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);null===l&&(l=Er(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Er(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return _.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zv(n,r));let o=this.es.get(n);void 0===o&&(o=oe(),this.es.set(n,o)),this.es.set(n,o.add(r.key))}}class ow{constructor(){this.ns=new xe(Dt.ss),this.rs=new xe(Dt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Dt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new O(new me([])),r=new Dt(n,e),i=new Dt(n,e+1),o=[];return this.rs.forEachInRange([r,i],s=>{this.cs(s),o.push(s.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new O(new me([])),r=new Dt(n,e),i=new Dt(n,e+1);let o=oe();return this.rs.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Dt(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return O.comparator(e.key,n.key)||J(e._s,n._s)}static os(e,n){return J(e._s,n._s)||O.comparator(e.key,n.key)}}class i9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new xe(Dt.ss)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.ws;this.ws++;const s=new Qv(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.gs=this.gs.add(new Dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(s)}lookupMutationBatch(e,n){return _.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),o=i<0?0:i;return _.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],s=>{const a=this.ys(s._s);o.push(a)}),_.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(J);return n.forEach(i=>{const o=new Dt(i,0),s=new Dt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,s],a=>{r=r.add(a._s)})}),_.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;O.isDocumentKey(o)||(o=o.child(""));const s=new Dt(new O(o),0);let a=new xe(J);return this.gs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c._s)),!0)},s),_.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _.forEach(n.mutations,i=>{const o=new Dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Dt(n,0),i=this.gs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class o9{constructor(e){this.Es=e,this.docs=new Xe(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Re.newInvalidDocument(n))}getEntries(e,n){let r=hn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Re.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hn();const s=n.path,a=new O(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Mv(uO(l),r)<=0||(i.has(l.key)||$u(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return _.resolve(o)}getAllFromCollectionGroup(e,n,r,i){F()}As(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new s9(this)}getSize(e){return _.resolve(this.size)}}class s9 extends WN{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class a9{constructor(e){this.persistence=e,this.Rs=new Fi(n=>Vo(n),Uu),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ow,this.targetCount=0,this.vs=Wo.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),_.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Dn(n),_.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Rs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(o).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),_.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Ps.containsKey(n))}}class JN{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new xn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new a9(this),this.indexManager=new zK,this.remoteDocumentCache=new o9(r=>this.referenceDelegate.xs(r)),this.yt=new SN(n),this.Ns=new n9(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new i9(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new c9(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(o=>this.referenceDelegate.Os(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ms(e,n){return _.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class c9 extends dO{constructor(e){super(),this.currentSequenceNumber=e}}class jf{constructor(e){this.persistence=e,this.Fs=new ow,this.$s=null}static Bs(e){return new jf(e)}get Ls(){if(this.$s)return this.$s;throw F()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),_.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ls,r=>{const i=O.fromPath(r);return this.qs(e,i).next(o=>{o||n.removeEntry(i,$.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return _.or([()=>_.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class u9{constructor(e){this.yt=e}$(e,n,r,i){const o=new vf("createOrUpgrade",n);var a;r<1&&i>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CN,{unique:!0}),a.createObjectStore("documentMutations"),eP(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=_.resolve();return r<3&&i>=3&&(0!==r&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),eP(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(a,c){return c.store("mutations").W().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CN,{unique:!0});const l=c.store("mutations"),d=u.map(h=>l.put(h));return _.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Us(o))),r<6&&i>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),r<7&&i>=7&&(s=s.next(()=>this.Gs(o))),r<8&&i>=8&&(s=s.next(()=>this.Qs(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.js(o))),r<11&&i>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:PK});c.createIndex("collectionPathOverlayIndex",RK,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",kK,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:CK});c.createIndex("documentKeyIndex",DK),c.createIndex("collectionGroupIndex",EK)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.zs(e,o))),r<15&&i>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:MK}).createIndex("sequenceNumberIndex",AK,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:OK}).createIndex("documentKeyIndex",NK,{unique:!1})}(e))),s}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Vf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>_.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>_.forEach(a,c=>{B(c.userId===o.userId);const u=qo(this.yt,c);return $N(e,o.userId,u).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Z((s,a)=>{const c=new me(s),u=[0,tn(c)];o.push(n.get(u).next(l=>l?_.resolve():n.put({targetId:0,path:tn(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>_.waitFor(o))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:TK});const r=n.store("collectionParents"),i=new iw,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:tn(c)})}};return n.store("remoteDocuments").Z({X:!0},(s,a)=>{const c=new me(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([s,a,c],u)=>{const l=xr(a);return o(l.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const o=Xu(i),s=MN(this.yt,o);return n.put(s)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((o,s)=>{const a=n.store("remoteDocumentsV14"),c=(u=s,u.document?new O(me.fromString(u.document.name).popFirst(5)):u.noDocument?O.fromSegments(u.noDocument.path):u.unknownDocument?O.fromSegments(u.unknownDocument.path):F()).path.toArray();var u;const l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(l))}).next(()=>_.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=KN(this.yt),o=new JN(jf.Bs,this.yt.ie);return r.W().next(s=>{const a=new Map;return s.forEach(c=>{var u;let l=null!==(u=a.get(c.userId))&&void 0!==u?u:oe();qo(this.yt,c).keys().forEach(d=>l=l.add(d)),a.set(c.userId,l)}),_.forEach(a,(c,u)=>{const l=new bt(u),d=Rf.re(this.yt,l),h=o.getIndexManager(l),f=Bf.re(l,this.yt,h,o.referenceDelegate);return new XN(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Kv(n,xn.at),c).next()})})}}function eP(t){t.createObjectStore("targetDocuments",{keyPath:xK}).createIndex("documentTargetsIndex",SK,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IK,{unique:!0}),t.createObjectStore("targetGlobal")}const sw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aw{constructor(e,n,r,i,o,s,a,c,u,l,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=o,this.window=s,this.document=a,this.Js=u,this.Ys=l,this.Xs=d,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=h=>Promise.resolve(),!aw.C())throw new E(b.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XK(this,i),this.ii=n+"main",this.yt=new SN(c),this.ri=new tr(this.ii,this.Xs,new u9(this.yt)),this.Cs=new KK(this.referenceDelegate,this.yt),this.remoteDocumentCache=KN(this.yt),this.Ns=new BK,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new E(b.FAILED_PRECONDITION,sw);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new xn(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var r=w(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=w(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(w(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$f(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Ai(e))return T("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return T("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return il(e).get("owner").next(n=>_.resolve(this.mi(n)))}gi(e){return $f(e).delete(this.clientId)}yi(){var e=this;return w(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ct(r,"clientMetadata");return i.W().next(o=>{const s=e.Ii(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return _.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.oi)for(const r of n)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?_.resolve(!0):il(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new E(b.FAILED_PRECONDITION,sw);return!1}}return!(!this.networkEnabled||!this.inForeground)||$f(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&T("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return w(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new Kv(n,xn.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>$f(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Bf.re(e,this.yt,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WK(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Rf.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(s=this.Xs)?LK:14===s?xN:13===s?IN:12===s?FK:11===s?EN:void F();var s;let a;return this.ri.runTransaction(e,i,o,c=>(a=new Kv(c,this.Ss?this.Ss.next():xn.at),"readwrite-primary"===n?this.fi(a).next(u=>!!u||this.di(a)).next(u=>{if(!u)throw nt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new E(b.FAILED_PRECONDITION,lO);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Vi(a).next(()=>r(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Vi(e){return il(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new E(b.FAILED_PRECONDITION,sw)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return il(e).put("owner",n)}static C(){return tr.C()}_i(e){const n=il(e);return n.get("owner").next(r=>this.mi(r)?(T("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):_.resolve())}pi(e,n){const r=Date.now();return!(e<r-n||e>r&&(nt(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),function o5(){return!NM()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return T("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return nt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){nt("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function il(t){return Ct(t,"owner")}function $f(t){return Ct(t,"clientMetadata")}function cw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class uw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=oe(),i=oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uw(e,n.fromCache,r,i)}}class tP{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(o=>o||this.Oi(e,n,i,r)).next(o=>o||this.Mi(e,n))}ki(e,n){if(LO(n))return _.resolve(null);let r=en(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=xf(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=oe(...o);return this.Ni.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Fi(n,a);return this.$i(n,u,s,c.readTime)?this.ki(e,xf(n,null,"F")):this.Bi(e,u,n,c)}))})))}Oi(e,n,r,i){return LO(n)||i.isEqual($.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(o=>{const s=this.Fi(n,o);return this.$i(n,s,r,i)?this.Mi(e,n):(xv()<=_e.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$v(n)),this.Bi(e,s,n,cO(i,-1)))})}Fi(e,n){let r=new xe(UO(e));return n.forEach((i,o)=>{$u(e,o)&&(r=r.add(o))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Mi(e,n){return xv()<=_e.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",$v(n)),this.Ni.getDocumentsMatchingQuery(e,n,In.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class l9{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Xe(J),this.Ui=new Fi(o=>Vo(o),Uu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function nP(t,e,n,r){return new l9(t,e,n,r)}function rP(t,e){return lw.apply(this,arguments)}function lw(){return lw=w(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=oe();for(const u of i){s.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of o){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ji:u,removedBatchIds:s,addedBatchIds:a}))})})}),lw.apply(this,arguments)}function d9(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Gi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,u){const l=c.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const g=c.docVersions.get(f);B(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=oe();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iP(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function h9(t,e){const n=P(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(_t.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(o,f))});let c=hn(),u=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(oP(o,s,e.documentUpdates).next(l=>{c=l.Wi,u=l.zi})),!r.isEqual($.min())){const l=n.Cs.getLastRemoteSnapshotVersion(o).next(d=>n.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.qi=i,o))}function oP(t,e,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hn();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual($.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Wi:s,zi:i}})}function f9(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xa(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(o=>o?(i=o,_.resolve(i)):n.Cs.allocateTargetId(r).next(s=>(i=new Li(e,s,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function Sa(t,e,n){return dw.apply(this,arguments)}function dw(){return dw=w(function*(t,e,n){const r=P(t),i=r.qi.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ai(s))throw s;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),dw.apply(this,arguments)}function Hf(t,e,n){const r=P(t);let i=$.min(),o=oe();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,u){const l=P(a),d=l.Ui.get(u);return void 0!==d?_.resolve(l.qi.get(d)):l.Cs.getTargetData(c,u)}(r,s,en(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Li.getDocumentsMatchingQuery(s,e,n?i:$.min(),n?o:oe())).next(a=>(cP(r,BO(e),a),{documents:a,Hi:o})))}function sP(t,e){const n=P(t),r=P(n.Cs),i=n.qi.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ne(o,e).next(s=>s?s.target:null))}function aP(t,e){const n=P(t),r=n.Ki.get(e)||$.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,cO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(cP(n,e,i),i))}function cP(t,e,n){let r=t.Ki.get(e)||$.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ki.set(e,r)}function hw(){return hw=w(function*(t,e,n,r){const i=P(t);let o=oe(),s=hn();for(const u of n){const l=e.Ji(u.metadata.name);u.document&&(o=o.add(l));const d=e.Yi(u);d.setReadTime(e.Xi(u.metadata.readTime)),s=s.insert(l,d)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),c=yield xa(i,(u=r,en(ma(me.fromString(`__bundle__/docs/${u}`)))));var u;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>oP(u,a,s).next(l=>(a.apply(u),l)).next(l=>i.Cs.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.Cs.addMatchingKeys(u,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,l.Wi,l.zi)).next(()=>l.Wi)))}),hw.apply(this,arguments)}function g9(t,e){return fw.apply(this,arguments)}function fw(){return fw=w(function*(t,e,n=oe()){const r=yield xa(t,en(Xv(e.bundledQuery))),i=P(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=rt(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ns.saveNamedQuery(o,e);const a=r.withResumeToken(_t.EMPTY_BYTE_STRING,s);return i.qi=i.qi.insert(a.targetId,a),i.Cs.updateTargetData(o,a).next(()=>i.Cs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Cs.addMatchingKeys(o,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(o,e))})}),fw.apply(this,arguments)}function uP(t,e){return`firestore_clients_${t}_${e}`}function lP(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pw(t,e){return`firestore_targets_${t}_${e}`}class qf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new E(i.error.code,i.error.message))),s?new qf(e,n,i.state,o):(nt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ol{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new E(r.error.code,r.error.message))),o?new ol(e,r.state,i):(nt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Af();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=gO(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new Gf(e,o):(nt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class gw{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new gw(n.clientId,n.onlineState):(nt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mw{constructor(){this.activeTargetIds=Af()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yw{constructor(e,n,r,i,o){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xe(J),this.started=!1,this.cr=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=uP(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new mw),this.lr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return w(function*(){const n=yield e.syncEngine.vi();for(const i of n){if(i===e.sr)continue;const o=e.getItem(uP(e.persistenceKey,i));if(o){const s=Gf.Zi(i,o);s&&(e.ur=e.ur.insert(s.clientId,s))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pw(this.persistenceKey,e));if(r){const i=ol.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pw(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return T("SharedClientState","READ",e,n),n}setItem(e,n){T("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){T("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(T("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void nt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(w(function*(){if(n.started){if(null!==r.key)if(n.lr.test(r.key)){if(null==r.newValue){const i=n.vr(r.key);return n.Vr(i,null)}{const i=n.Sr(r.key,r.newValue);if(i)return n.Vr(i.clientId,i)}}else if(n.dr.test(r.key)){if(null!==r.newValue){const i=n.Dr(r.key,r.newValue);if(i)return n.Cr(i)}}else if(n._r.test(r.key)){if(null!==r.newValue){const i=n.Nr(r.key,r.newValue);if(i)return n.kr(i)}}else if(r.key===n.wr){if(null!==r.newValue){const i=n.yr(r.newValue);if(i)return n.pr(i)}}else if(r.key===n.hr){const i=function(o){let s=xn.at;if(null!=o)try{const a=JSON.parse(o);B("number"==typeof a),s=a}catch(a){nt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(r.newValue);i!==xn.at&&n.sequenceNumberHandler(i)}else if(r.key===n.mr){const i=n.Or(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Mr(o)))}}else n.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new qf(this.currentUser,e,n,r),o=lP(this.persistenceKey,this.currentUser,e);this.setItem(o,i.tr())}Er(e){const n=lP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,r){const i=pw(this.persistenceKey,e),o=new ol(e,n,r);this.setItem(i,o.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return Gf.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]);return qf.Zi(new bt(void 0!==r[2]?r[2]:null),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return ol.Zi(i,n)}yr(e){return gw.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var n=this;return w(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);T("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),o=this.Ir(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Br(s,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Af();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class dP{constructor(){this.Lr=new mw,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new mw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class m9{Ur(e){}shutdown(){}}class hP{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const y9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _9{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class v9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,o){const s=this.ho(e,n);T("RestConnection","Sending: ",s,r);const a={};return this.lo(a,i,o),this.fo(e,s,a,r).then(c=>(T("RestConnection","Received: ",c),c),c=>{throw Oo("RestConnection",`${e} failed with error: `,c,"url: ",s,"request:",r),c})}_o(e,n,r,i,o,s){return this.ao(e,n,r,i,o)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+la,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,n){return`${this.oo}/v1/${n}:${y9[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((o,s)=>{const a=new _W;a.setWithCredentials(!0),a.listenOnce(gW.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Iv.NO_ERROR:const u=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(u)),o(u);break;case Iv.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),s(new E(b.DEADLINE_EXCEEDED,"Request time out"));break;case Iv.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(g)>=0?g:b.UNKNOWN}(h.status);s(new E(f,h.message))}else s(new E(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new E(b.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(i);a.send(n,"POST",c,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fW(),s=pW(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new yW({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");T("Connection","Creating WebChannel: "+c,a);const u=o.createWebChannel(c,a);let l=!1,d=!1;const h=new _9({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),u.open(),l=!0),T("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),f=(p,g,m)=>{p.listen(g,D=>{try{m(D)}catch(x){setTimeout(()=>{throw x},0)}})};return f(u,mf.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(u,mf.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(u,mf.EventType.ERROR,p=>{d||(d=!0,Oo("Connection","WebChannel transport errored:",p),h.io(new E(b.UNAVAILABLE,"The operation could not be completed")))}),f(u,mf.EventType.MESSAGE,p=>{var g;if(!d){const m=p.data[0];B(!!m);const x=m.error||(null===(g=m[0])||void 0===g?void 0:g.error);if(x){T("Connection","WebChannel received error:",x);const y=x.status;let A=function(j){const Je=ht[j];if(void 0!==Je)return tN(Je)}(y),V=x.message;void 0===A&&(A=b.INTERNAL,V="Unknown error status: "+y+" with message "+x.message),d=!0,h.io(new E(A,V)),u.close()}else T("Connection","WebChannel received:",m),h.ro(m)}}),f(s,mW.STAT_EVENT,p=>{p.stat===nO.PROXY?T("Connection","Detected buffering proxy"):p.stat===nO.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function fP(){return typeof window<"u"?window:null}function zf(){return typeof document<"u"?document:null}function sl(t){return new lK(t,!0)}class _w{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class pP{constructor(e,n,r,i,o,s,a,c){this.Hs=e,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new _w(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return w(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return w(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return w(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(nt(n.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new E(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(w(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w9 extends pP{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.yt=o}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function fK(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:F(),i=e.targetChange.targetIds||[],o=function(c,u){return c.wt?(B(void 0===u||"string"==typeof u),_t.fromBase64String(u||"")):(B(void 0===u||u instanceof Uint8Array),_t.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?b.UNKNOWN:tN(c.code);return new E(u,c.message||"")}(s);n=new sN(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ir(t,r.document.name),o=rt(r.document.updateTime),s=r.document.createTime?rt(r.document.createTime):$.min(),a=new Nt({mapValue:{fields:r.document.fields}}),c=Re.newFoundDocument(i,o,s,a);n=new Of(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ir(t,r.document),o=r.readTime?rt(r.readTime):$.min(),s=Re.newNoDocument(i,o);n=new Of([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ir(t,r.document);n=new Of([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,o=new tK(r.count||0);n=new oN(r.targetId,o)}}var c;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return $.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?$.min():o.readTime?rt(o.readTime):$.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Yu(this.yt),n.addTarget=function(i,o){let s;const a=o.target;return s=Df(a)?{documents:mN(i,a)}:{query:Wv(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=lN(i,o.resumeToken):o.snapshotVersion.compareTo($.min())>0&&(s.readTime=ba(i,o.snapshotVersion.toTimestamp())),s}(this.yt,e);const r=function gK(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Yu(this.yt),n.removeTarget=e,this.Bo(n)}}class b9 extends pP{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function pK(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let o=rt(r.updateTime?r.updateTime:i);return o.isEqual($.min())&&(o=rt(i)),new XW(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=rt(e.commitTime);return this.listener.Zo(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Yu(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Zu(this.yt,r))};this.Bo(n)}}class C9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new E(b.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.ao(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new E(b.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection._o(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new E(b.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class E9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(nt(n),this.ou=!1):T("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class I9{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(a=>{r.enqueueAndForget(w(function*(){var c;oi(s)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(c=w(function*(u){const l=P(u);l._u.add(4),yield Ta(l),l.gu.set("Unknown"),l._u.delete(4),yield al(l)}),function(u){return c.apply(this,arguments)})(s))}))}),this.gu=new E9(r,i)}}function al(t){return ww.apply(this,arguments)}function ww(){return ww=w(function*(t){if(oi(t))for(const e of t.wu)yield e(!0)}),ww.apply(this,arguments)}function Ta(t){return bw.apply(this,arguments)}function bw(){return bw=w(function*(t){for(const e of t.wu)yield e(!1)}),bw.apply(this,arguments)}function Wf(t,e){const n=P(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Ew(n)?Dw(n):Aa(n).ko()&&Cw(n,e))}function cl(t,e){const n=P(t),r=Aa(n);n.du.delete(e),r.ko()&&gP(n,e),0===n.du.size&&(r.ko()?r.Fo():oi(n)&&n.gu.set("Unknown"))}function Cw(t,e){t.yu.Ot(e.targetId),Aa(t).zo(e)}function gP(t,e){t.yu.Ot(e),Aa(t).Ho(e)}function Dw(t){t.yu=new sK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Aa(t).start(),t.gu.uu()}function Ew(t){return oi(t)&&!Aa(t).No()&&t.du.size>0}function oi(t){return 0===P(t)._u.size}function mP(t){t.yu=void 0}function x9(t){return Iw.apply(this,arguments)}function Iw(){return Iw=w(function*(t){t.du.forEach((e,n)=>{Cw(t,e)})}),Iw.apply(this,arguments)}function S9(t,e){return xw.apply(this,arguments)}function xw(){return xw=w(function*(t,e){mP(t),Ew(t)?(t.gu.hu(e),Dw(t)):t.gu.set("Unknown")}),xw.apply(this,arguments)}function T9(t,e,n){return Sw.apply(this,arguments)}function Sw(){return Sw=w(function*(t,e,n){if(t.gu.set("Online"),e instanceof sN&&2===e.state&&e.cause)try{yield(r=w(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.du.delete(a),i.yu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Kf(t,r)}else if(e instanceof Of?t.yu.Kt(e):e instanceof oN?t.yu.Jt(e):t.yu.jt(e),!n.isEqual($.min()))try{const r=yield iP(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.yu.Zt(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(c);u&&i.du.set(c,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const c=i.du.get(a);if(!c)return;i.du.set(a,c.withResumeToken(_t.EMPTY_BYTE_STRING,c.snapshotVersion)),gP(i,a);const u=new Li(c.target,a,1,c.sequenceNumber);Cw(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Kf(t,r)}var r}),Sw.apply(this,arguments)}function Kf(t,e,n){return Tw.apply(this,arguments)}function Tw(){return Tw=w(function*(t,e,n){if(!Ai(e))throw e;t._u.add(1),yield Ta(t),t.gu.set("Offline"),n||(n=()=>iP(t.localStore)),t.asyncQueue.enqueueRetryable(w(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield al(t)}))}),Tw.apply(this,arguments)}function yP(t,e){return e().catch(n=>Kf(t,n,e))}function Ma(t){return Mw.apply(this,arguments)}function Mw(){return Mw=w(function*(t){const e=P(t),n=ji(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;M9(e);)try{const i=yield f9(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,A9(e,i)}catch(i){yield Kf(e,i)}_P(e)&&vP(e)}),Mw.apply(this,arguments)}function M9(t){return oi(t)&&t.fu.length<10}function A9(t,e){t.fu.push(e);const n=ji(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function _P(t){return oi(t)&&!ji(t).No()&&t.fu.length>0}function vP(t){ji(t).start()}function O9(t){return Aw.apply(this,arguments)}function Aw(){return Aw=w(function*(t){ji(t).eu()}),Aw.apply(this,arguments)}function N9(t){return Ow.apply(this,arguments)}function Ow(){return Ow=w(function*(t){const e=ji(t);for(const n of t.fu)e.Xo(n.mutations)}),Ow.apply(this,arguments)}function P9(t,e,n){return Nw.apply(this,arguments)}function Nw(){return Nw=w(function*(t,e,n){const r=t.fu.shift(),i=Yv.from(r,e,n);yield yP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ma(t)}),Nw.apply(this,arguments)}function R9(t,e){return Pw.apply(this,arguments)}function Pw(){return Pw=w(function*(t,e){var n;e&&ji(t).Yo&&(yield(n=w(function*(r,i){if(eN(o=i.code)&&o!==b.ABORTED){const s=r.fu.shift();ji(r).Mo(),yield yP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ma(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),_P(t)&&vP(t)}),Pw.apply(this,arguments)}function wP(t,e){return Rw.apply(this,arguments)}function Rw(){return Rw=w(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=oi(n);n._u.add(3),yield Ta(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield al(n)}),Rw.apply(this,arguments)}function kw(t,e){return Fw.apply(this,arguments)}function Fw(){return Fw=w(function*(t,e){const n=P(t);e?(n._u.delete(2),yield al(n)):e||(n._u.add(2),yield Ta(n),n.gu.set("Unknown"))}),Fw.apply(this,arguments)}function Aa(t){return t.pu||(t.pu=function(e,n,r){const i=P(e);return i.su(),new w9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:x9.bind(null,t),Zr:S9.bind(null,t),Wo:T9.bind(null,t)}),t.wu.push(function(){var e=w(function*(n){n?(t.pu.Mo(),Ew(t)?Dw(t):t.gu.set("Unknown")):(yield t.pu.stop(),mP(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function ji(t){return t.Iu||(t.Iu=function(e,n,r){const i=P(e);return i.su(),new b9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:O9.bind(null,t),Zr:R9.bind(null,t),tu:N9.bind(null,t),Zo:P9.bind(null,t)}),t.wu.push(function(){var e=w(function*(n){n?(t.Iu.Mo(),yield Ma(t)):(yield t.Iu.stop(),t.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class Lw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Lw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oa(t,e){if(nt("AsyncQueue",`${e}: ${t}`),Ai(t))return new E(b.UNAVAILABLE,`${e}: ${t}`);throw t}class Na{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=Gu(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new Na(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class bP{constructor(){this.Tu=new Xe(O.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):F():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Pa(e,n,Na.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class k9{constructor(){this.Au=void 0,this.listeners=[]}}class F9{constructor(){this.queries=new Fi(e=>VO(e),ju),this.onlineState="Unknown",this.Ru=new Set}}function Vw(t,e){return Bw.apply(this,arguments)}function Bw(){return Bw=w(function*(t,e){const n=P(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new k9),i)try{o.Au=yield n.onListen(r)}catch(s){const a=Oa(s,`Initialization of query '${$v(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.bu(n.onlineState),o.Au&&e.Pu(o.Au)&&$w(n)}),Bw.apply(this,arguments)}function Uw(t,e){return jw.apply(this,arguments)}function jw(){return jw=w(function*(t,e){const n=P(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),jw.apply(this,arguments)}function L9(t,e){const n=P(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.Pu(i)&&(r=!0);s.Au=i}}r&&$w(n)}function V9(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function $w(t){t.Ru.forEach(e=>{e.next()})}class Hw{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class B9{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}class CP{constructor(e){this.yt=e}Ji(e){return Ir(this.yt,e)}Yi(e){return e.metadata.exists?gN(this.yt,e.document,!1):Re.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return rt(e)}}class U9{constructor(e,n,r){this.Mu=e,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DP(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const r=me.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,r=new CP(this.yt);for(const i of e)if(i.metadata.queries){const o=r.Ji(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||oe()).add(o);n.set(s,a)}}return n}complete(){var e=this;return w(function*(){const n=yield function p9(t,e,n,r){return hw.apply(this,arguments)}(e.localStore,new CP(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield g9(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function DP(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class EP{constructor(e){this.key=e}}class IP{constructor(e){this.key=e}}class xP{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=oe(),this.mutatedKeys=oe(),this.Gu=UO(e),this.Qu=new Na(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new bP,i=n?n.Qu:this.Qu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=$u(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.Gu(f,c)>0||u&&this.Gu(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(s=s.add(f),o=g?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Qu:s,zu:r,$i:a,mutatedKeys:o}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((u,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(u.type,l.type)||this.Gu(u.doc,l.doc)),this.Ju(r);const s=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,c=a!==this.Uu;return this.Uu=a,0!==o.length||c?{snapshot:new Pa(this.query,e.Qu,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new bP,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=oe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new IP(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new EP(r))}),n}tc(e){this.qu=e.Hi,this.Ku=oe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Pa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class j9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $9{constructor(e){this.key=e,this.nc=!1}}class H9{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new Fi(a=>VO(a),ju),this.rc=new Map,this.oc=new Set,this.uc=new Xe(O.comparator),this.cc=new Map,this.ac=new ow,this.hc={},this.lc=new Map,this.fc=Wo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function q9(t,e){return qw.apply(this,arguments)}function qw(){return qw=w(function*(t,e){const n=p0(t);let r,i;const o=n.ic.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const s=yield xa(n.localStore,en(e));n.isPrimaryClient&&Wf(n.remoteStore,s);const a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield Gw(n,e,r,"current"===a,s.resumeToken)}return i}),qw.apply(this,arguments)}function Gw(t,e,n,r,i){return zw.apply(this,arguments)}function zw(){return zw=w(function*(t,e,n,r,i){t._c=(d,h,f)=>{return(p=w(function*(g,m,D,x){let y=m.view.Wu(D);y.$i&&(y=yield Hf(g.localStore,m.query,!1).then(({documents:j})=>m.view.Wu(j,y)));const A=x&&x.targetChanges.get(m.targetId),V=m.view.applyChanges(y,g.isPrimaryClient,A);return n0(g,m.targetId,V.Xu),V.snapshot}),function(g,m,D,x){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Hf(t.localStore,e,!0),s=new xP(e,o.Hi),a=s.Wu(o.documents),c=Ku.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,c);n0(t,n,u.Xu);const l=new j9(e,n,s);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}),zw.apply(this,arguments)}function G9(t,e){return Ww.apply(this,arguments)}function Ww(){return Ww=w(function*(t,e){const n=P(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(o=>!ju(o,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),cl(n.remoteStore,r.targetId),Ra(n,r.targetId)}).catch(Mi))):(Ra(n,r.targetId),yield Sa(n.localStore,r.targetId,!0))}),Ww.apply(this,arguments)}function Kw(){return Kw=w(function*(t,e,n){const r=g0(t);try{const i=yield function(o,s){const a=P(o),c=Be.now(),u=s.reduce((h,f)=>h.add(f.key),oe());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=hn(),p=oe();return a.Gi.getEntries(h,u).next(g=>{f=g,f.forEach((m,D)=>{D.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const D of s){const x=eK(D,l.get(D.key).overlayedDocument);null!=x&&m.push(new ii(D.key,x,PO(x.value.mapValue),Ue.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,m,s)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:rN(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.hc[o.currentUser.toKey()];c||(c=new Xe(J)),c=c.insert(s,a),o.hc[o.currentUser.toKey()]=c}(r,i.batchId,n),yield si(r,i.changes),yield Ma(r.remoteStore)}catch(i){const o=Oa(i,"Failed to persist write");n.reject(o)}}),Kw.apply(this,arguments)}function SP(t,e){return Qw.apply(this,arguments)}function Qw(){return Qw=w(function*(t,e){const n=P(t);try{const r=yield h9(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.cc.get(o);s&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.nc=!0:i.modifiedDocuments.size>0?B(s.nc):i.removedDocuments.size>0&&(B(s.nc),s.nc=!1))}),yield si(n,r,e)}catch(r){yield Mi(r)}}),Qw.apply(this,arguments)}function TP(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((o,s)=>{const a=s.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=P(o);a.onlineState=s;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.bu(s)&&(c=!0)}),c&&$w(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function W9(t,e,n){return Yw.apply(this,arguments)}function Yw(){return Yw=w(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),o=i&&i.key;if(o){let s=new Xe(O.comparator);s=s.insert(o,Re.newNoDocument(o,$.min()));const a=oe().add(o),c=new Wu($.min(),new Map,new xe(J),s,a);yield SP(r,c),r.uc=r.uc.remove(o),r.cc.delete(e),r0(r)}else yield Sa(r.localStore,e,!1).then(()=>Ra(r,e,n)).catch(Mi)}),Yw.apply(this,arguments)}function K9(t,e){return Zw.apply(this,arguments)}function Zw(){return Zw=w(function*(t,e){const n=P(t),r=e.batch.batchId;try{const i=yield d9(n.localStore,e);t0(n,r,null),e0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield si(n,i)}catch(i){yield Mi(i)}}),Zw.apply(this,arguments)}function Q9(t,e,n){return Xw.apply(this,arguments)}function Xw(){return Xw=w(function*(t,e,n){const r=P(t);try{const i=yield function(o,s){const a=P(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,s).next(l=>(B(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);t0(r,e,n),e0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield si(r,i)}catch(i){yield Mi(i)}}),Xw.apply(this,arguments)}function Jw(){return Jw=w(function*(t,e){const n=P(t);oi(n.remoteStore)||T("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const s=P(o);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>s.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(-1===r)return void e.resolve();const i=n.lc.get(r)||[];i.push(e),n.lc.set(r,i)}catch(r){const i=Oa(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Jw.apply(this,arguments)}function e0(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function t0(t,e,n){const r=P(t);let i=r.hc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ra(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||MP(t,r)})}function MP(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(cl(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),r0(t))}function n0(t,e,n){for(const r of n)r instanceof EP?(t.ac.addReference(r.key,e),Z9(t,r)):r instanceof IP?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||MP(t,r.key)):F()}function Z9(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oc.add(r),r0(t))}function r0(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new O(me.fromString(e)),r=t.fc.next();t.cc.set(r,new $9(n)),t.uc=t.uc.insert(n,r),Wf(t.remoteStore,new Li(en(ma(n.path)),r,2,xn.at))}}function si(t,e,n){return o0.apply(this,arguments)}function o0(){return o0=w(function*(t,e,n){const r=P(t),i=[],o=[],s=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,c)=>{s.push(r._c(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=uw.Ci(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.sc.Wo(i),yield(a=w(function*(c,u){const l=P(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(u,h=>_.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ai(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,g)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,o))}),o0.apply(this,arguments)}function X9(t,e){return s0.apply(this,arguments)}function s0(){return s0=w(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield rP(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(s=>{s.forEach(a=>{a.reject(new E(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield si(n,r.ji)}var i}),s0.apply(this,arguments)}function J9(t,e){const n=P(t),r=n.cc.get(e);if(r&&r.nc)return oe().add(r.key);{let i=oe();const o=n.rc.get(e);if(!o)return i;for(const s of o){const a=n.ic.get(s);i=i.unionWith(a.view.ju)}return i}}function eQ(t,e){return a0.apply(this,arguments)}function a0(){return a0=w(function*(t,e){const n=P(t),r=yield Hf(n.localStore,e.query,!0),i=e.view.tc(r);return n.isPrimaryClient&&n0(n,e.targetId,i.Xu),i}),a0.apply(this,arguments)}function tQ(t,e){return c0.apply(this,arguments)}function c0(){return c0=w(function*(t,e){const n=P(t);return aP(n.localStore,e).then(r=>si(n,r))}),c0.apply(this,arguments)}function nQ(t,e,n,r){return u0.apply(this,arguments)}function u0(){return u0=w(function*(t,e,n,r){const i=P(t),o=yield function(s,a){const c=P(s),u=P(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",l=>u.Tn(l,a).next(d=>d?c.localDocuments.getDocuments(l,d):_.resolve(null)))}(i.localStore,e);var a;null!==o?("pending"===n?yield Ma(i.remoteStore):"acknowledged"===n||"rejected"===n?(t0(i,e,r||null),e0(i,e),a=e,P(P(i.localStore).mutationQueue).An(a)):F(),yield si(i,o)):T("SyncEngine","Cannot apply mutation batch with id: "+e)}),u0.apply(this,arguments)}function l0(){return l0=w(function*(t,e){const n=P(t);if(p0(n),g0(n),!0===e&&!0!==n.dc){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield AP(n,r.toArray());n.dc=!0,yield kw(n.remoteStore,!0);for(const o of i)Wf(n.remoteStore,o)}else if(!1===e&&!1!==n.dc){const r=[];let i=Promise.resolve();n.rc.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Ra(n,s),Sa(n.localStore,s,!0))),cl(n.remoteStore,s)}),yield i,yield AP(n,r),function(o){const s=P(o);s.cc.forEach((a,c)=>{cl(s.remoteStore,c)}),s.ac.fs(),s.cc=new Map,s.uc=new Xe(O.comparator)}(n),n.dc=!1,yield kw(n.remoteStore,!1)}}),l0.apply(this,arguments)}function AP(t,e,n){return d0.apply(this,arguments)}function d0(){return d0=w(function*(t,e,n){const r=P(t),i=[],o=[];for(const s of e){let a;const c=r.rc.get(s);if(c&&0!==c.length){a=yield xa(r.localStore,en(c[0]));for(const u of c){const l=r.ic.get(u),d=yield eQ(r,l);d.snapshot&&o.push(d.snapshot)}}else{const u=yield sP(r.localStore,s);a=yield xa(r.localStore,u),yield Gw(r,OP(u),s,!1,a.resumeToken)}i.push(a)}return r.sc.Wo(o),i}),d0.apply(this,arguments)}function OP(t){return FO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function iQ(t){const e=P(t);return P(P(e.localStore).persistence).vi()}function oQ(t,e,n,r){return h0.apply(this,arguments)}function h0(){return h0=w(function*(t,e,n,r){const i=P(t);if(i.dc)return void T("SyncEngine","Ignoring unexpected query state notification.");const o=i.rc.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield aP(i.localStore,BO(o[0])),a=Wu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,_t.EMPTY_BYTE_STRING);yield si(i,s,a);break}case"rejected":yield Sa(i.localStore,e,!0),Ra(i,e,r);break;default:F()}}),h0.apply(this,arguments)}function sQ(t,e,n){return f0.apply(this,arguments)}function f0(){return f0=w(function*(t,e,n){const r=p0(t);if(r.dc){for(const i of e){if(r.rc.has(i)){T("SyncEngine","Adding an already active target "+i);continue}const o=yield sP(r.localStore,i),s=yield xa(r.localStore,o);yield Gw(r,OP(o),s.targetId,!1,s.resumeToken),Wf(r.remoteStore,s)}for(const i of n)r.rc.has(i)&&(yield Sa(r.localStore,i,!1).then(()=>{cl(r.remoteStore,i),Ra(r,i)}).catch(Mi))}}),f0.apply(this,arguments)}function p0(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W9.bind(null,e),e.sc.Wo=L9.bind(null,e.eventManager),e.sc.wc=V9.bind(null,e.eventManager),e}function g0(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q9.bind(null,e),e}class NP{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return w(function*(){n.yt=sl(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return nP(this.persistence,new tP,e.initialUser,this.yt)}yc(e){return new JN(jf.Bs,this.yt)}gc(e){return new dP}terminate(){var e=this;return w(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class PP extends NP{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return w(function*(){yield n().call(r,e),yield r.Ac.initialize(r,e),yield g0(r.Ac.syncEngine),yield Ma(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return nP(this.persistence,new tP,e.initialUser,this.yt)}Tc(e,n){return new YK(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Ec(e,n){const r=new RW(n,this.persistence);return new PW(e.asyncQueue,r)}yc(e){const n=cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new aw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,fP(),zf(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new dP}}class cQ extends PP{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return w(function*(){yield n().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof yw&&(r.sharedClientState.syncEngine={Fr:nQ.bind(null,i),$r:oQ.bind(null,i),Br:sQ.bind(null,i),vi:iQ.bind(null,i),Mr:tQ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var o=w(function*(s){yield function rQ(t,e){return l0.apply(this,arguments)}(r.Ac.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}gc(e){const n=fP();if(!yw.C(n))throw new E(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class m0{initialize(e,n){var r=this;return w(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>TP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=X9.bind(null,r.syncEngine),yield kw(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new F9}createDatastore(e){const n=sl(e.databaseInfo.databaseId),r=new v9(e.databaseInfo);return new C9(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>TP(this.syncEngine,a,0),s=hP.C()?new hP:new m9,new I9(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,c,u){const l=new H9(r,i,o,s,a,c);return u&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=w(function*(n){const r=P(n);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ta(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function y0(t,e,n){if(!n)throw new E(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RP(t,e,n,r){if(!0===e&&!0===r)throw new E(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kP(t){if(!O.isDocumentKey(t))throw new E(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FP(t){if(O.isDocumentKey(t))throw new E(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(t);throw new E(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function LP(t,e){if(e<=0)throw new E(b.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}const VP=new Map;class BP{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new E(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new E(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,RP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ul{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new E(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BP(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new bW;switch(n.type){case"gapi":return new IW(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new E(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=VP.get(e);n&&(T("ComponentProvider","Removing Datastore"),VP.delete(e),n.terminate())}(this),Promise.resolve()}}class ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ke(this.firestore,e,this._key)}}class Pt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pt(this.firestore,e,this._query)}}class Sr extends Pt{constructor(e,n,r){super(e,n,ma(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new O(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function jP(t,e,...n){if(t=Ie(t),y0("collection","path",e),t instanceof ul){const r=me.fromString(e,...n);return FP(r),new Sr(t,null,r)}{if(!(t instanceof ke||t instanceof Sr))throw new E(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return FP(r),new Sr(t.firestore,null,r)}}function Yf(t,e,...n){if(t=Ie(t),1===arguments.length&&(e=sO.R()),y0("doc","path",e),t instanceof ul){const r=me.fromString(e,...n);return kP(r),new ke(t,null,new O(r))}{if(!(t instanceof ke||t instanceof Sr))throw new E(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return kP(r),new ke(t.firestore,t instanceof Sr?t.converter:null,new O(r))}}function $P(t,e){return t=Ie(t),e=Ie(e),(t instanceof ke||t instanceof Sr)&&(e instanceof ke||e instanceof Sr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _0(t,e){return t=Ie(t),e=Ie(e),t instanceof Pt&&e instanceof Pt&&t.firestore===e.firestore&&ju(t._query,e._query)&&t.converter===e.converter}function HP(t,e=10240){let n=0;return{read:()=>w(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>w(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Zf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):nt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class lQ{constructor(e,n){this.Pc=e,this.yt=n,this.metadata=new yt,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return w(function*(){return e.metadata.promise})()}mc(){var e=this;return w(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return w(function*(){const n=yield e.Sc();if(null===n)return null;const r=e.vc.decode(n),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const o=yield e.Cc(i);return new B9(JSON.parse(o),n.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return w(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const n=e.xc();n<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Cc(e){var n=this;return w(function*(){for(;n.buffer.length<e;)(yield n.Nc())&&n.Dc("Reached the end of bundle when more is expected.");const r=n.vc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return w(function*(){const n=yield e.Pc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class fQ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return w(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new E(b.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=w(function*(o,s){const a=P(o),c=Yu(a.yt)+"/documents",u={documents:s.map(f=>Qu(a.yt,f))},l=yield a._o("BatchGetDocuments",c,u,s.length),d=new Map;l.forEach(f=>{const p=function hK(t,e){return"found"in e?function(n,r){B(!!r.found);const i=Ir(n,r.found.name),o=rt(r.found.updateTime),s=r.found.createTime?rt(r.found.createTime):$.min(),a=new Nt({mapValue:{fields:r.found.fields}});return Re.newFoundDocument(i,o,s,a)}(t,e):"missing"in e?function(n,r){B(!!r.missing),B(!!r.readTime);const i=Ir(n,r.missing),o=rt(r.readTime);return Re.newNoDocument(i,o)}(t,e):F()}(a.yt,f);d.set(p.key.toString(),p)});const h=[];return s.forEach(f=>{const p=d.get(f.toString());B(!!p),h.push(p)}),h}),function(o,s){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return w(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=O.fromPath(i);e.mutations.push(new Hv(o,e.precondition(o)))}),yield(r=w(function*(i,o){const s=P(i),a=Yu(s.yt)+"/documents",c={writes:o.map(u=>Zu(s.yt,u))};yield s.ao("Commit",a,c)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw F();n=$.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new E(b.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual($.min())?Ue.exists(!1):Ue.updateTime(n):Ue.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($.min()))throw new E(b.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(n)}return Ue.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pQ{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.kc=r.maxAttempts,this.xo=new _w(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro(w(function*(){const n=new fQ(e.datastore),r=e.Mc(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Fc(o)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const n=this.updateFunction(e);return!Ru(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!eN(n)}return!1}}class gQ{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=sO.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=w(function*(a){T("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(T("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return w(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Oa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function qP(t,e){return v0.apply(this,arguments)}function v0(){return v0=w(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=w(function*(o){r.isEqual(o)||(yield rP(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),v0.apply(this,arguments)}function GP(t,e){return w0.apply(this,arguments)}function w0(){return w0=w(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield b0(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>wP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>wP(e.remoteStore,o)),t.onlineComponents=e}),w0.apply(this,arguments)}function b0(t){return C0.apply(this,arguments)}function C0(){return C0=w(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield qP(t,new NP)),t.offlineComponents}),C0.apply(this,arguments)}function Xf(t){return D0.apply(this,arguments)}function D0(){return D0=w(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield GP(t,new m0)),t.onlineComponents}),D0.apply(this,arguments)}function zP(t){return b0(t).then(e=>e.persistence)}function Jf(t){return b0(t).then(e=>e.localStore)}function E0(t){return Xf(t).then(e=>e.remoteStore)}function I0(t){return Xf(t).then(e=>e.syncEngine)}function ka(t){return x0.apply(this,arguments)}function x0(){return x0=w(function*(t){const e=yield Xf(t),n=e.eventManager;return n.onListen=q9.bind(null,e.syncEngine),n.onUnlisten=G9.bind(null,e.syncEngine),n}),x0.apply(this,arguments)}function KP(t,e,n={}){const r=new yt;return t.asyncQueue.enqueueAndForget(w(function*(){return function(i,o,s,a,c){const u=new Zf({next:d=>{o.enqueueAndForget(()=>Uw(i,l));const h=d.docs.has(s);!h&&d.fromCache?c.reject(new E(b.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new E(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new Hw(ma(s.path),u,{includeMetadataChanges:!0,Nu:!0});return Vw(i,l)}(yield ka(t),t.asyncQueue,e,n,r)})),r.promise}function QP(t,e,n={}){const r=new yt;return t.asyncQueue.enqueueAndForget(w(function*(){return function(i,o,s,a,c){const u=new Zf({next:d=>{o.enqueueAndForget(()=>Uw(i,l)),d.fromCache&&"server"===a.source?c.reject(new E(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new Hw(s,u,{includeMetadataChanges:!0,Nu:!0});return Vw(i,l)}(yield ka(t),t.asyncQueue,e,n,r)})),r.promise}class DQ{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new _w(this,"async_queue_retry"),this.Wc=()=>{const n=zf();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=zf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=zf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new yt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return w(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!Ai(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,nt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Lw.createAndSchedule(this,e,n,r,o=>this.Yc(o));return this.Uc.push(i),i}zc(){this.Kc&&F()}verifyOperationInProgress(){}Xc(){var e=this;return w(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function S0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class EQ{constructor(){this._progressObserver={},this._taskCompletionResolver=new yt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fe extends ul{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new DQ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YP(this),this._firestoreClient.terminate()}}function it(t){return t._firestoreClient||YP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YP(t){var e;const n=t._freezeSettings(),r=(o=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new kW(t._databaseId,o,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var o,a;t._firestoreClient=new gQ(t._authCredentials,t._appCheckCredentials,t._queue,r)}function ZP(t,e,n){const r=new yt;return t.asyncQueue.enqueue(w(function*(){try{yield qP(t,n),yield GP(t,e),r.resolve()}catch(i){const o=i;if(!("FirebaseError"===(s=o).name?s.code===b.FAILED_PRECONDITION||s.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw o;Oo("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var s})).then(()=>r.promise)}function XP(t){if(t._initialized||t._terminated)throw new E(b.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tr(_t.fromBase64String(e))}catch(n){throw new E(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tr(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ai{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new E(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qo{constructor(e){this._methodName=e}}class ep{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const RQ=/^__.*__$/;class kQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new va(e,this.data,n,this.fieldTransforms)}}class JP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class tp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return ip(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(eR(this.sa)&&RQ.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class FQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||sl(e)}da(e,n,r,i=!1){return new tp({sa:e,methodName:n,fa:r,path:Ye.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Yo(t){const e=t._freezeSettings(),n=sl(t._databaseId);return new FQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function np(t,e,n,r,i,o={}){const s=t.da(o.merge||o.mergeFields?2:0,e,n,i);O0("Data must be an object, but it was:",s,r);const a=rR(r,s);let c,u;if(o.merge)c=new dn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=N0(e,d,n);if(!s.contains(h))throw new E(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);oR(l,h)||l.push(h)}c=new dn(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new kQ(new Nt(a),c,u)}class ll extends Qo{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ll}}function tR(t,e,n){return new tp({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class T0 extends Qo{_toFieldTransform(e){return new Hu(e.path,new ya)}isEqual(e){return e instanceof T0}}class LQ extends Qo{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=tR(this,e,!0),r=this._a.map(o=>Zo(o,n)),i=new Uo(r);return new Hu(e.path,i)}isEqual(e){return this===e}}class VQ extends Qo{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=tR(this,e,!0),r=this._a.map(o=>Zo(o,n)),i=new jo(r);return new Hu(e.path,i)}isEqual(e){return this===e}}class BQ extends Qo{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new _a(e.yt,HO(e.yt,this.wa));return new Hu(e.path,n)}isEqual(e){return this===e}}function M0(t,e,n,r){const i=t.da(1,e,n);O0("Data must be an object, but it was:",i,r);const o=[],s=Nt.empty();Ro(r,(c,u)=>{const l=rp(e,c,n);u=Ie(u);const d=i.ca(l);if(u instanceof ll)o.push(l);else{const h=Zo(u,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new dn(o);return new JP(s,a,i.fieldTransforms)}function A0(t,e,n,r,i,o){const s=t.da(1,e,n),a=[N0(e,r,n)],c=[i];if(o.length%2!=0)throw new E(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(N0(e,o[h])),c.push(o[h+1]);const u=[],l=Nt.empty();for(let h=a.length-1;h>=0;--h)if(!oR(u,a[h])){const f=a[h];let p=c[h];p=Ie(p);const g=s.ca(f);if(p instanceof ll)u.push(f);else{const m=Zo(p,g);null!=m&&(u.push(f),l.set(f,m))}}const d=new dn(u);return new JP(l,d,s.fieldTransforms)}function nR(t,e,n,r=!1){return Zo(n,t.da(r?4:3,e))}function Zo(t,e){if(iR(t=Ie(t)))return O0("Unsupported field value:",e,t),rR(t,e);if(t instanceof Qo)return function(n,r){if(!eR(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Zo(s,r.aa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ie(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return HO(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Be.fromDate(n);return{timestampValue:ba(r.yt,i)}}if(n instanceof Be){const i=new Be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ba(r.yt,i)}}if(n instanceof ep)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Tr)return{bytesValue:lN(r.yt,n._byteString)};if(n instanceof ke){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Qf(n)}`)}(t,e)}function rR(t,e){const n={};return pO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,i)=>{const o=Zo(i,e.ra(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function iR(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof ep||t instanceof Tr||t instanceof ke||t instanceof Qo)}function O0(t,e,n){if(!iR(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Qf(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function N0(t,e,n){if((e=Ie(e))instanceof ai)return e._internalPath;if("string"==typeof e)return rp(t,e);throw ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const UQ=new RegExp("[~\\*/\\[\\]]");function rp(t,e,n){if(e.search(UQ)>=0)throw ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ai(...e.split("."))._internalPath}catch{throw ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ip(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new E(b.INVALID_ARGUMENT,a+t+c)}function oR(t,e){return t.some(n=>n.isEqual(e))}class dl{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(op("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class jQ extends dl{data(){return super.data()}}function op(t,e){return"string"==typeof e?rp(t,e):e instanceof ai?e._internalPath:e._delegate._internalPath}function sR(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new E(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P0{}class hl extends P0{}function $i(t,e,...n){let r=[];e instanceof P0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof Fa).length,s=i.filter(a=>a instanceof fl).length;if(o>1||o>0&&s>0)throw new E(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fl extends hl{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fl(e,n,r)}_apply(e){const n=this._parse(e);return lR(e._query,n),new Pt(e.firestore,e.converter,jv(e._query,n))}_parse(e){const n=Yo(e.firestore);return function(i,o,s,a,c,u,l){let d;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new E(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){uR(l,u);const h=[];for(const f of l)h.push(cR(a,i,f));d={arrayValue:{values:h}}}else d=cR(a,i,l)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||uR(l,u),d=nR(s,"where",l,"in"===u||"not-in"===u);return he.create(c,u,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fa extends P0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fa(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ee.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)lR(o,a),o=jv(o,a)}(e._query,n),new Pt(e.firestore,e.converter,jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class R0 extends hl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R0(e,n)}_apply(e){const n=function(r,i,o){if(null!==r.startAt)throw new E(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new E(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new pa(i,o);return function(a,c){if(null===Bv(a)){const u=If(a);null!==u&&dR(0,u,c.field)}}(r,s),s}(e._query,this._field,this._direction);return new Pt(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new ri(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class sp extends hl{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sp(e,n,r)}_apply(e){return new Pt(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}class ap extends hl{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ap(e,n,r)}_apply(e){const n=aR(e,this.type,this._docOrFields,this._inclusive);return new Pt(e.firestore,e.converter,(i=n,new ri((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class cp extends hl{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cp(e,n,r)}_apply(e){const n=aR(e,this.type,this._docOrFields,this._inclusive);return new Pt(e.firestore,e.converter,(i=n,new ri((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function aR(t,e,n,r){if(n[0]=Ie(n[0]),n[0]instanceof dl)return function(i,o,s,a,c){if(!a)throw new E(b.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const u=[];for(const l of Bo(i))if(l.field.isKeyField())u.push(Lo(o,a.key));else{const d=a.data.field(l.field);if(Nv(d))throw new E(b.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){const h=l.field.canonicalString();throw new E(b.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new ki(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Yo(t.firestore);return function(o,s,a,c,u,l){const d=o.explicitOrderBy;if(u.length>d.length)throw new E(b.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<u.length;f++){const p=u[f];if(d[f].field.isKeyField()){if("string"!=typeof p)throw new E(b.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof p}`);if(!Uv(o)&&-1!==p.indexOf("/"))throw new E(b.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${p}' contains a slash.`);const g=o.path.child(me.fromString(p));if(!O.isDocumentKey(g))throw new E(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const m=new O(g);h.push(Lo(s,m))}else{const g=nR(a,c,p);h.push(g)}}return new ki(h,l)}(t._query,t.firestore._databaseId,i,e,n,r)}}function cR(t,e,n){if("string"==typeof(n=Ie(n))){if(""===n)throw new E(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uv(e)&&-1!==n.indexOf("/"))throw new E(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!O.isDocumentKey(r))throw new E(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lo(t,new O(r))}if(n instanceof ke)return Lo(t,n._key);throw new E(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qf(n)}.`)}function uR(t,e){if(!Array.isArray(t)||0===t.length)throw new E(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new E(b.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function lR(t,e){if(e.isInequality()){const r=If(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new E(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=Bv(t);null!==o&&dR(0,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new E(b.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dR(t,e,n){if(!n.isEqual(e))throw new E(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class k0{convertValue(e,n="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){const r={};return Ro(e.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ep(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mO(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);B(wN(r));const i=new Oi(r.get(1),r.get(3)),o=new O(r.popFirst(5));return i.isEqual(n)||nt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function up(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class YQ extends k0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}class Xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ci extends dl{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(op("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pl extends ci{data(e={}){return super.data(e)}}class Hi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pl(this._firestore,this._userDataWriter,r.key,r,new Xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new pl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Xo(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new pl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Xo(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:ZQ(s.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function fR(t,e){return t instanceof ci&&e instanceof ci?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Hi&&e instanceof Hi&&t._firestore===e._firestore&&_0(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class qi extends k0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function pR(t,e,n){t=fe(t,ke);const r=fe(t.firestore,Fe),i=up(t.converter,e,n);return La(r,[np(Yo(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ue.none())])}function gR(t,e,n,...r){t=fe(t,ke);const i=fe(t.firestore,Fe),o=Yo(i);let s;return s="string"==typeof(e=Ie(e))||e instanceof ai?A0(o,"updateDoc",t._key,e,n,r):M0(o,"updateDoc",t._key,e),La(i,[s.toMutation(t._key,Ue.exists(!0))])}function mR(t,...e){var n,r,i;t=Ie(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||S0(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(S0(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,u,l;if(t instanceof ke)u=fe(t.firestore,Fe),l=ma(t._key.path),c={next:d=>{e[s]&&e[s](F0(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=fe(t,Pt);u=fe(d.firestore,Fe),l=d._query;const h=new qi(u);c={next:f=>{e[s]&&e[s](new Hi(u,h,d,f))},error:e[s+1],complete:e[s+2]},sR(t._query)}return function(d,h,f,p){const g=new Zf(p),m=new Hw(h,g,f);return d.asyncQueue.enqueueAndForget(w(function*(){return Vw(yield ka(d),m)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(w(function*(){return Uw(yield ka(d),m)}))}}(it(u),l,a,c)}function La(t,e){return function(n,r){const i=new yt;return n.asyncQueue.enqueueAndForget(w(function*(){return function z9(t,e,n){return Kw.apply(this,arguments)}(yield I0(n),r,i)})),i.promise}(it(t),e)}function F0(t,e,n){const r=n.docs.get(e._key),i=new qi(t);return new ci(t,i,e._key,r,new Xo(n.hasPendingWrites,n.fromCache),e.converter)}const aY={maxAttempts:5};class yR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yo(e)}set(e,n,r){this._verifyNotCommitted();const i=Gi(e,this._firestore),o=up(i.converter,n,r),s=np(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Ue.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Gi(e,this._firestore);let s;return s="string"==typeof(n=Ie(n))||n instanceof ai?A0(this._dataReader,"WriteBatch.update",o._key,n,r,i):M0(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ue.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Gi(e,this._firestore);return this._mutations=this._mutations.concat(new wa(n._key,Ue.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new E(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gi(t,e){if((t=Ie(t)).firestore!==e)throw new E(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class cY extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Yo(e)}get(e){const n=Gi(e,this._firestore),r=new YQ(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||1!==i.length)return F();const o=i[0];if(o.isFoundDocument())return new dl(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new dl(this._firestore,r,n._key,null,n.converter);throw F()})}set(e,n,r){const i=Gi(e,this._firestore),o=up(i.converter,n,r),s=np(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const o=Gi(e,this._firestore);let s;return s="string"==typeof(n=Ie(n))||n instanceof ai?A0(this._dataReader,"Transaction.update",o._key,n,r,i):M0(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){const n=Gi(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Gi(e,this._firestore),r=new qi(this._firestore);return super.get(e).then(i=>new ci(this._firestore,r,n._key,i._document,new Xo(!1,!1),n.converter))}}function L0(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new E("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function vR(){if(typeof Uint8Array>"u")throw new E("unimplemented","Uint8Arrays are not available in this environment.")}function wR(){if(!function FW(){return typeof atob<"u"}())throw new E("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){la=Rh,Io(new Yr("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Fe(new DW(n.getProvider("auth-internal")),new xW(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new E(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oi(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),_r(rO,"3.8.3",t),_r(rO,"3.8.3","esm2017")}();class gl{constructor(e){this._delegate=e}static fromBase64String(e){return wR(),new gl(Tr.fromBase64String(e))}static fromUint8Array(e){return vR(),new gl(Tr.fromUint8Array(e))}toBase64(){return wR(),this._delegate.toBase64()}toUint8Array(){return vR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function V0(t){return function yY(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class _Y{enableIndexedDbPersistence(e,n){return function xQ(t,e){XP(t=fe(t,Fe));const n=it(t),r=t._freezeSettings(),i=new m0;return ZP(n,i,new PP(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function SQ(t){XP(t=fe(t,Fe));const e=it(t),n=t._freezeSettings(),r=new m0;return ZP(e,r,new cQ(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function TQ(t){if(t._initialized&&!t._terminated)throw new E(b.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yt;return t._queue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{yield(n=w(function*(r){if(!tr.C())return Promise.resolve();const i=r+"main";yield tr.delete(i)}),function(r){return n.apply(this,arguments)})(cw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class bR{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Oo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function UP(t,e,n,r={}){var i;const o=(t=fe(t,ul))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=bt.MOCK_USER;else{s=OM(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new E(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new bt(c)}t._authCredentials=new CW(new iO(s,a))}}(this._delegate,e,n,r)}enableNetwork(){return function AQ(t){return function mQ(t){return t.asyncQueue.enqueue(w(function*(){const e=yield zP(t),n=yield E0(t);return e.setNetworkEnabled(!0),function(r){const i=P(r);return i._u.delete(0),al(i)}(n)}))}(it(t=fe(t,Fe)))}(this._delegate)}disableNetwork(){return function OQ(t){return function yQ(t){return t.asyncQueue.enqueue(w(function*(){const e=yield zP(t),n=yield E0(t);return e.setNetworkEnabled(!1),(r=w(function*(i){const o=P(i);o._u.add(0),yield Ta(o),o.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(n);var r}))}(it(t=fe(t,Fe)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,RP("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function MQ(t){return function(e){const n=new yt;return e.asyncQueue.enqueueAndForget(w(function*(){return function Y9(t,e){return Jw.apply(this,arguments)}(yield I0(e),n)})),n.promise}(it(t=fe(t,Fe)))}(this._delegate)}onSnapshotsInSync(e){return function sY(t,e){return function wQ(t,e){const n=new Zf(e);return t.asyncQueue.enqueueAndForget(w(function*(){return r=yield ka(t),i=n,P(r).Ru.add(i),void i.next();var r,i})),()=>{n.bc(),t.asyncQueue.enqueueAndForget(w(function*(){return r=yield ka(t),i=n,void P(r).Ru.delete(i);var r,i}))}}(it(t=fe(t,Fe)),S0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new E("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Va(this,jP(this._delegate,e))}catch(n){throw nn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Vn(this,Yf(this._delegate,e))}catch(n){throw nn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rn(this,function uQ(t,e){if(t=fe(t,ul),y0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new E(b.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pt(t,null,(n=e,new ri(me.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw nn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function uY(t,e,n){t=fe(t,Fe);const r=Object.assign(Object.assign({},aY),n);return function(i){if(i.maxAttempts<1)throw new E(b.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,s){const a=new yt;return i.asyncQueue.enqueueAndForget(w(function*(){const c=yield function WP(t){return Xf(t).then(e=>e.datastore)}(i);new pQ(i.asyncQueue,c,s,o,a).run()})),a.promise}(it(t),i=>e(new cY(t,i)),r)}(this._delegate,n=>e(new CR(this,n)))}batch(){return it(this._delegate),new DR(new yR(this._delegate,e=>La(this._delegate,e)))}loadBundle(e){return function NQ(t,e){const n=it(t=fe(t,Fe)),r=new EQ;return function bQ(t,e,n,r){const i=function(o,s){let a;return a="string"==typeof o?(new TextEncoder).encode(o):o,c=function(c,u){if(c instanceof Uint8Array)return HP(c,u);if(c instanceof ArrayBuffer)return HP(new Uint8Array(c),u);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),new lQ(c,s);var c}(n,sl(e));t.asyncQueue.enqueueAndForget(w(function*(){!function aQ(t,e,n){const r=P(t);var i;(i=w(function*(o,s,a){try{const c=yield s.getMetadata();if(yield function(h,f){const p=P(h),g=rt(f.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",m=>p.Ns.getBundleMetadata(m,f.id)).then(m=>!!m&&m.createTime.compareTo(g)>=0)}(o.localStore,c))return yield s.close(),a._completeWith({taskState:"Success",documentsLoaded:(h=c).totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}),Promise.resolve(new Set);a._updateProgress(DP(c));const u=new U9(c,o.localStore,s.yt);let l=yield s.mc();for(;l;){const h=yield u.Fu(l);h&&a._updateProgress(h),l=yield s.mc()}const d=yield u.complete();return yield si(o,d.Lu,void 0),yield function(h,f){const p=P(h);return p.persistence.runTransaction("Save bundle","readwrite",g=>p.Ns.saveBundleMetadata(g,f))}(o.localStore,c),a._completeWith(d.progress),Promise.resolve(d.Bu)}catch(c){return Oo("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}var h}),function(o,s,a){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield I0(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function PQ(t,e){return function CQ(t,e){return t.asyncQueue.enqueue(w(function*(){return function(n,r){const i=P(n);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ns.getNamedQuery(o,r))}(yield Jf(t),e)}))}(it(t=fe(t,Fe)),e).then(n=>n?new Pt(t,null,n.query):null)}(this._delegate,e).then(n=>n?new rn(this,n):null)}}class lp extends k0{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(new Tr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Vn.forKey(n,this.firestore,null)}}class CR{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new lp(e)}get(e){const n=es(e);return this._delegate.get(n).then(r=>new ml(this._firestore,new ci(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=es(e);return r?(L0("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=es(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=es(e);return this._delegate.delete(n),this}}class DR{constructor(e){this._delegate=e}set(e,n,r){const i=es(e);return r?(L0("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=es(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=es(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Jo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new pl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yl(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Jo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Jo(e,new lp(e),n),i.set(n,o)),o}}Jo.INSTANCES=new WeakMap;class Vn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new lp(e)}static forPath(e,n,r){if(e.length%2!=0)throw new E("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vn(n,new ke(n._delegate,r,new O(e)))}static forKey(e,n,r){return new Vn(n,new ke(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Va(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Va(this.firestore,jP(this._delegate,e))}catch(n){throw nn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Ie(e))instanceof ke&&$P(this._delegate,e)}set(e,n){n=L0("DocumentReference.set",n);try{return n?pR(this._delegate,e,n):pR(this._delegate,e)}catch(r){throw nn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?gR(this._delegate,e):gR(this._delegate,e,n,...r)}catch(i){throw nn(i,"updateDoc()","DocumentReference.update()")}}delete(){return function iY(t){return La(fe(t.firestore,Fe),[new wa(t._key,Ue.none())])}(this._delegate)}onSnapshot(...e){const n=ER(e),r=IR(e,i=>new ml(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return mR(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function JQ(t){t=fe(t,ke);const e=fe(t.firestore,Fe),n=it(e),r=new qi(e);return function _Q(t,e){const n=new yt;return t.asyncQueue.enqueueAndForget(w(function*(){return(r=w(function*(i,o,s){try{const a=yield function(c,u){const l=P(c);return l.persistence.runTransaction("read document","readonly",d=>l.localDocuments.getDocument(d,u))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new E(b.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const c=Oa(a,`Failed to get document '${o} from cache`);s.reject(c)}}),function(i,o,s){return r.apply(this,arguments)})(yield Jf(t),e,n);var r})),n.promise}(n,t._key).then(i=>new ci(e,r,t._key,i,new Xo(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function eY(t){t=fe(t,ke);const e=fe(t.firestore,Fe);return KP(it(e),t._key,{source:"server"}).then(n=>F0(e,t,n))}(this._delegate):function XQ(t){t=fe(t,ke);const e=fe(t.firestore,Fe);return KP(it(e),t._key).then(n=>F0(e,t,n))}(this._delegate),n.then(r=>new ml(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Vn(this.firestore,this._delegate.withConverter(e?Jo.getInstance(this.firestore,e):null))}}function nn(t,e,n){return t.message=t.message.replace(e,n),t}function ER(t){for(const e of t)if("object"==typeof e&&!V0(e))return e;return{}}function IR(t,e){var n,r;let i;return i=V0(t[0])?t[0]:V0(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ml{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Vn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return fR(this._delegate,e._delegate)}}class yl extends ml{data(e){const n=this._delegate.data(e);return function wW(t,e){t||F()}(void 0!==n),n}}class rn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new lp(e)}where(e,n,r){try{return new rn(this.firestore,$i(this._delegate,function $Q(t,e,n){const r=e,i=op("where",t);return fl._create(i,r,n)}(e,n,r)))}catch(i){throw nn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new rn(this.firestore,$i(this._delegate,function HQ(t,e="asc"){const n=e,r=op("orderBy",t);return R0._create(r,n)}(e,n)))}catch(r){throw nn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rn(this.firestore,$i(this._delegate,function qQ(t){return LP("limit",t),sp._create("limit",t,"F")}(e)))}catch(n){throw nn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new rn(this.firestore,$i(this._delegate,function GQ(t){return LP("limitToLast",t),sp._create("limitToLast",t,"L")}(e)))}catch(n){throw nn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rn(this.firestore,$i(this._delegate,function zQ(...t){return ap._create("startAt",t,!0)}(...e)))}catch(n){throw nn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rn(this.firestore,$i(this._delegate,function WQ(...t){return ap._create("startAfter",t,!1)}(...e)))}catch(n){throw nn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rn(this.firestore,$i(this._delegate,function KQ(...t){return cp._create("endBefore",t,!1)}(...e)))}catch(n){throw nn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rn(this.firestore,$i(this._delegate,function QQ(...t){return cp._create("endAt",t,!0)}(...e)))}catch(n){throw nn(n,"endAt()","Query.endAt()")}}isEqual(e){return _0(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function nY(t){t=fe(t,Pt);const e=fe(t.firestore,Fe),n=it(e),r=new qi(e);return function vQ(t,e){const n=new yt;return t.asyncQueue.enqueueAndForget(w(function*(){return(r=w(function*(i,o,s){try{const a=yield Hf(i,o,!0),c=new xP(o,a.Hi),u=c.Wu(a.documents),l=c.applyChanges(u,!1);s.resolve(l.snapshot)}catch(a){const c=Oa(a,`Failed to execute query '${o} against cache`);s.reject(c)}}),function(i,o,s){return r.apply(this,arguments)})(yield Jf(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Hi(e,r,t,i))}(this._delegate):"server"===e?.source?function rY(t){t=fe(t,Pt);const e=fe(t.firestore,Fe),n=it(e),r=new qi(e);return QP(n,t._query,{source:"server"}).then(i=>new Hi(e,r,t,i))}(this._delegate):function tY(t){t=fe(t,Pt);const e=fe(t.firestore,Fe),n=it(e),r=new qi(e);return sR(t._query),QP(n,t._query).then(i=>new Hi(e,r,t,i))}(this._delegate),n.then(r=>new B0(this.firestore,new Hi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=ER(e),r=IR(e,i=>new B0(this.firestore,new Hi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return mR(this._delegate,n,r)}withConverter(e){return new rn(this.firestore,this._delegate.withConverter(e?Jo.getInstance(this.firestore,e):null))}}class wY{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new yl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class B0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new rn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new wY(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new yl(this._firestore,r))})}isEqual(e){return fR(this._delegate,e._delegate)}}class Va extends rn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vn(this.firestore,e):null}doc(e){try{return new Vn(this.firestore,void 0===e?Yf(this._delegate):Yf(this._delegate,e))}catch(n){throw nn(n,"doc()","CollectionReference.doc()")}}add(e){return function oY(t,e){const n=fe(t.firestore,Fe),r=Yf(t),i=up(t.converter,e);return La(n,[np(Yo(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ue.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Vn(this.firestore,n))}isEqual(e){return $P(this._delegate,e._delegate)}withConverter(e){return new Va(this.firestore,this._delegate.withConverter(e?Jo.getInstance(this.firestore,e):null))}}function es(t){return fe(t,ke)}class U0{constructor(...e){this._delegate=new ai(...e)}static documentId(){return new U0(Ye.keyField().canonicalString())}isEqual(e){return(e=Ie(e))instanceof ai&&this._delegate._internalPath.isEqual(e._internalPath)}}class ts{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dY(){return new T0("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ts(e)}static delete(){const e=function lY(){return new ll("deleteField")}();return e._methodName="FieldValue.delete",new ts(e)}static arrayUnion(...e){const n=function hY(...t){return new LQ("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new ts(n)}static arrayRemove(...e){const n=function fY(...t){return new VQ("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new ts(n)}static increment(e){const n=function pY(t){return new BQ("increment",t)}(e);return n._methodName="FieldValue.increment",new ts(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bY={Firestore:bR,GeoPoint:ep,Timestamp:Be,Blob:gl,Transaction:CR,WriteBatch:DR,DocumentReference:Vn,DocumentSnapshot:ml,Query:rn,QueryDocumentSnapshot:yl,QuerySnapshot:B0,CollectionReference:Va,FieldPath:U0,FieldValue:ts,setLogLevel:function vY(t){!function vW(t){Ti.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function DY(t){(function CY(t,e){t.INTERNAL.registerComponent(new Yr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},bY)))})(t,(e,n)=>new bR(e,n,new _Y)),t.registerVersion("@firebase/firestore-compat","0.3.3")}(kh);const Mr=kh.initializeApp({apiKey:"AIzaSyCO4kgHvOKJRVl4gd7AZqFV2Sj3lwCx9dI",authDomain:"psicologiaconleila.firebaseapp.com",databaseURL:"https://psicologiaconleila-default-rtdb.firebaseio.com",projectId:"psicologiaconleila",storageBucket:"psicologiaconleila.appspot.com",messagingSenderId:"1058368529721",appId:"1:1058368529721:web:0be66ad3bf55bf764574e8",measurementId:"G-DY22SNP6EB"});class ns{obtenerDocs(e){return w(function*(){let n=[];return(yield Mr.firestore().collection(e).get()).docs.map(i=>{n.push(i.data())}),n[n.length-1].url})()}obtenerDocsImgsGalery(e){return w(function*(){let n=[];return(yield Mr.firestore().collection(e).get()).docs.map(i=>{n.push(i.data())}),console.log(n),n})()}constructor(){}}ns.\u0275fac=function(e){return new(e||ns)},ns.\u0275prov=K({token:ns,factory:ns.\u0275fac,providedIn:"root"});let xR=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(S(jr),S(wn))},t.\u0275dir=Z({type:t}),t})(),rs=(()=>{class t extends xR{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=St(t)))(r||t)}}(),t.\u0275dir=Z({type:t,features:[De]}),t})();const Ar=new H("NgValueAccessor"),xY={provide:Ar,useExisting:Me(()=>dp),multi:!0},TY=new H("CompositionEventMode");let dp=(()=>{class t extends xR{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SY(){const t=pr()?pr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(S(jr),S(wn),S(TY,8))},t.\u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ie("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Le([xY]),De]}),t})();const Ht=new H("NgValidators"),Wi=new H("NgAsyncValidators");function LR(t){return null!=t}function VR(t){return Ec(t)?st(t):t}function BR(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function UR(t,e){return e.map(n=>n(t))}function jR(t){return t.map(e=>function OY(t){return!t.validate}(e)?e:n=>e.validate(n))}function j0(t){return null!=t?function $R(t){if(!t)return null;const e=t.filter(LR);return 0==e.length?null:function(n){return BR(UR(n,e))}}(jR(t)):null}function $0(t){return null!=t?function HR(t){if(!t)return null;const e=t.filter(LR);return 0==e.length?null:function(n){return function EY(...t){const e=Nb(t),{args:n,keys:r}=dT(t),i=new ot(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;Tn(n[l]).subscribe(ft(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?fT(r,a):a),o.complete())}))}});return e?i.pipe(hT(e)):i}(UR(n,e).map(VR)).pipe(de(BR))}}(jR(t)):null}function qR(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function H0(t){return t?Array.isArray(t)?t:[t]:[]}function fp(t,e){return Array.isArray(t)?t.includes(e):t===e}function WR(t,e){const n=H0(e);return H0(t).forEach(i=>{fp(n,i)||n.push(i)}),n}function KR(t,e){return H0(e).filter(n=>!fp(t,n))}class QR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=j0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class on extends QR{get formDirective(){return null}get path(){return null}}class Ki extends QR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ZR=(()=>{class t extends YR{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(S(Ki,2))},t.\u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Md("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[De]}),t})(),pp=(()=>{class t extends YR{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(S(on,10))},t.\u0275dir=Z({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Md("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[De]}),t})();const _l="VALID",mp="INVALID",Ba="PENDING",vl="DISABLED";function W0(t){return(yp(t)?t.validators:t)||null}function K0(t,e){return(yp(e)?e.asyncValidators:t)||null}function yp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class tk{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_l}get invalid(){return this.status===mp}get pending(){return this.status==Ba}get disabled(){return this.status===vl}get enabled(){return this.status!==vl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(WR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KR(e,this._rawAsyncValidators))}hasValidator(e){return fp(this._rawValidators,e)}hasAsyncValidator(e){return fp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ba,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=vl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=_l,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_l||this.status===Ba)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vl:_l}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ba,this._hasOwnPendingAsyncValidator=!0;const n=VR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?vl:this.errors?mp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ba)?Ba:this._anyControlsHaveStatus(mp)?mp:_l}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function VY(t){return Array.isArray(t)?j0(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function BY(t){return Array.isArray(t)?$0(t):t||null}(this._rawAsyncValidators)}}class Q0 extends tk{constructor(e,n,r){super(W0(n),K0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function ek(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new M(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function JR(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[n])throw new M(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const wl=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Y0}),Y0="always";function bl(t,e,n=Y0){Z0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function $Y(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nk(t,e)})}(t,e),function qY(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function HY(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nk(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function jY(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function wp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Z0(t,e){const n=function GR(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(qR(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function zR(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(qR(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();wp(e._rawValidators,i),wp(e._rawAsyncValidators,i)}function nk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const QY={provide:on,useExisting:Me(()=>Ua)},Cl=(()=>Promise.resolve())();let Ua=(()=>{class t extends on{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ke,this.form=new Q0({},j0(n),$0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Cl.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),bl(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Cl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Cl.then(()=>{const r=this._findContainer(n.path),i=new Q0({});(function rk(t,e){Z0(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Cl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Cl.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function ik(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(S(Ht,10),S(Wi,10),S(wl,8))},t.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ie("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([QY]),De]}),t})();function ok(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function sk(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ak=class extends tk{constructor(e=null,n,r){super(W0(n),K0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=sk(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ok(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ok(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},XY={provide:Ki,useExisting:Me(()=>tb)},lk=(()=>Promise.resolve())();let tb=(()=>{class t extends Ki{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ak,this._registered=!1,this.update=new Ke,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function eb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===dp?n=o:function WY(t){return Object.getPrototypeOf(t.constructor)===rs}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function J0(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){lk.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&zs(r);lk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function _p(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(S(on,9),S(Ht,10),S(Wi,10),S(Ar,10),S(qd,8),S(wl,8))},t.\u0275dir=Z({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Le([XY]),De,On]}),t})(),Cp=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),hk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Bn({}),t})(),CZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Bn({imports:[hk]}),t})(),EZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:wl,useValue:n.callSetDisabledState??Y0}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Bn({imports:[CZ]}),t})();function IZ(t,e){1&t&&L(0,"img",3),2&t&&fi("src",e.$implicit.url,Br)}class Dl{constructor(e){this.inicioCS=e,this.enlaceGlobal="",this.fecha=new Date,this.nombreArchivoDate=String(this.fecha.getTime()),this.fechaHoy=this.fecha.toLocaleDateString("en-US"),this.ListaImgsBanner=[],this.listaGaleriaImgs=[]}obtenerDocsImgBanner(e){var n=this;return w(function*(){const r=yield Mr.firestore().collection(e).get();n.documentosGlobal=r.docs.map(i=>{n.ListaImgsBanner.push(i.data())}),n.urlImgBanner=n.ListaImgsBanner[n.ListaImgsBanner.length-1].url})()}obtenerDocsImgsGalery(e){var n=this;return w(function*(){let r=[];const i=yield Mr.firestore().collection(e).get();n.documentosGlobal=i.docs.map(o=>{r.push(o.data())}),n.listaGaleriaImgs=r})()}enviarForm(e,n){var r=this;return w(function*(){e.preventDefault();const i=r.nombreArchivoDate;if(!i)return;let o={nombre:i,fecha:r.fechaHoy,url:r.enlaceGlobal};const s=Mr.firestore().collection(n);""!=r.enlaceGlobal?yield s.doc(i).set(o):alert("espera un poco mas por favor, luego vuelve a enviar la foto"),console.log(i+" | "+r.enlaceGlobal)})()}seleccionarArchivo(e){var n=this;return w(function*(){const r=e.target.files[0],o=Mr.storage().ref().child(r.name);yield o.put(r);let s=yield o.getDownloadURL();n.enlaceGlobal=s})()}ngOnInit(){this.obtenerDocsImgBanner("imgBanner"),this.obtenerDocsImgsGalery("imgsGalery")}}function xZ(t,e){if(1&t&&(v(0,"div",10)(1,"div",11),L(2,"img",12),C(),v(3,"div",13)(4,"div"),N(5),C(),v(6,"div"),L(7,"input",14),v(8,"a",15),L(9,"input",16),C()()()()),2&t){const n=e.$implicit;ze(5),Us(n.fecha),ze(3),fi("href",n.url,Br)}}Dl.\u0275fac=function(e){return new(e||Dl)(S(ns))},Dl.\u0275cmp=qt({type:Dl,selectors:[["app-inicio-modifiy"]],decls:22,vars:4,consts:[[1,"div__modify"],[1,"content__title"],[1,"content__img"],["alt","",3,"src"],[1,"content__actions"],["action","",3,"submit"],["type","file","value","Modificar",1,"btnBlue","bg-blue",3,"change"],["type","submit","value","Enviar",1,"btnBlue"],[1,"galery__content"],[1,"galery__container--imgs"],["alt","",3,"src",4,"ngFor","ngForOf"],["type","text",3,"value","disabled"],["type","file","value","Agregar",1,"btnBlue","bg-blue",3,"change"]],template:function(e,n){1&e&&(v(0,"div",0)(1,"div",1)(2,"h2"),N(3,"Banner"),C()(),v(4,"div",2),L(5,"img",3),C(),v(6,"div",4)(7,"form",5),ie("submit",function(i){return n.enviarForm(i,"imgBanner")}),v(8,"input",6),ie("change",function(i){return n.seleccionarArchivo(i)}),C(),L(9,"input",7),C()()(),v(10,"div",0)(11,"div",1)(12,"h2"),N(13,"Galeria"),C()(),v(14,"div",8)(15,"div",9),Dc(16,IZ,1,1,"img",10),C(),v(17,"div",4)(18,"form",5),ie("submit",function(i){return n.enviarForm(i,"imgsGalery")}),L(19,"input",11),v(20,"input",12),ie("change",function(i){return n.seleccionarArchivo(i)}),C(),L(21,"input",7),C()()()()),2&e&&(ze(5),fi("src",n.urlImgBanner,Br),ze(11),zn("ngForOf",n.listaGaleriaImgs),ze(3),Sd("value","Total:",n.listaGaleriaImgs.length,""),zn("disabled",!0))},dependencies:[Bc,Cp,pp,Ua],styles:[".div__modify[_ngcontent-%COMP%]{background-color:#e3e3e3;border-radius:10px;padding:20px 40px;box-shadow:0 0 10px #d6d6d6;margin:30px auto}.content__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:3px solid gray;margin:10px 0;padding-bottom:5px;font-family:Montserrat,sans-serif}.content__img[_ngcontent-%COMP%]{margin:20px 0;padding-bottom:0;display:flex;justify-content:center}.content__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:200px;object-fit:cover}.galery__content[_ngcontent-%COMP%]{width:100%;margin:auto}.galery__container--imgs[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto;flex-wrap:wrap}.galery__container--imgs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:5px}.galery__content[_ngcontent-%COMP%]   .content__actions[_ngcontent-%COMP%]{margin:10px 0}.galery__content[_ngcontent-%COMP%]   .content__actions[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{text-align:center;width:100px}.btnBlue[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:14px;padding:10px 17px;margin:5px;border-radius:5px;box-shadow:0 0 3px gray;border:2px solid white;background-color:#e7e7e7;cursor:pointer}.btnBlue[_ngcontent-%COMP%]:hover, .bg-blue[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.bg-blue[_ngcontent-%COMP%]:hover{background-color:#00b}.content__actions[_ngcontent-%COMP%]{display:flex;justify-content:right;flex-wrap:wrap}"]});class El{constructor(){this.fecha=new Date,this.nombreArchivoDate=this.fecha.getTime(),this.fechaHoy=this.fecha.toLocaleDateString("en-US"),this.listaPeriodicos=[]}obtenerDocsPeriodicos(e){var n=this;return w(function*(){let r=[];const i=yield Mr.firestore().collection(e).get();n.documentosGlobal=i.docs.map(o=>{r.push(o.data())}),n.listaPeriodicos=r,console.log(n.listaPeriodicos)})()}enviarForm(e,n){var r=this;return w(function*(){e.preventDefault();const i=r.nombreArchivoDate;if(!i)return;let o={nombre:i,fecha:r.fechaHoy,url:r.enlaceGlobal};const s=Mr.firestore().collection(n);""!=r.enlaceGlobal?yield s.doc(String(i)).set(o):alert("espera un poco mas por favor, luego vuelve a enviar la foto"),console.log(i+" | "+r.enlaceGlobal)})()}seleccionarArchivo(e){var n=this;return w(function*(){const r=e.target.files[0],o=Mr.storage().ref().child(r.name);yield o.put(r);let s=yield o.getDownloadURL();n.enlaceGlobal=s})()}ngOnInit(){this.obtenerDocsPeriodicos("periodicosDocs")}}El.\u0275fac=function(e){return new(e||El)},El.\u0275cmp=qt({type:El,selectors:[["app-periodico-modify"]],decls:13,vars:1,consts:[[1,"div__modify"],[1,"content__title"],[1,"periodico__section"],[1,"container__periodico--new"],["action","",3,"submit"],["id","src-file1",1,"file-select"],["type","file","name","nombrePeriodico","aria-label","Archivo",3,"change"],["type","submit","value","A\xf1adir ",1,"btnBlue"],[1,"periodico__container"],["class","periodico__card",4,"ngFor","ngForOf"],[1,"periodico__card"],[1,"periodico__card--img"],["src","../../../assets/imgs/WhatsApp Image 2023-02-16 at 10.52.35 PM.jpeg","alt",""],[1,"card__dates"],["type","button","value","Eliminar",1,"btnBlue"],["target","_blank",3,"href"],["type","button","value","Ver",1,"btnBlue","bg-blue"]],template:function(e,n){1&e&&(v(0,"div",0)(1,"div",1)(2,"h2"),N(3,"Periodico"),C()(),v(4,"div",2)(5,"section",3)(6,"form",4),ie("submit",function(i){return n.enviarForm(i,"periodicosDocs")}),v(7,"div",5)(8,"input",6),ie("change",function(i){return n.seleccionarArchivo(i)}),C()(),v(9,"div"),L(10,"input",7),C()()(),v(11,"section",8),Dc(12,xZ,10,2,"div",9),C()()()),2&e&&(ze(12),zn("ngForOf",n.listaPeriodicos))},dependencies:[Bc,Cp,pp,Ua],styles:['.div__modify[_ngcontent-%COMP%]{background-color:#e3e3e3;border-radius:10px;padding:20px 40px;box-shadow:0 0 10px #d6d6d6;margin:30px auto}.content__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:3px solid gray;margin:10px 0;padding-bottom:5px;font-family:Montserrat,sans-serif}.content__img[_ngcontent-%COMP%]{margin:20px 0;padding-bottom:0;display:flex;justify-content:center}.content__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:200px;object-fit:cover}.periodico__container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;margin:auto}.periodico__card[_ngcontent-%COMP%]{width:300px;display:flex;justify-content:center;align-items:center;flex-direction:column;border-radius:10px;box-shadow:0 0 10px #a5a5a5;margin:20px 10px}.periodico__card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:280px;height:200px;object-fit:cover;object-position:top;border-radius:10px;margin:10px}.card__dates[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%;align-items:center;font-family:lato,sans-serif;font-size:13px;padding:5px 0 15px}.btnBlue[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:14px;padding:10px 17px;position:relative;bottom:0;margin:0 5px;border-radius:5px;border:none;box-shadow:0 0 3px gray;border:2px solid white;background-color:#e7e7e7;cursor:pointer}.btnBlue[_ngcontent-%COMP%]:hover, .bg-blue[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.bg-blue[_ngcontent-%COMP%]:hover{background-color:#00b}.container__periodico--new[_ngcontent-%COMP%]{background-color:#00f;padding:10px 20px;border-radius:5px;display:flex;justify-content:space-between;align-items:center;font-family:"lato" sans-serif !;width:95%}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select[_ngcontent-%COMP%]:before{background-color:#e7e7e7;border:2px solid white;padding:0 10px;color:#000;font-family:Montserrat,sans-serif;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;padding:10px 25px;width:200px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Seleccionar Periodico"}.periodico__section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}@media (max-width:770px){.container__periodico--new[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;font-family:"lato" sans-serif !;width:80%}.container__periodico--new[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:10px 0}.periodico__container[_ngcontent-%COMP%]{padding:0}.div__modify[_ngcontent-%COMP%]{padding:20px 0;width:100%}.periodico__card[_ngcontent-%COMP%]{width:250px;display:flex;justify-content:center;align-items:center;flex-direction:column;border-radius:10px;box-shadow:0 0 10px #cecece;margin:20px 10px}.periodico__card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:240px;height:200px;object-fit:cover;object-position:top;border-radius:10px;margin:10px}.btnBlue[_ngcontent-%COMP%]{padding:10px}}']});class Il{}Il.\u0275fac=function(e){return new(e||Il)},Il.\u0275cmp=qt({type:Il,selectors:[["app-noticia-modify"]],decls:94,vars:0,consts:[[1,"div__modify"],[1,"content__title"],[1,"content__notice"],["name","","id",""],["type","file"],["type","text"],[1,"content__actions"],["type","button","value","Limpiar",1,"btnBlue"],["type","button","value","Visualizar",1,"btnBlue"],["type","button","value","Agregar",1,"btnBlue","bg-blue"],[1,"notice__container"],[1,"circle"],[1,"notice__title"],[1,"container__cards--notice"],[1,"card__notice"],[1,"card__notice--img"],["src","../../../assets/imgs/ayudaImgCard.jpg","alt",""],["src","../../../assets/imgs/fondoVoto.jpg","alt",""]],template:function(e,n){1&e&&(v(0,"div",0)(1,"div",1)(2,"h2"),N(3,"Noticia"),C()(),v(4,"div",2)(5,"table")(6,"tr")(7,"td")(8,"h3"),N(9,"Titulo*"),C()(),v(10,"td"),L(11,"textarea",3),C()(),v(12,"tr")(13,"td")(14,"h3"),N(15,"Introduccion*"),C()(),v(16,"td"),L(17,"textarea",3),C()(),v(18,"tr")(19,"td")(20,"h3"),N(21,"Cuerpo Noticia*"),C()(),v(22,"td"),L(23,"textarea",3),C()(),v(24,"tr")(25,"td")(26,"h3"),N(27,"Imagenes"),C()(),v(28,"td"),L(29,"input",4),C()(),v(30,"tr")(31,"td")(32,"h3"),N(33,"Video"),C()(),v(34,"td"),L(35,"input",5),C()()(),v(36,"div",6),L(37,"input",7)(38,"input",8)(39,"input",9),C()()(),v(40,"section",10),L(41,"div",11),v(42,"div",12)(43,"h2"),N(44,"Noticias"),C()(),v(45,"section",13)(46,"div",14)(47,"div",15),L(48,"img",16),C(),v(49,"div")(50,"h3"),N(51,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(52,"p"),N(53,"20 septimbre 2023"),C()()(),v(54,"div",14)(55,"div",15),L(56,"img",17),C(),v(57,"div")(58,"h3"),N(59,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(60,"p"),N(61,"20 septimbre 2023"),C()()(),v(62,"div",14)(63,"div",15),L(64,"img",16),C(),v(65,"div")(66,"h3"),N(67,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(68,"p"),N(69,"20 septimbre 2023"),C()()(),v(70,"div",14)(71,"div",15),L(72,"img",16),C(),v(73,"div")(74,"h3"),N(75,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(76,"p"),N(77,"20 septimbre 2023"),C()()(),v(78,"div",14)(79,"div",15),L(80,"img",16),C(),v(81,"div")(82,"h3"),N(83,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(84,"p"),N(85,"20 septimbre 2023"),C()()(),v(86,"div",14)(87,"div",15),L(88,"img",16),C(),v(89,"div")(90,"h3"),N(91,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(92,"p"),N(93,"20 septimbre 2023"),C()()()()())},styles:[".div__modify[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px 40px;box-shadow:0 0 10px #d6d6d6;margin:30px auto}.content__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:3px solid gray;margin:10px 0;padding-bottom:5px;font-family:Montserrat,sans-serif}.content__notice[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content__notice--section[_ngcontent-%COMP%]{display:flex;font-family:Lato,sans-serif}.content__notice[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 15px;border:2px solid gray;border-radius:5px;outline:none;min-width:50%;max-width:95%;font-family:Lato,sans-serif}.content__notice[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.content__notice[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:95%;outline:none;height:30px;padding:5px 15px;border:2px solid gray;margin:5px 0;border-radius:5px;font-family:Lato,sans-serif}.btnBlue[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:14px;padding:10px 17px;margin:5px;border-radius:5px;box-shadow:0 0 3px gray;border:2px solid white;background-color:#e7e7e7;cursor:pointer}.btnBlue[_ngcontent-%COMP%]:hover, .bg-blue[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.bg-blue[_ngcontent-%COMP%]:hover{background-color:#00b}.content__actions[_ngcontent-%COMP%]{display:flex;justify-content:right;flex-wrap:wrap}.notice__container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;max-width:1400px;margin:auto}.notice__title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:25px;padding:20px 0}.container__cards--notice[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.card__notice[_ngcontent-%COMP%]{background-color:#efefefab;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:10px;width:25%;border-radius:10px;box-shadow:0 0 10px gray;border-bottom:20px solid #ffffff;cursor:pointer;margin:15px 10px;position:relative;z-index:10}.card__notice[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_scales .1s;transform:scale(1.02);background-color:#fff}@keyframes _ngcontent-%COMP%_scales{0%{transform:scale(1)}to{transform:scale(1.02)}}.card__notice[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:5px;padding-bottom:10px}.card__notice[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:10px;font-family:Lato,sans-serif;border-top:3px solid black}.card__notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:12px;padding-top:10px}"]});class xl{constructor(){this.moduloDashboardMostrar="inicio",this.displayInicio="block",this.displayPeriodico="none",this.displayNoticia="none",this.modulo="inicio"}ngOnInit(){const e=document.getElementById("button-menu"),n=document.getElementById("nav");e.addEventListener("click",()=>{e.classList.toggle("close"),n.classList.toggle("show"),r.classList.toggle("displayNone")}),n.addEventListener("click",o=>{"nav"===o.target.id&&(n.classList.remove("show"),e.classList.remove("close"))});const r=document.getElementById("btn__create"),i=document.getElementById("div__create");r.addEventListener("click",()=>{r.classList.toggle("rotate"),r.classList.toggle("close"),i.classList.toggle("show")}),i.addEventListener("click",o=>{"div__create"===o.target.id&&(i.classList.remove("show"),r.classList.remove("close"))})}cambiarModuloDashboard(e){this.modulo=e,this.moduloDashboardMostrar=e,"inicio"==e?(this.displayInicio="block",this.displayPeriodico="none",this.displayNoticia="none"):"noticia"===e?(this.displayNoticia="block",this.displayInicio="none",this.displayPeriodico="none"):"periodico"===e&&(this.displayPeriodico="block",this.displayInicio="none",this.displayNoticia="none")}}xl.\u0275fac=function(e){return new(e||xl)},xl.\u0275cmp=qt({type:xl,selectors:[["app-dashboard"]],decls:34,vars:7,consts:[[1,"dashboard"],["id","btn__create",1,"dashboard__create--btn"],["id","div__create",1,"create__slide"],[1,"create__slide--content"],[3,"click"],[1,"dashboard__header"],[1,"dashboard__header--maxmedia"],[1,"moduloContainer"],[1,"main-header"],["id","nav",1,"main-nav"],[1,"nav-links"],["routerLink",""],["id","button-menu",1,"button-menu"],[1,"dashboard__content"]],template:function(e,n){1&e&&(v(0,"section",0)(1,"button",1),N(2,"+"),C(),v(3,"div",2)(4,"div",3)(5,"ul")(6,"li",4),ie("click",function(){return n.cambiarModuloDashboard("inicio")}),N(7,"Inicio"),C(),v(8,"li",4),ie("click",function(){return n.cambiarModuloDashboard("noticia")}),N(9,"Noticias"),C(),v(10,"li",4),ie("click",function(){return n.cambiarModuloDashboard("periodico")}),N(11,"Periodicos"),C()()()(),v(12,"section",5)(13,"div",6)(14,"div",7)(15,"h2"),N(16),C()(),v(17,"div")(18,"div",8)(19,"nav",9)(20,"div",10)(21,"ul")(22,"li"),N(23,"Configuracion"),C(),v(24,"li",11),N(25,"Cerrar Sesi\xf3n"),C()()()(),v(26,"button",12),L(27,"span")(28,"span")(29,"span"),C()()()()(),v(30,"section",13),L(31,"app-inicio-modifiy")(32,"app-noticia-modify")(33,"app-periodico-modify"),C()()),2&e&&(ze(16),Us(n.modulo),ze(15),Ic("display",n.displayInicio),ze(1),Ic("display",n.displayNoticia),ze(1),Ic("display",n.displayPeriodico))},dependencies:[Th,Dl,El,Il],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.dashboard__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#dedede;color:#000;position:fixed;top:0;width:100%;z-index:20;box-shadow:0 0 10px #454545;font-family:Lato,sans-serif;margin:0 auto}.dashboard__header--maxmedia[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;max-width:1400px;margin:auto;padding-left:25px}.moduloContainer[_ngcontent-%COMP%]{text-transform:capitalize}.header__menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.header__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 7px;list-style:none;cursor:pointer}.header__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){background-color:#454545;border-radius:20px;padding:5px 15px;color:#fff}.main-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.main-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100%;margin-left:100%;transition:all .3s ease;background-color:#1d1d1de3;z-index:380}.displayNone[_ngcontent-%COMP%]{display:none!important}.main-nav.show[_ngcontent-%COMP%]{margin-left:0}.nav-links[_ngcontent-%COMP%]{background-color:#fafafa;display:flex;flex-direction:column;width:35%;height:100%;align-items:center;justify-content:flex-start;border-radius:0 25px 25px 0/0 200px 200px 0}.nav-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin-top:30px}.nav-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;cursor:pointer;margin:35px 7px;font-size:22px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){background-color:#454545;border-radius:20px;padding:5px 15px!important;color:#fff}.button-menu[_ngcontent-%COMP%]{z-index:400;width:35px;height:35px;border:none;display:flex;background:none;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;padding-right:40px}.button-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:37px;height:4px;margin-bottom:5px;position:relative;background:#444444;border-radius:3px;transform-origin:5px 0px;transition:all .2s linear}.button-menu.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(0);background:#ffffff}.button-menu.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){transform:rotate(-45deg) translate(-8px,5px)}.button-menu.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){display:none}.dashboard__create--btn[_ngcontent-%COMP%]{z-index:300;border:none;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#00f;font-size:50px;height:50px;width:50px;position:fixed;bottom:0;margin:25px;right:0;color:#fff;border:3px solid white;padding:20px;border-radius:100px;box-shadow:0 0 8px #0b23ab}.dashboard__create--btn[_ngcontent-%COMP%]:hover{background-color:#0000b9}.create__slide[_ngcontent-%COMP%]{font-family:lato,sans-serif;position:fixed;top:0;left:0;height:100vh;width:100%;margin-left:-120%;transition:all .3s ease;background-color:#1d1d1dd4;z-index:200}.create__slide.show[_ngcontent-%COMP%]{margin-left:0}.create__slide--content[_ngcontent-%COMP%]{background-color:#eee;display:flex;flex-direction:column;width:34%;height:100%;position:absolute;right:0;align-items:center;justify-content:flex-start;border-radius:20px 0 0 20px/150px 0 0 150px}.create__slide--content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin-top:30px}.create__slide--content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;cursor:pointer;margin:35px 7px;font-size:22px}.dashboard__content[_ngcontent-%COMP%]{margin-top:70px;padding:0 50px;width:80%}@media (max-width:700px){.create__slide--content[_ngcontent-%COMP%]{width:75%}.nav-links[_ngcontent-%COMP%]{width:80%}.dashboard__content[_ngcontent-%COMP%]{margin-top:70px;padding:0;width:97%}}.displayModified[_ngcontent-%COMP%]{display:none}"]});class os{obtenerDocsPeriodicos(e){return w(function*(){let n=[];return(yield Mr.firestore().collection(e).get()).docs.map(i=>{n.push(i.data())}),console.log(n),n})()}constructor(){}}os.\u0275fac=function(e){return new(e||os)},os.\u0275prov=K({token:os,factory:os.\u0275fac,providedIn:"root"});class Qi{constructor(){this.emailCorreo=""}enviarCorreo(){fetch("https://formsubmit.co/ajax/"+this.emailCorreo,{method:"POST",body:JSON.stringify({horacio:"Bienvenido, ahora te encuentras subscrito a la pagina de horacio",mensaje:"Gracias por tu subscripcion, estaremos enviando contenido de valor"}),headers:{"Content-Type":"application/json"}}).then(r=>r.json()).catch(r=>console.error("Error:",r)).then(r=>{console.log("Success:",r),alert("correo enviado a el email:"+this.emailCorreo)})}}Qi.\u0275fac=function(e){return new(e||Qi)},Qi.\u0275cmp=qt({type:Qi,selectors:[["app-footer"]],decls:19,vars:1,consts:[[1,"footer__container"],[1,"contacto"],["href","https://www.instagram.com/horacioestradagil/"],["src","https://cdn-icons-png.flaticon.com/512/3955/3955024.png","alt","instagram"],["href","https://www.facebook.com/horacioestradagil/"],["src","https://cdn-icons-png.flaticon.com/512/145/145802.png","alt","facebook"],["href","https://twitter.com/HORACIOESTRADA"],["src","https://cdn-icons-png.flaticon.com/512/3670/3670151.png","alt","twitter"],[1,"politicas"],["type","email","name","emailCorreo",3,"ngModel","ngModelChange"],["type","submit",1,"btnBlue",3,"click"]],template:function(e,n){1&e&&(v(0,"footer")(1,"section",0)(2,"div",1)(3,"div")(4,"a",2),L(5,"img",3),C()(),v(6,"div")(7,"a",4),L(8,"img",5),C()(),v(9,"div")(10,"a",6),L(11,"img",7),C()()(),v(12,"div",8)(13,"form")(14,"h3"),N(15,"Subscribete para estar informado"),C(),v(16,"input",9),ie("ngModelChange",function(i){return n.emailCorreo=i}),C(),v(17,"button",10),ie("click",function(){return n.enviarCorreo()}),N(18,"Subscribirme"),C()()()()()),2&e&&(ze(16),zn("ngModel",n.emailCorreo))},dependencies:[Cp,dp,ZR,pp,tb,Ua],styles:[".footer__container[_ngcontent-%COMP%]{background-color:#2f2f2f;height:250px;padding:20px;display:flex;justify-content:space-evenly;align-items:center}.contacto[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}form[_ngcontent-%COMP%]{max-width:300px}.contacto[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55px;margin:5px 10px}.contacto[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_scale .3s ease;transform:scale(1.2)}@keyframes _ngcontent-%COMP%_scale{0%{transform:scale(1)}to{transform:scale(1.2)}}.politicas[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 30px;border-radius:5px;border:none;box-shadow:0 10px 5px #212121;margin-right:10px;margin-top:10px;border:2px solid white;outline:none;font-family:Montserrat,sans-serif;font-size:18px}.btnBlue[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:16px;padding:10px 30px;position:relative;bottom:0;border-radius:5px;border:none;box-shadow:0 0 3px gray;margin-top:20px;border:2px solid white;background-color:#e7e7e7;cursor:pointer;float:right}.btnBlue[_ngcontent-%COMP%]:hover{background-color:#00f;color:#fff}h3[_ngcontent-%COMP%]{color:#fff;font-family:Montserrat,sans-serif;max-width:300px;text-align:center}@media (max-width:660px){.footer__container[_ngcontent-%COMP%]{background-color:#2f2f2f;height:250px;margin-top:40px;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.contacto[_ngcontent-%COMP%]{margin:20px;cursor:pointer}.footer__container[_ngcontent-%COMP%]{height:auto}}"]});class Yi{constructor(){}cambiarUrl(e){console.log(location.href),location.href="https://marlong03.github.io/horacioPage/"+e}ngOnInit(){console.log(location),console.log(location.href);const e=document.getElementById("button-menu"),n=document.getElementById("nav");e.addEventListener("click",()=>{e.classList.toggle("close"),n.classList.toggle("show")}),n.addEventListener("click",r=>{"nav"===r.target.id&&(n.classList.remove("show"),e.classList.remove("close"))})}}function SZ(t,e){if(1&t&&(v(0,"div",35),L(1,"img",36),C()),2&t){const n=e.$implicit;ze(1),fi("src",n.url,Br)}}Yi.\u0275fac=function(e){return new(e||Yi)},Yi.\u0275cmp=qt({type:Yi,selectors:[["app-header"]],decls:20,vars:0,consts:[[1,"header__container"],[1,"header__maxmedia"],[1,"header__title"],[3,"click"],[1,"main-header"],["id","nav",1,"main-nav"],[1,"nav-links"],["id","button-menu",1,"button-menu"]],template:function(e,n){1&e&&(v(0,"header")(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),ie("click",function(){return n.cambiarUrl("")}),N(5,"Horacio Edil"),C()(),v(6,"div",4)(7,"nav",5)(8,"div",6)(9,"ul")(10,"li",3),ie("click",function(){return n.cambiarUrl("noticia")}),N(11,"Noticias"),C(),v(12,"li",3),ie("click",function(){return n.cambiarUrl("periodico")}),N(13,"Periodicos"),C(),v(14,"li",3),ie("click",function(){return n.cambiarUrl("")}),N(15,"Inicio"),C()()()(),v(16,"button",7),L(17,"span")(18,"span")(19,"span"),C()()()()())},styles:[".header__container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#dedede;color:#000;position:fixed;width:100%;z-index:20;box-shadow:0 0 10px #454545;font-family:Lato,sans-serif;margin:0 auto}.header__maxmedia[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;max-width:1400px;margin:auto}.header__menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.header__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 7px;list-style:none;cursor:pointer}.header__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){background-color:#454545;border-radius:20px;padding:5px 15px;color:#fff}.main-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}h1[_ngcontent-%COMP%]{cursor:pointer}.main-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100%;margin-left:100%;transition:all .3s ease;background-color:#1d1d1de3;z-index:200}.main-nav.show[_ngcontent-%COMP%]{margin-left:0}.nav-links[_ngcontent-%COMP%]{background-color:#fafafa;display:flex;flex-direction:column;width:70%;height:100%;align-items:center;justify-content:flex-start;border-radius:0 25px 25px 0/0 200px 200px 0}.nav-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin-top:30px}.nav-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;cursor:pointer;margin:35px 7px;font-size:22px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){background-color:#454545;border-radius:20px;padding:5px 15px!important;color:#fff}.button-menu[_ngcontent-%COMP%]{z-index:300;width:35px;height:35px;border:none;display:flex;background:none;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;padding-right:40px}.button-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:37px;height:4px;margin-bottom:5px;position:relative;background:#444444;border-radius:3px;transform-origin:5px 0px;transition:all .2s linear}.button-menu.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(0);background:#ffffff}.button-menu.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){transform:rotate(-45deg) translate(-8px,5px)}.button-menu.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){display:none}@media screen and (min-width:768px){.button-menu[_ngcontent-%COMP%]{display:none}.main-nav[_ngcontent-%COMP%]{position:static;margin-left:0;flex-basis:70%;height:100%;background-color:transparent}.nav-links[_ngcontent-%COMP%]{width:100%;display:flex;background-color:transparent}.nav-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:0;padding-right:10px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0!important;margin:0 7px!important;list-style:none;cursor:pointer;font-size:18px!important}}"]});class Sl{constructor(e,n){this.inicioCS=e,this.PeriodicoS=n,this.ultimoPeriodico="",this.listaImgsGalery=[],this.loader=!1}getUltimoPeriodico(){var e=this;return w(function*(){yield e.PeriodicoS.obtenerDocsPeriodicos("periodicosDocs").then(n=>{console.log(n[n.length-1]),e.ultimoPeriodico=n[n.length-1]})})()}getBanner(){var e=this;return w(function*(){yield e.inicioCS.obtenerDocs("imgBanner").then(n=>{e.urlImgBanner=n})})()}getGalery(){var e=this;return w(function*(){yield e.inicioCS.obtenerDocsImgsGalery("imgsGalery").then(n=>{e.listaImgsGalery=n})})()}cambiarUrl(e){console.log(location.href),location.href="https://marlong03.github.io/horacioPage/"+e}ejecutarcarrusel(){}ngOnInit(){this.getUltimoPeriodico(),this.ejecutarcarrusel(),this.getBanner(),this.getGalery()}}Sl.\u0275fac=function(e){return new(e||Sl)(S(ns),S(os))},Sl.\u0275cmp=qt({type:Sl,selectors:[["app-inicio"]],decls:81,vars:3,consts:[[1,"banner"],[1,"banner__maxmedia"],[1,"banner__img"],["alt","","id","imgBannerId",3,"src"],[1,"banner__text"],[1,"maquina-escribir"],[1,"container__numerales"],[1,"numeral__1"],[1,"numeral__2"],[1,"promo-periodico"],[1,"centrado"],["target","_blank",1,"hipervinculoUltimoPeriodico",3,"href"],[1,"btnDescargaPeriodicoActual"],["src","../../../assets/imgs/periodico.png","alt",""],[1,"mini__biografia"],[1,"circle"],[1,"mini__biografia--content"],[1,"quien-soy"],["type","button","value","Conoce su historia",1,"btnBlue",3,"click"],[1,"mini-biografia__img"],["src","https://firebasestorage.googleapis.com/v0/b/psicologiaconleila.appspot.com/o/horaciobanne2jpg.jpg?alt=media&token=1ab1aa19-d7b6-4c3d-9fd1-185cd3d11029","alt",""],[1,"carrousel__container"],[1,"carrusel"],[1,"carrusel-items"],["class","carrusel-item",4,"ngFor","ngForOf"],[1,"notice__container"],[1,"notice__title"],[1,"container__cards--notice",3,"click"],[1,"card__notice"],[1,"card__notice--img"],["src","https://firebasestorage.googleapis.com/v0/b/psicologiaconleila.appspot.com/o/pexels-edmond-dant%C3%A8s-7103129.jpg?alt=media&token=bdefaf7b-fada-4236-866b-bc3b637a925d","alt",""],[1,"card__notice",3,"click"],[1,"container__notice--btn",3,"click"],["type","button","value","M\xe1s noticias ",1,"btnBlue"],[1,"banner__footer"],[1,"carrusel-item"],["alt","",3,"src"]],template:function(e,n){1&e&&(L(0,"app-header"),v(1,"main")(2,"section",0)(3,"div",1)(4,"div",2),L(5,"img",3),C(),v(6,"div",4)(7,"div")(8,"h1",5),N(9,"HORACIO ESTRADA"),C(),v(10,"h2"),N(11,"Usaquen"),C(),v(12,"div",6)(13,"div",7)(14,"span"),N(15,"#Gestionconresultados"),C()(),v(16,"div",8)(17,"span"),N(18,"#Edilalbarrio"),C()()()()()()(),v(19,"div",9)(20,"div",10)(21,"a",11)(22,"button",12)(23,"div")(24,"h3"),N(25,"Descargar Periodico del mes"),C()(),v(26,"div"),L(27,"img",13),C()()()()(),v(28,"section",14),L(29,"div",15)(30,"div",15)(31,"div",15),v(32,"section",16)(33,"div",17)(34,"a")(35,"h2"),N(36,"\xbfQuien soy?"),C()(),v(37,"p"),N(38,"Es Periodista y actual Edil de Usaqu\xe9n. Su aspiraci\xf3n es dejar huella en la sociedad en la cual ha vivido 30 a\xf1os. Quiere dise\xf1ar una plataforma que vincule y defienda al denunciante, fomentar las escuelas de formaci\xf3n deportiva, la realizaci\xf3n de ferias de empleo y emprendimiento en Usaqu\xe9n."),C(),v(39,"input",18),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),C()(),v(40,"div",19)(41,"div"),L(42,"img",20),C()()()(),v(43,"section",21)(44,"div",22)(45,"div",23),Dc(46,SZ,2,1,"div",24),C()()(),v(47,"section",25),L(48,"div",15),v(49,"div",26)(50,"h2"),N(51,"Noticias"),C()(),v(52,"section",27),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(53,"div",28)(54,"div",29),L(55,"img",30),C(),v(56,"div")(57,"h3"),N(58,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(59,"p"),N(60,"20 septimbre 2023"),C()()(),v(61,"div",31),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(62,"div",29),L(63,"img",30),C(),v(64,"div")(65,"h3"),N(66,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(67,"p"),N(68,"20 septimbre 2023"),C()()(),v(69,"div",31),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(70,"div",29),L(71,"img",30),C(),v(72,"div")(73,"h3"),N(74,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(75,"p"),N(76,"20 septimbre 2023"),C()()()(),v(77,"div",32),ie("click",function(){return n.cambiarUrl("noticia")}),L(78,"input",33),C()(),L(79,"section",34),C(),L(80,"app-footer")),2&e&&(ze(5),zn("src",n.urlImgBanner,Br),ze(16),fi("href",n.ultimoPeriodico.url,Br),ze(25),zn("ngForOf",n.listaImgsGalery))},dependencies:[Bc,Qi,Yi],styles:['.container__whatsapp[_ngcontent-%COMP%]{position:fixed;z-index:50;bottom:0;right:0;padding:30px}.container__whatsapp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;box-shadow:0 0 10px gray;border-radius:100%;border:2px solid transparent;padding:5px;cursor:pointer}.banner[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;align-items:center;justify-content:space-between;background-color:#2f2f2f;max-height:700px;margin:auto}.banner__maxmedia[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;align-items:center;justify-content:space-between;max-width:1400px;margin:auto;max-height:700px}.banner__img[_ngcontent-%COMP%]{width:52%;height:100%}.banner__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;filter:brightness(.9)}.banner__text[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;align-items:center;flex-direction:column;width:45%;height:100%;padding:10px;margin:auto}.banner__text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px;background-color:#fff;padding:0 10px;color:#000;border-radius:5px;box-shadow:0 0 10px #0a0a0a;font-family:Montserrat,sans-serif}.maquina-escribir[_ngcontent-%COMP%]{background-color:transparent;position:relative;display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.maquina-escribir[_ngcontent-%COMP%]:after{content:"";background-color:#fff;right:0;height:80%;position:absolute;animation:_ngcontent-%COMP%_maquinaescribir 3s 1 steps(14);animation-delay:1s}@keyframes _ngcontent-%COMP%_maquinaescribir{0%{border-left:4px solid #000000;width:100%}30%{border-left:4px solid #000000;width:80%}50%{border-left:4px solid #000000;width:75%}70%{border-left:4px solid #000000;width:30%}to{width:0%;border-left:3px solid transparent}}.banner__text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:27px;font-weight:100;font-family:Montserrat,sans-serif}.container__numerales[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:7px 10px;color:#fff}.container__numerales[_ngcontent-%COMP%]{display:flex;margin-top:30px;justify-content:center;font-family:Lato,sans-serif;font-size:25px}.numeral__2[_ngcontent-%COMP%]{margin-top:27px}.numeral__1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#00f;border-right:3px solid white}.numeral__2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:red;border-left:3px solid white;margin-left:-3px}.promo-periodico[_ngcontent-%COMP%]   .btnDescargaPeriodicoActual[_ngcontent-%COMP%]{padding:30px 40px;border-radius:10px;border:white;background:blue;color:#fff;font-weight:700;font-size:25px;font-family:Montserrat,sans-serif}.promo-periodico[_ngcontent-%COMP%]   .btnDescargaPeriodicoActual[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{max-width:300px}.promo-periodico[_ngcontent-%COMP%]{padding-top:300px;position:relative;display:flex;text-align:center;width:100%;background:linear-gradient(#ecebff,white)}.centrado[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.centrado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid white;width:30px;padding:5px;border-radius:10px;margin-left:10px}.promo-periodico[_ngcontent-%COMP%]   .centrado[_ngcontent-%COMP%]   .btnDescargaPeriodicoActual[_ngcontent-%COMP%]{box-shadow:0 0 10px #646464;cursor:pointer;border:3px solid white;display:flex;justify-content:center;align-items:center}.promo-periodico[_ngcontent-%COMP%]   .centrado[_ngcontent-%COMP%]   .btnDescargaPeriodicoActual[_ngcontent-%COMP%]:hover{background-color:#1818b8;color:#fff}.hipervinculoUltimoPeriodico[_ngcontent-%COMP%]{border:none;color:#fff;text-decoration:none;outline-style:none}.quien-soy[_ngcontent-%COMP%]{font-family:Lato,sans-serif;padding:30px;margin-right:20px;border-radius:10px;font-size:20px;position:relative;z-index:10;text-align:center;width:500px;line-height:35px}.quien-soy[_ngcontent-%COMP%]{background-color:#eaeaea92;color:#000}.quien-soy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .me-dedico[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;text-align:center;margin-bottom:20px;font-size:40px;border-bottom:4px solid red;padding-bottom:20px}.mini__biografia[_ngcontent-%COMP%]{padding:0 20px;position:relative;max-width:1400px;margin:auto}.mini-biografia__img[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50%;position:relative;z-index:10}.mini-biografia__img[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:450px;border-radius:10px}.mini__biografia--content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.mini__biografia[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .notice__container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:100px;filter:blur(90px);position:absolute}.mini__biografia[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(1), .notice__container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(1){background-color:#0000ff81;top:80%;right:70%}.mini__biografia[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(2), .notice__container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(2){background-color:red;top:20%;right:10%}.carrousel__container[_ngcontent-%COMP%]{padding-top:40px;display:flex;justify-content:center;align-items:center;margin:auto}.carrousel__container[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{width:50px;border:none;box-shadow:0 0 5px gray;height:50px;border-radius:100px;cursor:pointer;font-size:25px;color:#fff;position:relative;z-index:10;border:3px solid white}.carrousel__container[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{border:3px solid #e20000}.carrousel__container[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:nth-child(1){background-color:#2f2f2f}.carrousel__container[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:nth-child(5){background-color:#2f2f2f}.carrousel[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow-x:hidden;max-width:600px}.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{min-width:200px;max-height:200px;box-shadow:0 0 10px gray;border-radius:10px;margin:20px 10px;position:relative;z-index:10;width:300px;height:220px}.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:200px;height:200px}.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){width:200px;height:200px}.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){width:200px;height:200px}.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center;border-radius:10px}.notice__container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px;max-width:1400px;margin:auto}.notice__title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:25px;padding:20px 0}.container__cards--notice[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.card__notice[_ngcontent-%COMP%]{background-color:#efefefab;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:10px;width:25%;border-radius:10px;box-shadow:0 0 10px gray;border-bottom:20px solid #ffffff;cursor:pointer;margin:20px;position:relative;z-index:10}.card__notice[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_scales .1s;transform:scale(1.02);background-color:#fff}@keyframes _ngcontent-%COMP%_scales{0%{transform:scale(1)}to{transform:scale(1.02)}}.card__notice[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:5px;padding-bottom:10px}.card__notice[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:10px;font-family:Lato,sans-serif;border-top:3px solid black}.card__notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:12px;padding-top:10px}.notice__container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(1){background-color:#ff000074;top:50%;right:50%}.container__notice--btn[_ngcontent-%COMP%]{display:flex;justify-content:center}.btnBlue[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:18px;padding:15px 30px;position:relative;bottom:0;border-radius:5px;border:none;box-shadow:0 0 3px gray;margin-top:20px;border:2px solid white;background-color:#e7e7e7;cursor:pointer}.btnBlue[_ngcontent-%COMP%]:hover{background-color:#00f;color:#fff}.carrousel__container[_ngcontent-%COMP%]{max-width:800px}.carrusel[_ngcontent-%COMP%]{display:flex;align-items:center;overflow-y:hidden}.carrusel-items[_ngcontent-%COMP%]{display:flex;overflow-x:scroll;padding:50px 0}.carrusel-item[_ngcontent-%COMP%]{min-width:250px;max-width:250px;height:250px;box-shadow:0 0 5px gray;cursor:pointer;margin:10px;border-radius:10px}.carrusel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.carrusel-item[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_scalar .3s;transform:scale(1.15)}@keyframes _ngcontent-%COMP%_scalar{0%{transform:scale(1)}to{transform:scale(1.15)}}','@media (max-width:900px){.banner[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover}.banner__text[_ngcontent-%COMP%]{width:100%}.banner__text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:27px;font-weight:100;font-family:Montserrat,sans-serif;text-shadow:0px 0px 10px #525252}.banner__img[_ngcontent-%COMP%]{width:0}.banner__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;filter:brightness(.9);display:none}}@media (max-width:800px){.notice__container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px}.card__notice[_ngcontent-%COMP%]{width:40%}}@media (max-width:660px){.promo-periodico[_ngcontent-%COMP%]   .btnDescargaPeriodicoActual[_ngcontent-%COMP%]{width:80%;margin:auto}.centrado[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.mini__biografia[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.quien-soy[_ngcontent-%COMP%], .me-dedico[_ngcontent-%COMP%]{width:80%}.mini__biografia[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(1), .notice__container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(1){top:80%;right:20%}.mini__biografia[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(2), .notice__container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(2){background-color:red;top:20%;right:50%}.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){display:none}.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){width:250px;height:250px}.container__cards--notice[_ngcontent-%COMP%]{flex-direction:column}.card__notice[_ngcontent-%COMP%]{width:80%!important}}@media (max-width:523px){.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){display:none}.mini-biografia__img[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:280px}.carrousel[_ngcontent-%COMP%]{max-width:300px!important}}@media (max-width:430px){.carrousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){width:200px;height:200px}.carrousel__container[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{width:38px!important;height:70px!important}.banner__text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;text-align:center;padding:0}.maquina-escribir[_ngcontent-%COMP%]:after{content:"";background-color:#fff;right:0;height:80%;position:absolute;animation-delay:.8s}.container__numerales[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Lato,sans-serif}.numeral__2[_ngcontent-%COMP%]{margin-top:20px;cursor:pointer}}@media (max-width:320px){.carrousel__container[_ngcontent-%COMP%]{display:none}.btnBlue[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:18px;padding:15px 20px;position:relative;bottom:0;border-radius:5px;border:none;box-shadow:0 0 3px gray;margin-top:20px;border:2px solid white;background-color:#e7e7e7;cursor:pointer}.promo-periodico[_ngcontent-%COMP%]   .btnDescargaPeriodicoActual[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.promo-periodico[_ngcontent-%COMP%]   .btnDescargaPeriodicoActual[_ngcontent-%COMP%]{width:90%}}']});class Tl{constructor(){this.titleDetalleNoticia="Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio!"}cambiarUrl(e){console.log(location.href),location.href=location.href+e}}Tl.\u0275fac=function(e){return new(e||Tl)},Tl.\u0275cmp=qt({type:Tl,selectors:[["app-detalle-noticia"]],decls:23,vars:0,consts:[[1,"detalle__banner"],[1,"notice__content"],[1,"notice__introduction"],[1,"notice__img"],["src","../../../../assets/imgs/banner1.jpg","alt",""],[1,"notice__content--text"],["type","button","value","Volver",1,"btnBlue",3,"click"]],template:function(e,n){1&e&&(L(0,"app-header"),v(1,"section",0)(2,"div")(3,"p"),N(4,"Noticia | 12 Feb 2022"),C()(),v(5,"div")(6,"h2"),N(7,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi aut nobis quibusdam iste soluta illo esse corporis a. A, nam."),C()()(),v(8,"section",1)(9,"div",2),N(10," Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! "),C(),v(11,"div",3),L(12,"img",4),C(),v(13,"div",5),N(14," Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! "),L(15,"br")(16,"br"),N(17," Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! "),L(18,"br")(19,"br"),N(20," Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! isicing elit. Dolorem sunt non hic dolor rem neque asperiores odio, id libero distinctio! "),v(21,"input",6),ie("click",function(){return n.cambiarUrl("noticia")}),C()()(),L(22,"app-footer"))},dependencies:[Qi,Yi],styles:[".detalle__banner[_ngcontent-%COMP%]{background-color:#3a3a3a;height:300px;display:flex;justify-content:center;flex-direction:column;align-items:center;padding-top:30px}.detalle__banner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:70%;color:#fff;max-width:1400px}.detalle__banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:28px}.detalle__banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:lato,sans-serif;margin:10px 0;padding:10px 0;border-bottom:4px solid red}.notice__content[_ngcontent-%COMP%]{margin-top:15px;padding-top:20px}.notice__introduction[_ngcontent-%COMP%], .notice__content--text[_ngcontent-%COMP%]{font-family:lato,sans-serif;display:flex;justify-content:center;flex-wrap:wrap;max-width:1400px;margin:auto;padding:10px 150px;font-size:20px;line-height:30px}.notice__img[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px 0}.notice__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;height:450px;object-position:top;object-fit:cover;max-width:1400px;margin:auto}.btnBlue[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:18px;padding:10px 17px;position:relative;bottom:0;margin:40px 0 0;border-radius:5px;border:none;box-shadow:0 0 3px gray;border:2px solid white;background-color:#e7e7e7;cursor:pointer}.btnBlue[_ngcontent-%COMP%]:hover{background-color:#00f;color:#fff}@media (max-width:1000px){.detalle__banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:23px}.notice__introduction[_ngcontent-%COMP%], .notice__content--text[_ngcontent-%COMP%]{padding:10px 30px}.notice__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;height:90%;object-position:top;object-fit:cover;max-width:1400px;margin:auto}}"]});class ja{constructor(){this.title=""}}ja.\u0275fac=function(e){return new(e||ja)},ja.\u0275cmp=qt({type:ja,selectors:[["app-banner-default"]],inputs:{title:"title"},decls:4,vars:1,consts:[[1,"periodico__banner"]],template:function(e,n){1&e&&(v(0,"section",0)(1,"div")(2,"h1"),N(3),C()()()),2&e&&(ze(3),Us(n.title))},styles:[".periodico__banner[_ngcontent-%COMP%]{background:url(banner1.ec6e7b3c57effdd3.jpg);background-position:top;background-size:cover;height:100vh;max-height:300px;position:relative;display:flex;justify-content:center;align-items:center}.periodico__banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:45px;color:#fff;text-shadow:0px 0px 10px #080808;margin-top:30px;letter-spacing:3px;-webkit-backdrop-filter:invert(20%);backdrop-filter:invert(20%);padding:5px 15px;border-radius:10px}"]});class Ml{constructor(){this.titleNoticia="Noticias"}cambiarUrl(e){console.log(location.href),location.href="https://marlong03.github.io/horacioPage/"+e}}function TZ(t,e){if(1&t&&(v(0,"div",3)(1,"div",4),L(2,"img",5),C(),v(3,"div",6)(4,"div"),N(5),C(),v(6,"div")(7,"a",7),L(8,"input",8),C()()()()),2&t){const n=e.$implicit;ze(5),Us(n.fecha),ze(2),fi("href",n.url,Br)}}Ml.\u0275fac=function(e){return new(e||Ml)},Ml.\u0275cmp=qt({type:Ml,selectors:[["app-noticia"]],decls:77,vars:1,consts:[[3,"title"],["id","banner-id",1,"notice__container"],[1,"container__cards--notice"],[1,"card__notice",3,"click"],[1,"card__notice--img"],["src","https://firebasestorage.googleapis.com/v0/b/psicologiaconleila.appspot.com/o/pexels-edmond-dant%C3%A8s-7103129.jpg?alt=media&token=bdefaf7b-fada-4236-866b-bc3b637a925d","alt",""]],template:function(e,n){1&e&&(L(0,"app-header")(1,"app-banner-default",0),v(2,"section",1)(3,"section",2)(4,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(5,"div",4),L(6,"img",5),C(),v(7,"div")(8,"h3"),N(9,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(10,"p"),N(11,"20 septimbre 2023"),C()()(),v(12,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(13,"div",4),L(14,"img",5),C(),v(15,"div")(16,"h3"),N(17,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(18,"p"),N(19,"20 septimbre 2023"),C()()(),v(20,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(21,"div",4),L(22,"img",5),C(),v(23,"div")(24,"h3"),N(25,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(26,"p"),N(27,"20 septimbre 2023"),C()()(),v(28,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(29,"div",4),L(30,"img",5),C(),v(31,"div")(32,"h3"),N(33,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(34,"p"),N(35,"20 septimbre 2023"),C()()(),v(36,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(37,"div",4),L(38,"img",5),C(),v(39,"div")(40,"h3"),N(41,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(42,"p"),N(43,"20 septimbre 2023"),C()()(),v(44,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(45,"div",4),L(46,"img",5),C(),v(47,"div")(48,"h3"),N(49,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(50,"p"),N(51,"20 septimbre 2023"),C()()(),v(52,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(53,"div",4),L(54,"img",5),C(),v(55,"div")(56,"h3"),N(57,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(58,"p"),N(59,"20 septimbre 2023"),C()()(),v(60,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(61,"div",4),L(62,"img",5),C(),v(63,"div")(64,"h3"),N(65,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(66,"p"),N(67,"20 septimbre 2023"),C()()(),v(68,"div",3),ie("click",function(){return n.cambiarUrl("noticia/detalle")}),v(69,"div",4),L(70,"img",5),C(),v(71,"div")(72,"h3"),N(73,"Docentes del Cauca montaron cambuches y se tomaron la entrada del Congreso: las im\xe1genes son ins\xf3litas "),C(),v(74,"p"),N(75,"20 septimbre 2023"),C()()()()(),L(76,"app-footer")),2&e&&(ze(1),zn("title",n.titleNoticia))},dependencies:[Qi,Yi,ja],styles:[".notice__container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px;max-width:1400px;margin:auto}.notice__title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:25px;padding:20px 0}.container__cards--notice[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.card__notice[_ngcontent-%COMP%]{background-color:#efefefab;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:10px;width:25%;border-radius:10px;box-shadow:0 0 10px #a9a9a9;border-bottom:20px solid #ffffff;cursor:pointer;margin:10px 15px;position:relative;z-index:10;min-width:250px}.card__notice[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_scales .1s;transform:scale(1.02);background-color:#fff}@keyframes _ngcontent-%COMP%_scales{0%{transform:scale(1)}to{transform:scale(1.02)}}.card__notice[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:5px;padding-bottom:10px}.card__notice[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:10px;font-family:Lato,sans-serif;border-top:3px solid black}.card__notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:12px;padding-top:10px}.notice__container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:nth-child(1){background-color:#ff000074;top:50%;right:50%}.container__notice--btn[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});class Al{constructor(e){this.PeriodicoS=e,this.titlePeriodico="Periodico"}getPeriodicos(){this.PeriodicoS.obtenerDocsPeriodicos("periodicosDocs").then(e=>{this.listaPeriodicos=e,console.log(this.listaPeriodicos[this.listaPeriodicos.length-1]),console.log()})}ngOnInit(){this.getPeriodicos()}}Al.\u0275fac=function(e){return new(e||Al)(S(os))},Al.\u0275cmp=qt({type:Al,selectors:[["app-periodico"]],decls:5,vars:2,consts:[[3,"title"],[1,"periodico__container"],["class","periodico__card",4,"ngFor","ngForOf"],[1,"periodico__card"],[1,"periodico__card--img"],["src","https://firebasestorage.googleapis.com/v0/b/psicologiaconleila.appspot.com/o/WhatsApp%20Image%202023-02-16%20at%2010.52.35%20PM.jpeg?alt=media&token=57a73c08-0491-4a56-a1d6-65f77426e064","alt",""],[1,"card__dates"],["target","_blank",3,"href"],["type","button","value","Ver",1,"btnBlue","bg-blue"]],template:function(e,n){1&e&&(L(0,"app-header")(1,"app-banner-default",0),v(2,"section",1),Dc(3,TZ,9,2,"div",2),C(),L(4,"app-footer")),2&e&&(ze(1),zn("title",n.titlePeriodico),ze(2),zn("ngForOf",n.listaPeriodicos))},dependencies:[Bc,Qi,Yi,ja],styles:[".periodico__container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;padding:30px 40px;max-width:1400px;margin:auto}.periodico__card[_ngcontent-%COMP%]{width:300px;display:flex;justify-content:center;align-items:center;flex-direction:column;border-radius:10px;box-shadow:0 0 20px #adadad;margin:20px 10px}.periodico__card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:280px;height:200px;object-fit:cover;object-position:top;border-radius:10px;margin:10px}.card__dates[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%;align-items:center;font-family:lato,sans-serif;font-size:13px;padding:5px 0 15px}.btnBlue[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:14px;padding:10px 17px;position:relative;bottom:0;margin:0 5px;border-radius:5px;border:none;box-shadow:0 0 3px gray;border:2px solid white;background-color:#e7e7e7;cursor:pointer}.btnBlue[_ngcontent-%COMP%]:hover, .bg-blue[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.bg-blue[_ngcontent-%COMP%]:hover{background-color:#00b}"]});const MZ=[{path:"",component:Sl},{path:"periodico",component:Al},{path:"noticia",component:Ml},{path:"noticia/detalle",component:Tl},{path:"dashboard",component:xl}];class $a{}$a.\u0275fac=function(e){return new(e||$a)},$a.\u0275mod=or({type:$a}),$a.\u0275inj=Bn({imports:[IM.forRoot(MZ),IM]});class Ol{constructor(){this.title="horacioPage"}}Ol.\u0275fac=function(e){return new(e||Ol)},Ol.\u0275cmp=qt({type:Ol,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){1&e&&L(0,"router-outlet")},dependencies:[Zy]});class Ha{}Ha.\u0275fac=function(e){return new(e||Ha)},Ha.\u0275mod=or({type:Ha,bootstrap:[Ol]}),Ha.\u0275inj=Bn({imports:[rG,$a,EZ]}),nG().bootstrapModule(Ha).catch(t=>console.error(t))}},Dp=>{Dp(Dp.s=852)}]);